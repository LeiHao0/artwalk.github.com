<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/vi/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/vi/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/vi/images/logo.png">
  <link rel="mask-icon" href="/vi/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="rbaH_zC-qBwXaawJ10Mno3FHzv9HRFHGFdXx2f1BwyI">

<link rel="stylesheet" href="/vi/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">

<script data-ad-client="ca-pub-2317298287519457" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"leihao0.github.io","root":"/vi/","scheme":"Pisces","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Äang tÃ¬m...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/vi/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="ná»™i dung nghiÃªn cá»©u   Äá»c NTFS MFT  XÃ¢y dá»±ng báº£ng bÄƒm  ÄÆ°á»ng dáº«n há»‡ thá»‘ng cá»§a tá»‡p  GUI vÃ  luá»“ng cÃ´ng nhÃ¢n  Nhiá»u phÆ°Æ¡ng phÃ¡p tÃ¬m kiáº¿m  Giao diá»‡n MFC   káº¿ hoáº¡ch nghiÃªn cá»©u   Äáº§u thÃ¡ng 4 Ä‘áº¿n giá»¯a thÃ¡ng">
<meta property="og:type" content="article">
<meta property="og:title" content="NguyÃªn lÃ½ vÃ  hiá»‡n thá»±c hÃ³a má»i thá»©">
<meta property="og:url" content="https://leihao0.github.io/vi/QSearch/index.html">
<meta property="og:site_name" content="LeiHao&#39;s Blog">
<meta property="og:description" content="ná»™i dung nghiÃªn cá»©u   Äá»c NTFS MFT  XÃ¢y dá»±ng báº£ng bÄƒm  ÄÆ°á»ng dáº«n há»‡ thá»‘ng cá»§a tá»‡p  GUI vÃ  luá»“ng cÃ´ng nhÃ¢n  Nhiá»u phÆ°Æ¡ng phÃ¡p tÃ¬m kiáº¿m  Giao diá»‡n MFC   káº¿ hoáº¡ch nghiÃªn cá»©u   Äáº§u thÃ¡ng 4 Ä‘áº¿n giá»¯a thÃ¡ng">
<meta property="og:locale" content="vi_VN">
<meta property="article:published_time" content="2012-05-26T14:44:42.000Z">
<meta property="article:modified_time" content="2020-12-20T23:53:08.680Z">
<meta property="article:author" content="LeiHao">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="Everything">
<meta property="article:tag" content="NTFS">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://leihao0.github.io/vi/QSearch/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'vi'
  };
</script>

  <title>NguyÃªn lÃ½ vÃ  hiá»‡n thá»±c hÃ³a má»i thá»© | LeiHao's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-159363268-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-159363268-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?25f016f633270b8e0baf56c4fe6f2dc1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/vi/atom.xml" title="LeiHao's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Thanh Ä‘iá»u hÆ°á»›ng chuyá»ƒn Ä‘á»•i">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/vi/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">LeiHao's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/vi/" rel="section"><i class="fa fa-home fa-fw"></i>Trang Chá»§</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/vi/about/" rel="section"><i class="fa fa-user fa-fw"></i>Giá»›i Thiá»‡u</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/vi/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>LÆ°u Trá»¯</a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/vi/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>TÃ¬m Kiáº¿m
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Äang tÃ¬m..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Má»¥c Lá»¥c
        </li>
        <li class="sidebar-nav-overview">
          Tá»•ng Quan
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Vi-tri-nhanh-chong-cua-cac-tep-dia-NTFS"><span class="nav-number">1.</span> <span class="nav-text">Vá»‹ trÃ­ nhanh chÃ³ng cá»§a cÃ¡c tá»‡p Ä‘Ä©a NTFS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Gioi-thieu"><span class="nav-number">1.1.</span> <span class="nav-text">1. Giá»›i thiá»‡u</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Gioi-thieu-ngan-gon-ve-NTFS"><span class="nav-number">1.2.</span> <span class="nav-text">2 Giá»›i thiá»‡u ngáº¯n gá»n vá» NTFS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-NTFS"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 NTFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Thuc-trang"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 Thá»±c tráº¡ng</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Chuan-bi"><span class="nav-number">1.3.</span> <span class="nav-text">3 Chuáº©n bá»‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-Y-tuong-thiet-ke"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 Ã tÆ°á»Ÿng thiáº¿t káº¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-USN-la-gi"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 USN lÃ  gÃ¬</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-Tai-sao-no-nhanh"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 Táº¡i sao nÃ³ nhanh</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-Moi-truong"><span class="nav-number">1.3.4.</span> <span class="nav-text">3.4 MÃ´i trÆ°á»ng</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Thuc-hien-chuong-trinh"><span class="nav-number">1.4.</span> <span class="nav-text">4 Thá»±c hiá»‡n chÆ°Æ¡ng trÃ¬nh</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-Doc-USN"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 Äá»c USN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-Xac-dinh-dinh-dang-dia"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">4.1.1 XÃ¡c Ä‘á»‹nh Ä‘á»‹nh dáº¡ng Ä‘Ä©a</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-Lay-tay-cam-dia-o-dia"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">4.1.2 Láº¥y tay cáº§m Ä‘Ä©a á»• Ä‘Ä©a</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-3-Khoi-tao-nhat-ky-USN"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">4.1.3 Khá»Ÿi táº¡o nháº­t kÃ½ USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-4-Nhan-thong-tin-nhat-ky-USN"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">4.1.4 Nháº­n thÃ´ng tin nháº­t kÃ½ USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-5-Lay-thong-tin-tep-USN-Journal"><span class="nav-number">1.4.1.5.</span> <span class="nav-text">4.1.5 Láº¥y thÃ´ng tin tá»‡p USN Journal</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-6-Xoa-tep-nhat-ky-USN"><span class="nav-number">1.4.1.6.</span> <span class="nav-text">4.1.6 XÃ³a tá»‡p nháº­t kÃ½ USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-7-Ket-qua-liet-ke-tat-ca-cac-tep"><span class="nav-number">1.4.1.7.</span> <span class="nav-text">4.1.7 Káº¿t quáº£ liá»‡t kÃª táº¥t cáº£ cÃ¡c tá»‡p</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-Xay-dung-du-lieu-tim-kiem"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 XÃ¢y dá»±ng dá»¯ liá»‡u tÃ¬m kiáº¿m</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-Vec-to-xay-dung"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">4.2.1 VÃ©c tÆ¡ xÃ¢y dá»±ng</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-Xay-dung-bang-bam"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">4.2.2 XÃ¢y dá»±ng báº£ng bÄƒm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-3-Chen-du-lieu"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">4.2.3 ChÃ¨n dá»¯ liá»‡u:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-Giao-dien"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 Giao diá»‡n</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-Nguyen-tac-KISS"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">4.3.1 NguyÃªn táº¯c KISS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-2-Chuc-nang"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">4.3.2 Chá»©c nÄƒng</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-Tham-gia-chuoi"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 Tham gia chuá»—i</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-1-Tai-sao-phai-tham-gia-chuoi"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">4.4.1 Táº¡i sao pháº£i tham gia chuá»—i</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-2-Bat-dau-mot-chuoi-Worker-trong-MFC"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">4.4.2 Báº¯t Ä‘áº§u má»™t chuá»—i Worker trong MFC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-3-Thu-nho-vung-thong-bao"><span class="nav-number">1.4.4.3.</span> <span class="nav-text">4.4.3 Thu nhá» vÃ¹ng thÃ´ng bÃ¡o</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-Tim"><span class="nav-number">1.4.5.</span> <span class="nav-text">4.5 TÃ¬m</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-1-Ky-tu-dai-dien"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">4.5.1 KÃ½ tá»± Ä‘áº¡i diá»‡n</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-2-Truong-hop-don-dat-hang"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">4.5.2 TrÆ°á»ng há»£p, Ä‘Æ¡n Ä‘áº·t hÃ ng</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-3-Quyen-rieng-tu-cua-nguoi-dung-va-duong-dan-he-thong"><span class="nav-number">1.4.5.3.</span> <span class="nav-text">4.5.3 Quyá»n riÃªng tÆ° cá»§a ngÆ°á»i dÃ¹ng vÃ  Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-4-Thuc-hien"><span class="nav-number">1.4.5.4.</span> <span class="nav-text">4.5.4 Thá»±c hiá»‡n</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-5-Dau-ra-duong-dan"><span class="nav-number">1.4.5.5.</span> <span class="nav-text">4.5.5 Äáº§u ra Ä‘Æ°á»ng dáº«n</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Phan-tich-do-phuc-tap"><span class="nav-number">1.5.</span> <span class="nav-text">5 PhÃ¢n tÃ­ch Ä‘á»™ phá»©c táº¡p</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Do-phuc-tap-ve-thoi-gian"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 Äá»™ phá»©c táº¡p vá» thá»i gian</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Do-phuc-tap-ve-khong-gian"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 Äá»™ phá»©c táº¡p vá» khÃ´ng gian</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-Su-co-gap-phai"><span class="nav-number">1.6.</span> <span class="nav-text">6 Sá»± cá»‘ gáº·p pháº£i</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-Khong-the-khoi-tao-tep-USN"><span class="nav-number">1.6.1.</span> <span class="nav-text">6.1 KhÃ´ng thá»ƒ khá»Ÿi táº¡o tá»‡p USN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-Van-de-wchar-va-char-duoi-unicode"><span class="nav-number">1.6.2.</span> <span class="nav-text">6.2 Váº¥n Ä‘á» wchar vÃ  char dÆ°á»›i unicode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-van-de-ve-vi-tri-ifdef"><span class="nav-number">1.6.3.</span> <span class="nav-text">6.3 # váº¥n Ä‘á» vá» vá»‹ trÃ­ #ifdef</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-Chuyen-tham-so"><span class="nav-number">1.6.4.</span> <span class="nav-text">6.4 Chuyá»ƒn tham sá»‘</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-toi-uu-hoa-nho"><span class="nav-number">1.7.</span> <span class="nav-text">7 tá»‘i Æ°u hÃ³a nhá»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-Toc-do-doc"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 Tá»‘c Ä‘á»™ Ä‘á»c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-Phuong-phap-mo-tep"><span class="nav-number">1.7.2.</span> <span class="nav-text">7.2 PhÆ°Æ¡ng phÃ¡p má»Ÿ tá»‡p</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-Thanh-tien-trinh"><span class="nav-number">1.7.3.</span> <span class="nav-text">7.3 Thanh tiáº¿n trÃ¬nh</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-Ket-luan"><span class="nav-number">2.</span> <span class="nav-text">8 Káº¿t luáº­n</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#nguoi-gioi-thieu"><span class="nav-number">3.</span> <span class="nav-text">ngÆ°á»i giá»›i thiá»‡u</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Tom-tat-tieng-anh"><span class="nav-number">4.</span> <span class="nav-text">TÃ³m táº¯t tiáº¿ng anh</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">LeiHao</p>
  <div class="site-description" itemprop="description">ğŸ˜ƒğŸ˜ƒğŸ˜ƒ</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/vi/archives/">
        
          <span class="site-state-item-count">159</span>
          <span class="site-state-item-name">bÃ i viáº¿t</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/vi/tags/">
        <span class="site-state-item-count">80</span>
        <span class="site-state-item-name">tháº»</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/leihao0" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/leihao0" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/leihao0" title="Linkedin â†’ https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" class="cc-opacity" rel="noopener" target="_blank"><img src="/vi/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="vi">
    <link itemprop="mainEntityOfPage" href="https://leihao0.github.io/vi/QSearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/vi/images/avatar.gif">
      <meta itemprop="name" content="LeiHao">
      <meta itemprop="description" content="ğŸ˜ƒğŸ˜ƒğŸ˜ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeiHao's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          NguyÃªn lÃ½ vÃ  hiá»‡n thá»±c hÃ³a má»i thá»©
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Táº¡o lÃºc</span>

      <time title="ÄÆ°á»£c táº¡o: 2012-05-26 22:44:42" itemprop="dateCreated datePublished" datetime="2012-05-26T22:44:42+08:00">2012-05-26</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Chá»‰nh sá»­a vÃ o</span>
        <time title="ÄÆ°á»£c thay Ä‘á»•i: 2020-12-21 07:53:08" itemprop="dateModified" datetime="2020-12-21T07:53:08+08:00">2020-12-21</time>
      </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/vi/QSearch/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="QSearch/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Sá»‘ biá»ƒu tÆ°á»£ng trong bÃ i viáº¿t">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Sá»‘ biá»ƒu tÆ°á»£ng trong bÃ i viáº¿t: </span>
      <span>22k</span>
    </span>
    <span class="post-meta-item" title="Thá»i lÆ°á»£ng Ä‘á»c">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Thá»i lÆ°á»£ng Ä‘á»c &asymp;</span>
      <span>20 phÃºt.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>ná»™i dung nghiÃªn cá»©u </p>
<ol>
<li>Äá»c NTFS MFT </li>
<li>XÃ¢y dá»±ng báº£ng bÄƒm </li>
<li>ÄÆ°á»ng dáº«n há»‡ thá»‘ng cá»§a tá»‡p </li>
<li>GUI vÃ  luá»“ng cÃ´ng nhÃ¢n </li>
<li>Nhiá»u phÆ°Æ¡ng phÃ¡p tÃ¬m kiáº¿m </li>
<li>Giao diá»‡n MFC </li>
</ol>
<p>káº¿ hoáº¡ch nghiÃªn cá»©u </p>
<ul>
<li>Äáº§u thÃ¡ng 4 Ä‘áº¿n giá»¯a thÃ¡ng 4 Ä‘á»ƒ xÃ¡c Ä‘á»‹nh hÆ°á»›ng nghiÃªn cá»©u </li>
<li>Tá»« cuá»‘i thÃ¡ng 4 Ä‘áº¿n cuá»‘i thÃ¡ng 4. Ã”n luyá»‡n tá»«ng Ä‘iá»ƒm kiáº¿n â€‹â€‹thá»©c, tráº¯c nghiá»‡m Ä‘Æ¡n giáº£n </li>
<li>VÃ o Ä‘áº§u thÃ¡ng 5, thiáº¿t káº¿ vÃ  phÃ¡t triá»ƒn chÆ°Æ¡ng trÃ¬nh gá»¡ lá»—i vÃ  váº­n hÃ nh </li>
<li>Giá»¯a thÃ¡ng 5 Cuá»‘i thÃ¡ng Viáº¿t khÃ³a luáº­n thiáº¿t káº¿ tá»‘t nghiá»‡p </li>
</ul>
<p>TÃ­nh nÄƒng vÃ  sá»± Ä‘á»•i má»›i </p>
<ol>
<li>Sá»­ dá»¥ng CPU vÃ  bá»™ nhá»› trong pháº¡m vi há»£p lÃ½ </li>
<li>Pháº§n má»m á»•n Ä‘á»‹nh vÃ  cung cáº¥p cÃ¡c tÃ¹y chá»n tÃ¬m kiáº¿m khÃ¡c nhau </li>
<li>So vá»›i chá»©c nÄƒng tÃ¬m kiáº¿m cá»§a windows, tá»‘c Ä‘á»™ Ä‘á»‹nh vá»‹ tá»‡p lÃ  siÃªu nhanh </li>
</ol>
<h1 id="Vi-tri-nhanh-chong-cua-cac-tep-dia-NTFS"><a href="#Vi-tri-nhanh-chong-cua-cac-tep-dia-NTFS" class="headerlink" title="Vá»‹ trÃ­ nhanh chÃ³ng cá»§a cÃ¡c tá»‡p Ä‘Ä©a NTFS"></a>Vá»‹ trÃ­ nhanh chÃ³ng cá»§a cÃ¡c tá»‡p Ä‘Ä©a NTFS</h1><p><strong>TÃ³m lÆ°á»£c</strong> </p>
<blockquote>
<p>BÃ i viáº¿t nÃ y giá»›i thiá»‡u cÃ¡ch liá»‡t kÃª tÃªn cá»§a táº¥t cáº£ cÃ¡c tá»‡p vÃ  thÆ° má»¥c trÃªn Ä‘Ä©a cá»©ng theo Ä‘á»‹nh dáº¡ng Ä‘Ä©a Windows NTFS vÃ  sá»­ dá»¥ng STL cá»§a C ++ Ä‘á»ƒ táº¡o báº£ng bÄƒm, cÅ©ng nhÆ° GUI vÃ  chuá»—i cÃ´ng nhÃ¢n cá»§a MFC, vÃ  cuá»‘i cÃ¹ng nháº­n ra viá»‡c triá»ƒn khai dá»±a trÃªn cÃ¡c tá»« khÃ³a do ngÆ°á»i dÃ¹ng nháº­p. TÃ¬m kiáº¿m Ä‘Æ¡n giáº£n nhÆ° tÃ¬m kiáº¿m tá»« khÃ³a google, sau Ä‘Ã³ tráº£ vá» ngay láº­p tá»©c táº¥t cáº£ cÃ¡c tá»‡p / thÆ° má»¥c phÃ¹ há»£p vÃ  nháº­n Ä‘á»‡ quy Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng cá»§a tá»‡p / thÆ° má»¥c. </p>
</blockquote>
<p>** Tá»« khÃ³a *<em>: *</em> NTFS, nhanh, tá»« khÃ³a, tÃ¬m kiáº¿m, Ä‘Æ°á»ng dáº«n tá»‡p ** </p>
<h2 id="1-Gioi-thieu"><a href="#1-Gioi-thieu" class="headerlink" title="1. Giá»›i thiá»‡u"></a>1. Giá»›i thiá»‡u</h2><p>Cáº¥u trÃºc thÆ° má»¥c cá»§a Windows. Trong khá»‘i lÆ°á»£ng NTFS, cÃ¡c tá»‡p<br>Sáº¯p xáº¿p theo dáº¡ng B + tree, nháº¥n khi tÃ¬m kiáº¿m cÃ¡c táº­p tin trong thÆ° má»¥c<br>PhÆ°Æ¡ng phÃ¡p tÃ¬m kiáº¿m cÃ¢y B + trÆ°á»›c tiÃªn tÃ¬m kiáº¿m nÃºt gá»‘c (báº¯t Ä‘áº§u tá»« thÆ° má»¥c gá»‘c), sau Ä‘Ã³ so sÃ¡nh tÃªn tá»‡p Ä‘Æ°á»£c tÃ¬m tháº¥y vá»›i tÃªn tá»‡p tÆ°Æ¡ng á»©ng vá»›i nÃºt con trong nÃºt gá»‘c Ä‘á»ƒ xÃ¡c Ä‘á»‹nh nÃºt con nÃ o tÆ°Æ¡ng á»©ng vá»›i vÃ¹ng lÆ°u trá»¯ Ä‘á»ƒ tÃ¬m kiáº¿m, sau Ä‘Ã³ Sá»­ dá»¥ng nÃºt con lÃ m nÃºt gá»‘c hiá»‡n táº¡i vÃ  tÃ¬m kiáº¿m láº¡i cho Ä‘áº¿n khi tÃ¬m tháº¥y tá»‡p. ^ [1] ^ </p>
<p>Máº·c dÃ¹ tÃ¬m kiáº¿m Ä‘Æ°á»£c cung cáº¥p bá»Ÿi há»‡ thá»‘ng Microsoft cÃ³ thá»ƒ tÃ¬m kiáº¿m ná»™i dung vÄƒn báº£n, nhÆ°ng tá»‘c Ä‘á»™ ráº¥t khÃ´ng Ä‘áº¡t yÃªu cáº§u. Trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p, chÃºng tÃ´i chá»‰ muá»‘n biáº¿t tá»‡p Ä‘Æ°á»£c lÆ°u trong thÆ° má»¥c nÃ o trÃªn mÃ¡y tÃ­nh vÃ  chÆ°Æ¡ng trÃ¬nh nÃ y giáº£i quyáº¿t Ä‘iá»u nÃ y ráº¥t tá»‘t. </p>
<h2 id="2-Gioi-thieu-ngan-gon-ve-NTFS"><a href="#2-Gioi-thieu-ngan-gon-ve-NTFS" class="headerlink" title="2 Giá»›i thiá»‡u ngáº¯n gá»n vá» NTFS"></a>2 Giá»›i thiá»‡u ngáº¯n gá»n vá» NTFS</h2><h3 id="2-1-NTFS"><a href="#2-1-NTFS" class="headerlink" title="2.1 NTFS"></a>2.1 NTFS</h3><p>NTFS (Há»‡ thá»‘ng tá»‡p cÃ´ng nghá»‡ má»›i) æ˜¯ Windows<br>Há»‡ thá»‘ng tá»‡p tiÃªu chuáº©n cá»§a NT vÃ  Windows má»›i hÆ¡n. NTFS thay tháº¿ há»‡ thá»‘ng tá»‡p báº£ng phÃ¢n bá»• tá»‡p (FAT) vÃ  cung cáº¥p há»‡ thá»‘ng tá»‡p cho há»‡ Ä‘iá»u hÃ nh dÃ²ng Windows cá»§a Microsoft. NTFS Ä‘Ã£ thá»±c hiá»‡n má»™t sá»‘ cáº£i tiáº¿n Ä‘á»‘i vá»›i FAT vÃ  HPFS (Há»‡ thá»‘ng tá»‡p hiá»‡u suáº¥t cao). VÃ­ dá»¥: nÃ³ há»— trá»£ siÃªu dá»¯ liá»‡u vÃ  sá»­ dá»¥ng cáº¥u trÃºc dá»¯ liá»‡u nÃ¢ng cao Ä‘á»ƒ cáº£i thiá»‡n hiá»‡u suáº¥t, Ä‘á»™ tin cáº­y vÃ  sá»­ dá»¥ng khÃ´ng gian Ä‘Ä©a. ^ [2] ^ </p>
<h3 id="2-2-Thuc-trang"><a href="#2-2-Thuc-trang" class="headerlink" title="2.2 Thá»±c tráº¡ng"></a>2.2 Thá»±c tráº¡ng</h3><p>Vá»›i Windows dá»±a trÃªn NT<br>Vá»›i sá»± phá»• biáº¿n cá»§a 2000 / XP, nhiá»u ngÆ°á»i dÃ¹ng cÃ¡ nhÃ¢n Ä‘Ã£ báº¯t Ä‘áº§u sá»­ dá»¥ng NTFS. NTFS cÅ©ng sá»­ dá»¥ng cÃ¡c cá»¥m nhÆ° má»™t Ä‘Æ¡n vá»‹ Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c tá»‡p dá»¯ liá»‡u, nhÆ°ng kÃ­ch thÆ°á»›c cá»¥m trong NTFS khÃ´ng phá»¥ thuá»™c vÃ o kÃ­ch thÆ°á»›c Ä‘Ä©a hoáº·c phÃ¢n vÃ¹ng. Viá»‡c thu nhá» kÃ­ch thÆ°á»›c cá»¥m khÃ´ng chá»‰ giáº£m lÃ£ng phÃ­ dung lÆ°á»£ng Ä‘Ä©a mÃ  cÃ²n giáº£m kháº£ nÄƒng phÃ¢n máº£nh Ä‘Ä©a. NTFS há»— trá»£ chá»©c nÄƒng quáº£n lÃ½ mÃ£ hÃ³a tá»‡p, cÃ³ thá»ƒ cung cáº¥p cho ngÆ°á»i dÃ¹ng má»©c Ä‘á»™ Ä‘áº£m báº£o an ninh cao hÆ¡n. ^ [3] ^ </p>
<h2 id="3-Chuan-bi"><a href="#3-Chuan-bi" class="headerlink" title="3 Chuáº©n bá»‹"></a>3 Chuáº©n bá»‹</h2><h3 id="3-1-Y-tuong-thiet-ke"><a href="#3-1-Y-tuong-thiet-ke" class="headerlink" title="3.1 Ã tÆ°á»Ÿng thiáº¿t káº¿"></a>3.1 Ã tÆ°á»Ÿng thiáº¿t káº¿</h3><p>Äá»c táº¥t cáº£ cÃ¡c tÃªn tá»‡p cá»§a Ä‘Ä©a dÆ°á»›i dáº¡ng dá»¯ liá»‡u vÃ  khá»›p trong dá»¯ liá»‡u theo tá»« khÃ³a do ngÆ°á»i dÃ¹ng nháº­p. ÄÆ°á»ng dáº«n chÃ­nh xÃ¡c Ä‘Æ°á»£c tráº£ láº¡i cho ngÆ°á»i dÃ¹ng cÃ¹ng vá»›i Ä‘Æ°á»ng dáº«n Ä‘á»ƒ táº¡o Ä‘iá»u kiá»‡n má»Ÿ tá»‡p. </p>
<p>Ã tÆ°á»Ÿng thiáº¿t káº¿ cá»¥ thá»ƒ Ä‘Æ°á»£c thá»ƒ hiá»‡n trong HÃ¬nh 3-1. </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_00.jpg">HÃ¬nh 3-1 Ã tÆ°á»Ÿng thiáº¿t káº¿</a> </p>
<p>Æ¯u Ä‘iá»ƒm lá»›n nháº¥t cá»§a báº£ng bÄƒm lÃ  nÃ³ giáº£m Ä‘Ã¡ng ká»ƒ thá»i gian tiÃªu tá»‘n cho viá»‡c lÆ°u trá»¯ vÃ  tÃ¬m kiáº¿m dá»¯ liá»‡u, gáº§n nhÆ° cÃ³ thá»ƒ Ä‘Æ°á»£c coi lÃ  má»™t thá»i gian cá»‘ Ä‘á»‹nh; chi phÃ­ chá»‰ lÃ  tiÃªu tá»‘n nhiá»u bá»™ nhá»› hÆ¡n. Tuy nhiÃªn, vá»›i bá»™ nhá»› kháº£ dá»¥ng ngÃ y cÃ ng nhiá»u, viá»‡c Ä‘Ã¡nh Ä‘á»•i khÃ´ng gian láº¥y thá»i gian lÃ  Ä‘iá»u Ä‘Ã¡ng giÃ¡. NgoÃ i ra, tÃ­nh dá»… mÃ£ hÃ³a cÅ©ng lÃ  má»™t trong nhá»¯ng Ä‘áº·c Ä‘iá»ƒm cá»§a nÃ³. </p>
<h3 id="3-2-USN-la-gi"><a href="#3-2-USN-la-gi" class="headerlink" title="3.2 USN lÃ  gÃ¬"></a>3.2 USN lÃ  gÃ¬</h3><p>Æ¯u tiÃªn hÃ ng Ä‘áº§u cá»§a chÆ°Æ¡ng trÃ¬nh lÃ  Ä‘á»c USN. </p>
<p>USN æ˜¯ Cáº­p nháº­t nháº­t kÃ½ sá»‘ dá»‹ch vá»¥ hoáº·c thay Ä‘á»•i<br>Viáº¿t táº¯t cá»§a Journal, chá»©c nÄƒng ghi láº¡i thÃ´ng tin sá»­a Ä‘á»•i trong táº­p NTFS, báº¡n cÃ³ thá»ƒ thiáº¿t láº­p sá»‘ lÆ°á»£ng tá»‡p vÃ  thÆ° má»¥c cáº§n giÃ¡m sÃ¡t trong phÃ¢n vÃ¹ng, Ä‘á»“ng thá»i ghi láº¡i thá»i gian sá»­a Ä‘á»•i vÃ  ná»™i dung cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c giÃ¡m sÃ¡t. </p>
<p>Khi nháº­t kÃ½ USN Ä‘Æ°á»£c báº­t, Ä‘á»‘i vá»›i má»—i á»• Ä‘Ä©a NTFS, khi cÃ³ thÃ´ng tin vá» viá»‡c thÃªm, xÃ³a vÃ  sá»­a Ä‘á»•i tá»‡p, NTFS sá»­ dá»¥ng nháº­t kÃ½ USN Ä‘á»ƒ ghi láº¡i vÃ  lÆ°u trá»¯ dÆ°á»›i dáº¡ng<br>Äá»‹nh dáº¡ng cá»§a USN_RECORD. </p>
<h3 id="3-3-Tai-sao-no-nhanh"><a href="#3-3-Tai-sao-no-nhanh" class="headerlink" title="3.3 Táº¡i sao nÃ³ nhanh"></a>3.3 Táº¡i sao nÃ³ nhanh</h3><p>USN log tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i thÆ° má»¥c WORD vÃ  cung cáº¥p chá»‰ má»¥c, táº¥t nhiÃªn khi ná»™i dung bÃ i viáº¿t thay Ä‘á»•i thÃ¬ USN log sáº½ ghi láº¡i khi sá»­a Ä‘á»•i, tuy nhiÃªn nÃ³ khÃ´ng ghi láº¡i nhá»¯ng gÃ¬ Ä‘Æ°á»£c sá»­a Ä‘á»•i trong Ä‘Ã³ nÃªn file chá»‰ má»¥c ráº¥t nhá». VÃ  khi báº¡n muá»‘n tÃ¬m Ä‘oáº¡n cá»¥ thá»ƒ cá»§a bÃ i viáº¿t, báº¡n khÃ´ng cáº§n pháº£i quay con lÄƒn chuá»™t lung tung mÃ  chá»‰ cáº§n xem trá»±c tiáº¿p má»¥c lá»¥c, vÃ  báº¡n chá»‰ cáº§n nháº¥n giá»¯ ctrl + click chuá»™t Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vá»‹ trÃ­. </p>
<p>TÆ°Æ¡ng tá»± nhÆ° váº­y, khi báº¡n muá»‘n tÃ¬m má»™t tá»‡p nÃ o Ä‘Ã³, báº¡n cÃ³ thá»ƒ trá»±c tiáº¿p tÃ¬m xem tá»‡p Ä‘Ã³ cÃ³ tá»“n táº¡i hay khÃ´ng báº±ng cÃ¡ch tÃ¬m kiáº¿m nháº­t kÃ½ USN (tá»©c lÃ  chá»‰ má»¥c Ä‘Ã£ thiáº¿t láº­p). </p>
<p>TÃ¡i bÃºt: Máº·c dÃ¹ windows khÃ´ng pháº£i lÃ  â€œmá»i thá»© Ä‘á»u lÃ  tá»‡pâ€ (Unix / Linux<br>Má»™t trong nhá»¯ng triáº¿t lÃ½ cÆ¡ báº£n), nhÆ°ng thÆ° má»¥c cÅ©ng tá»“n táº¡i á»Ÿ dáº¡ng tá»‡p, vÃ¬ váº­y báº¡n cÅ©ng cÃ³ thá»ƒ tÃ¬m tháº¥y vá»‹ trÃ­ thÃ´ng qua USN. </p>
<h3 id="3-4-Moi-truong"><a href="#3-4-Moi-truong" class="headerlink" title="3.4 MÃ´i trÆ°á»ng"></a>3.4 MÃ´i trÆ°á»ng</h3><p>VÃ¬ Ä‘á»‹nh dáº¡ng NTFS ban Ä‘áº§u lÃ  báº±ng sÃ¡ng cháº¿ cá»§a Microsoft, má»™t loáº¡t cÃ¡c hÃ m API Ä‘Æ°á»£c cung cáº¥p Ä‘á»ƒ chÃºng ta truy cáº­p thuáº­n tiá»‡n. </p>
<p>LÃ  má»™t Visual C ++ 6.0 cÅ© nhÆ°ng cá»• Ä‘iá»ƒn<br>CÃ´ng cá»¥ láº­p trÃ¬nh, nhÆ°ng khÃ´ng cÃ³ Ä‘á»‹nh dáº¡ng NTFS vÃ o thá»i Ä‘iá»ƒm Ä‘Ã³, vÃ¬ váº­y VC2005 Ä‘Æ°á»£c chá»n lÃ m mÃ´i trÆ°á»ng phÃ¡t triá»ƒn tÃ­ch há»£p vÃ  nÃ³ chá»‰ cÃ³ thá»ƒ cháº¡y trÃªn cÃ¡c há»‡ thá»‘ng Windows sau nÄƒm 2000. </p>
<h2 id="4-Thuc-hien-chuong-trinh"><a href="#4-Thuc-hien-chuong-trinh" class="headerlink" title="4 Thá»±c hiá»‡n chÆ°Æ¡ng trÃ¬nh"></a>4 Thá»±c hiá»‡n chÆ°Æ¡ng trÃ¬nh</h2><h3 id="4-1-Doc-USN"><a href="#4-1-Doc-USN" class="headerlink" title="4.1 Äá»c USN"></a>4.1 Äá»c USN</h3><p>Sau Ä‘Ã¢y lÃ  táº¥t cáº£ cÃ¡c hÃ m API Ä‘Æ°á»£c cung cáº¥p bá»Ÿi Microsoft ^ [4] ^, Ä‘Æ°á»£c bao gá»“m trong tá»‡p tiÃªu Ä‘á» <code>&lt;Winioctl.h&gt;</code>. </p>
<h4 id="4-1-1-Xac-dinh-dinh-dang-dia"><a href="#4-1-1-Xac-dinh-dinh-dang-dia" class="headerlink" title="4.1.1 XÃ¡c Ä‘á»‹nh Ä‘á»‹nh dáº¡ng Ä‘Ä©a"></a>4.1.1 XÃ¡c Ä‘á»‹nh Ä‘á»‹nh dáº¡ng Ä‘Ä©a</h4><p>Gá»i hÃ m sau Ä‘á»ƒ tÃ¬m Ä‘Ä©a á»Ÿ Ä‘á»‹nh dáº¡ng NTFS </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GetVolumeInformation(</span><br><span class="line">	lpRootPathName: PChar;               <span class="comment">// ç£ç›˜é©±åŠ¨å™¨ä»£ç å­—ç¬¦ä¸²</span></span><br><span class="line">	lpVolumeNameBuffer: PChar;           <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åç§°</span></span><br><span class="line">	nVolumeNameSize: DWORD;              <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åç§°é•¿åº¦</span></span><br><span class="line">	lpVolumeSerialNumber: PDWORD;        <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åºåˆ—å·</span></span><br><span class="line">	var lpMaximumComponentLength: DWORD; <span class="comment">// ç³»ç»Ÿå…è®¸çš„æœ€å¤§æ–‡ä»¶åé•¿åº¦</span></span><br><span class="line">    var lpFileSystemFlags: DWORD;        <span class="comment">// æ–‡ä»¶ç³»ç»Ÿæ ‡è¯†</span></span><br><span class="line">	lpFileSystemNameBuffer: PChar;       <span class="comment">// æ ¼å¼ç±»å‹</span></span><br><span class="line">	nFileSystemNameSize: DWORD           <span class="comment">// æ–‡ä»¶æ“ä½œç³»ç»Ÿåç§°é•¿åº¦</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>LpFileSystemNameBuffer, lÃ  nhá»¯ng gÃ¬ chÃºng ta muá»‘n, sáº½ tráº£ vá» cÃ¡c chuá»—i nhÆ° â€œFAT32â€ vÃ  â€œNTFSâ€. </p>
<p>Sau Ä‘Ã³, sá»­ dá»¥ng má»™t vÃ²ng láº·p Ä‘á»ƒ Ä‘áº¿m cÃ¡c kÃ½ tá»± á»• Ä‘Ä©a A-Z á»Ÿ Ä‘á»‹nh dáº¡ng NTFS, rá»“i khá»Ÿi táº¡o </p>
<h4 id="4-1-2-Lay-tay-cam-dia-o-dia"><a href="#4-1-2-Lay-tay-cam-dia-o-dia" class="headerlink" title="4.1.2 Láº¥y tay cáº§m Ä‘Ä©a á»• Ä‘Ä©a"></a>4.1.2 Láº¥y tay cáº§m Ä‘Ä©a á»• Ä‘Ä©a</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HANDLE hVol = CreateFile(</span><br><span class="line">	<span class="string">&quot;ç›˜ç¬¦å­—ç¬¦ä¸²&quot;</span>,  <span class="comment">// å¿…é¡»å¦‚\.\C: (A-Z)çš„å½¢å¼</span></span><br><span class="line">	GENERIC_READ | GENERIC_WRITE, <span class="comment">// å¯ä»¥ä¸º</span></span><br><span class="line">	FILE_SHARE_READ | FILE_SHARE_WRITE, <span class="comment">// å¿…é¡»åŒ…å«æœ‰FILE_SHARE_WRITE</span></span><br><span class="line">	<span class="literal">NULL</span>, <span class="comment">// è¿™é‡Œä¸éœ€è¦</span></span><br><span class="line">	OPEN_EXISTING, <span class="comment">// å¿…é¡»åŒ…å«OPEN_EXISTING, CREATE_ALWAYSå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class="line">	FILE_ATTRIBUTE_READONLY, <span class="comment">// FILE_ATTRIBUTE_NORMALå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class="line">	<span class="literal">NULL</span>); <span class="comment">// è¿™é‡Œä¸éœ€è¦</span></span><br></pre></td></tr></table></figure>

<p>Äiá»ƒm cáº§n lÆ°u Ã½: </p>
<ol>
<li>CreateFile tráº£ vá» má»™t xá»­ lÃ½, sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng bÃªn dÆ°á»›i; </li>
<li>VÃ¬ kÃ½ tá»± á»• Ä‘Ä©a pháº£i á»Ÿ dáº¡ng <code>\\. \ C:</code>, dáº¥u gáº¡ch chÃ©o ngÆ°á»£c â€œ//â€œ trong ngÃ´n ngá»¯ <code>C ++</code> Ä‘áº¡i diá»‡n cho â€œ/â€œ; </li>
<li>Quyá»n quáº£n trá»‹ viÃªn lÃ  báº¯t buá»™c (vista, UAC sáº½ báº­t lÃªn trong win7) </li>
</ol>
<p>Náº¿u <code>hVol! = INVALID_HANDLE_VALUE</code>, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  xá»­ lÃ½ Ä‘Æ°á»£c láº¥y thÃ nh cÃ´ng vÃ  báº¡n cÃ³ thá»ƒ tiáº¿p tá»¥c bÆ°á»›c tiáº¿p theo. </p>
<h4 id="4-1-3-Khoi-tao-nhat-ky-USN"><a href="#4-1-3-Khoi-tao-nhat-ky-USN" class="headerlink" title="4.1.3 Khá»Ÿi táº¡o nháº­t kÃ½ USN"></a>4.1.3 Khá»Ÿi táº¡o nháº­t kÃ½ USN</h4><p>Sá»­ dá»¥ng <code>FSCTL_CREATE_USN_JOURNAL</code> lÃ m mÃ£ Ä‘iá»u khiá»ƒn cá»§a<code>DeviceIoControl</code>. </p>
<p><code>Cujd</code> lÃ  má»™t con trá» tá»›i bá»™ Ä‘á»‡m Ä‘áº§u vÃ o, trá» Ä‘áº¿n cáº¥u trÃºc<code>CREATE_USN_JOURNAL_DATA</code>. </p>
<h4 id="4-1-4-Nhan-thong-tin-nhat-ky-USN"><a href="#4-1-4-Nhan-thong-tin-nhat-ky-USN" class="headerlink" title="4.1.4 Nháº­n thÃ´ng tin nháº­t kÃ½ USN"></a>4.1.4 Nháº­n thÃ´ng tin nháº­t kÃ½ USN</h4><p>Sá»­ dá»¥ng <code>FSCTL_QUERY_USN_JOURNAL</code> lÃ m mÃ£ Ä‘iá»u khiá»ƒn cá»§a<code>DeviceIoControl</code>. </p>
<p><code>lpOutBuffer</code> tráº£ vá» má»™t<code>USN_JOURNAL_DATA</code>, lÃ  má»™t cáº¥u trÃºc </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    DWORDLONG UsnJournalID;</span><br><span class="line">    USN       FirstUsn;</span><br><span class="line">    USN       NextUsn;</span><br><span class="line">    USN       LowestValidUsn;</span><br><span class="line">    USN       MaxUsn;</span><br><span class="line">    DWORDLONG MaximumSize;</span><br><span class="line">    DWORDLONG AllocationDelta;</span><br><span class="line">&#125; USN_JOURNAL_DATA, *PUSN_JOURNAL_DATA;</span><br></pre></td></tr></table></figure>

<p><code>UsnJournalID</code>,<code>FirstUsn</code>, <code>NextUsn</code> sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng trong bÆ°á»›c tiáº¿p theo </p>
<h4 id="4-1-5-Lay-thong-tin-tep-USN-Journal"><a href="#4-1-5-Lay-thong-tin-tep-USN-Journal" class="headerlink" title="4.1.5 Láº¥y thÃ´ng tin tá»‡p USN Journal"></a>4.1.5 Láº¥y thÃ´ng tin tá»‡p USN Journal</h4><p>VÃ¬ <code>USN</code> Ä‘Æ°á»£c lÆ°u trá»¯ dÆ°á»›i dáº¡ng<code>USN_RECORD</code> nÃªn cáº¥u trÃºc cá»§a nÃ³ lÃ : </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	DWORD RecordLength; <span class="comment">// è®°å½•é•¿åº¦</span></span><br><span class="line">	WORD MajorVersion; <span class="comment">// ä¸»ç‰ˆæœ¬</span></span><br><span class="line">	WORD MinorVersion; <span class="comment">// æ¬¡ç‰ˆæœ¬</span></span><br><span class="line">	DWORDLONG FileReferenceNumber; <span class="comment">// æ–‡ä»¶å¼•ç”¨æ•°</span></span><br><span class="line">	DWORDLONG ParentFileReferenceNumber; <span class="comment">// çˆ¶ç›®å½•å¼•ç”¨æ•°</span></span><br><span class="line">	USN Usn; <span class="comment">// USN</span></span><br><span class="line">	LARGE_INTEGER TimeStamp; <span class="comment">// æ—¶é—´æˆ³</span></span><br><span class="line">	DWORD Reason; <span class="comment">// åŸå› </span></span><br><span class="line">	DWORD SourceInfo; <span class="comment">// æºä¿¡æ¯</span></span><br><span class="line">	DWORD SecurityId; <span class="comment">// å®‰å…¨</span></span><br><span class="line">	ID DWORD FileAttributes; <span class="comment">// æ–‡ä»¶å±æ€§</span></span><br><span class="line">	WORD FileNameLength; <span class="comment">// æ–‡ä»¶é•¿åº¦</span></span><br><span class="line">	WORD FileNameOffset; <span class="comment">// æ–‡ä»¶ååç§»</span></span><br><span class="line">	DWORD ExtraInfo1;</span><br><span class="line">	DWORD ExtraInfo2; DWORD ExtraInfo3; <span class="comment">// Hypothetically added in version 2.3</span></span><br><span class="line">	WCHAR FileName[<span class="number">1</span>]; <span class="comment">// æ–‡ä»¶åç¬¬ä¸€ä½çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125; USN_RECORD, *PUSN_RECORD;</span><br></pre></td></tr></table></figure>

<p>LÆ°u Ã½ Ä‘áº¿n <code>FileReferenceNumber</code>,<code>ParentFileReferenceNumber</code>, <code>FileNameLength</code>,<code>FileName</code> </p>
<p>CÃ¡c biáº¿n nÃ y ráº¥t quan trá»ng </p>
<p><code>DeviceIoControl ()</code> há»£p tÃ¡c vá»›i <code>FSCTL_ENUM_USN_DATA</code> </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">0</span>!=DeviceIoControl(hVol,</span><br><span class="line">	 	FSCTL_ENUM_USN_DATA,</span><br><span class="line">	 	&amp;med,</span><br><span class="line">	 	<span class="keyword">sizeof</span> (med),</span><br><span class="line">	 	Buffer,</span><br><span class="line">	 	BUF_LEN,</span><br><span class="line">	 	&amp;usnDataSize,</span><br><span class="line">	 	<span class="literal">NULL</span>)) &#123;</span><br><span class="line"></span><br><span class="line">	 	DWORD dwRetBytes = usnDataSize - <span class="keyword">sizeof</span> (USN);</span><br><span class="line">	 	<span class="comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ª USN è®°å½•</span></span><br><span class="line">	 	UsnRecord = (PUSN_RECORD)(((PCHAR)Buffer)+<span class="keyword">sizeof</span> (USN));</span><br><span class="line"></span><br><span class="line">	 	<span class="keyword">while</span> (dwRetBytes&gt;<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// è·å–åˆ°çš„ä¿¡æ¯</span></span><br><span class="line">	 		<span class="function">CString <span class="title">CfileName</span><span class="params">(UsnRecord-&gt;FileName, UsnRecord-&gt;FileNameLength/<span class="number">2</span>)</span></span>;</span><br><span class="line">	 		pfrnName.filename = nameCur.filename = CfileName;</span><br><span class="line">	 		pfrnName.pfrn = nameCur.pfrn = UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// Vector</span></span><br><span class="line">	 		VecNameCur.push_back(nameCur);</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// æ„å»ºhash...</span></span><br><span class="line">	 		frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] = pfrnName;</span><br><span class="line">	 		<span class="comment">// è·å–ä¸‹ä¸€ä¸ªè®°å½•</span></span><br><span class="line">	 		DWORD recordLen = UsnRecord-&gt;RecordLength;</span><br><span class="line">	 		dwRetBytes -= recordLen;</span><br><span class="line">	 		UsnRecord = (PUSN_RECORD)(((PCHAR)UsnRecord)+recordLen);</span><br><span class="line"></span><br><span class="line">	 	&#125;</span><br><span class="line">	 	<span class="comment">// è·å–ä¸‹ä¸€é¡µæ•°æ®</span></span><br><span class="line">	 	med.StartFileReferenceNumber = \*(USN \*)&amp;Buffer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Trong sá»‘ Ä‘Ã³, <code>Med</code> lÃ : </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MFT_ENUM_DATA med;</span><br><span class="line"></span><br><span class="line">med.StartFileReferenceNumber = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">med.LowUsn = <span class="number">0</span>;<span class="comment">//UsnInfo.FirstUsn;</span></span><br></pre></td></tr></table></figure>

<p>Sau khi thá»­ nghiá»‡m táº¡i Ä‘Ã¢y, tháº¥y ráº±ng náº¿u viá»‡c sá»­ dá»¥ng <code>FirstUsn</code> Ä‘Ã´i khi khÃ´ng chÃ­nh xÃ¡c, dáº«n Ä‘áº¿n viá»‡c thu tháº­p dá»¯ liá»‡u khÃ´ng Ä‘áº§y Ä‘á»§ thÃ¬ tá»‘t hÆ¡n háº¿t báº¡n nÃªn ghi sá»‘ 0 trá»±c tiáº¿p. </p>
<p>`med.HighUsn = UsnInfo.NextUsn; â€˜ </p>
<p>Trong vÃ²ng láº·p nÃ y, tÃªn tá»‡p thu Ä‘Æ°á»£c má»—i láº§n Ä‘Æ°á»£c chÃ¨n vÃ o báº£ng vectÆ¡ vÃ  báº£ng bÄƒm (mÃ´ táº£ bÃªn dÆ°á»›i). </p>
<h4 id="4-1-6-Xoa-tep-nhat-ky-USN"><a href="#4-1-6-Xoa-tep-nhat-ky-USN" class="headerlink" title="4.1.6 XÃ³a tá»‡p nháº­t kÃ½ USN"></a>4.1.6 XÃ³a tá»‡p nháº­t kÃ½ USN</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DeviceIoControl(hVol,</span><br><span class="line">	FSCTL_DELETE_USN_JOURNAL,</span><br><span class="line">	&amp;dujd,</span><br><span class="line">	<span class="keyword">sizeof</span> (dujd),</span><br><span class="line">	<span class="literal">NULL</span>,</span><br><span class="line">	<span class="number">0</span>,</span><br><span class="line">	&amp;br,</span><br><span class="line">	<span class="literal">NULL</span>)</span><br></pre></td></tr></table></figure>

<h4 id="4-1-7-Ket-qua-liet-ke-tat-ca-cac-tep"><a href="#4-1-7-Ket-qua-liet-ke-tat-ca-cac-tep" class="headerlink" title="4.1.7 Káº¿t quáº£ liá»‡t kÃª táº¥t cáº£ cÃ¡c tá»‡p"></a>4.1.7 Káº¿t quáº£ liá»‡t kÃª táº¥t cáº£ cÃ¡c tá»‡p</h4><p>LÆ°u dá»¯ liá»‡u dÆ°á»›i dáº¡ng Allfile.txt Ä‘á»ƒ phÃ¢n tÃ­ch, nhÆ° trong HÃ¬nh 4-1. </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_01.jpg">å›¾ 4-1 Allfile.txt</a> </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_02.jpg">å›¾ 4-1 Allfile.txt</a> </p>
<p>TÃ´i Ä‘Ã£ sá»­ dá»¥ng á»• Ä‘Ä©a D trÃªn mÃ¡y tÃ­nh cá»§a mÃ¬nh Ä‘á»ƒ kiá»ƒm tra vÃ  liá»‡t kÃª táº¥t cáº£ cÃ¡c tá»‡p. NhÆ° trong hÃ¬nh, cÃ³ khoáº£ng 40W tá»‡p, tá»•ng sá»‘ dá»¯ liá»‡u hÆ¡n 100W vÃ  kÃ­ch thÆ°á»›c tá»‡p khoáº£ng 20MB. Äiá»u nÃ y cÃ³ má»™t Æ°á»›c tÃ­nh mÆ¡ há»“ vá» dung lÆ°á»£ng bá»™ nhá»› bá»‹ chiáº¿m bá»Ÿi cÃ¡c chÆ°Æ¡ng trÃ¬nh tiáº¿p theo, lÃ  khoáº£ng 50M. Äá»‘i vá»›i tháº­m chÃ­ chá»‰ 1G bá»™ nhá»›, nÃ³ náº±m trong pháº¡m vi há»£p lÃ½. Vá»›i dá»¯ liá»‡u ban Ä‘áº§u, phÃ¢n tÃ­ch nhÆ° sau: </p>
<p>VÃ­ dá»¥, tá»‡p tin thá»±c hÃ nh láº­p trÃ¬nh Linux.isz, Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng cá»§a nÃ³ lÃ : <code>D: \ Ghost \ Linux \ Linux programming practice.isz</code>, hÃ£y xem káº¿t quáº£ trong tá»‡p: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">D:\</span><br><span class="line">Frn: 5000000000005</span><br><span class="line">Pfrn: NULL</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Ghost</span><br><span class="line">Frn: 20000000000fd</span><br><span class="line">Pfrn: 5000000000005</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Linux</span><br><span class="line">Frn: e0000000010d2</span><br><span class="line">Pfrn: 20000000000fd</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Linuxç¼–ç¨‹å®è·µ.isz</span><br><span class="line">Frn: 190000000003b2</span><br><span class="line">Pfrn: e0000000010d2</span><br><span class="line">å¯ä»¥å¾—å‡ºï¼š</span><br><span class="line">Linuxç¼–ç¨‹å®è·µ.isz-&gt;Pfrn &#x3D;&#x3D; Linux-&gt;Frn</span><br><span class="line">Linux-&gt;Pfrn &#x3D;&#x3D; Ghost-&gt;Frn</span><br><span class="line">Ghost-&gt;Pfrn &#x3D;&#x3D; D:\ -&gt; Frn</span><br><span class="line">D:\ -&gt; Pfrn åœæ­¢</span><br></pre></td></tr></table></figure>

<p>VÃ¬ váº­y, vá»›i má»™t hÃ m Ä‘á»‡ quy (trá»±c tiáº¿p hoáº·c giÃ¡n tiáº¿p gá»i hÃ m riÃªng cá»§a nÃ³), báº¡n cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§. </p>
<h3 id="4-2-Xay-dung-du-lieu-tim-kiem"><a href="#4-2-Xay-dung-du-lieu-tim-kiem" class="headerlink" title="4.2 XÃ¢y dá»±ng dá»¯ liá»‡u tÃ¬m kiáº¿m"></a>4.2 XÃ¢y dá»±ng dá»¯ liá»‡u tÃ¬m kiáº¿m</h3><h4 id="4-2-1-Vec-to-xay-dung"><a href="#4-2-1-Vec-to-xay-dung" class="headerlink" title="4.2.1 VÃ©c tÆ¡ xÃ¢y dá»±ng"></a>4.2.1 VÃ©c tÆ¡ xÃ¢y dá»±ng</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">name_cur</span> &#123;</span></span><br><span class="line">    CString filename;</span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">&#125;Name_Cur;</span><br></pre></td></tr></table></figure>

<p>VÃ©c tÆ¡ ï¼š </p>
<p>Má»™t vÃ¹ng chá»©a tuáº§n tá»±. CÃ¡c pháº§n tá»­ trong vectÆ¡ Ä‘Æ°á»£c truy cáº­p thÃ´ng qua chá»‰ má»¥c vá»‹ trÃ­ cá»§a chÃºng. Báº¡n cÃ³ thá»ƒ gá»i push_back hoáº·c<br>HÃ m chÃ¨n thÃªm cÃ¡c pháº§n tá»­ vÃ o vectÆ¡. Trong vector<br>Viá»‡c thÃªm cÃ¡c pháº§n tá»­ vÃ o vÃ¹ng chá»©a cÃ³ thá»ƒ gÃ¢y ra viá»‡c phÃ¢n bá»• láº¡i khÃ´ng gian bá»™ nhá»› cho vÃ¹ng chá»©a vÃ  cÅ©ng cÃ³ thá»ƒ lÃ m máº¥t hiá»‡u lá»±c cá»§a táº¥t cáº£ cÃ¡c trÃ¬nh vÃ²ng láº·p. trong<br>vector<br>Viá»‡c thÃªm (hoáº·c xÃ³a) cÃ¡c pháº§n tá»­ á»Ÿ giá»¯a vÃ¹ng chá»©a sáº½ lÃ m máº¥t hiá»‡u lá»±c cá»§a táº¥t cáº£ cÃ¡c trÃ¬nh vÃ²ng láº·p trá» Ä‘áº¿n cÃ¡c pháº§n tá»­ sau Ä‘iá»ƒm chÃ¨n (hoáº·c xÃ³a). </p>
<p>Sá»­ dá»¥ng Vector Ä‘á»ƒ lÆ°u trá»¯ &lt;tÃªn tá»‡p, thÆ° má»¥c hiá»‡n táº¡i&gt; Do yÃªu cáº§u cá»§a tÃ¬m kiáº¿m má», cÃ¡c phÆ°Æ¡ng phÃ¡p tÃ¬m kiáº¿m nhanh nhÆ° tÃ¬m kiáº¿m nhá»‹ phÃ¢n khÃ´ng Ä‘Æ°á»£c Ã¡p dá»¥ng á»Ÿ Ä‘Ã¢y vÃ  phÆ°Æ¡ng phÃ¡p duyá»‡t tuyáº¿n tÃ­nh cá»§a Vector tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i Ä‘Ã¡p á»©ng yÃªu cáº§u nÃ y. . </p>
<h4 id="4-2-2-Xay-dung-bang-bam"><a href="#4-2-2-Xay-dung-bang-bam" class="headerlink" title="4.2.2 XÃ¢y dá»±ng báº£ng bÄƒm"></a>4.2.2 XÃ¢y dá»±ng báº£ng bÄƒm</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">pfrn_name</span> &#123;</span></span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">    CString filename;</span><br><span class="line">&#125;Pfrn_Name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;DWORDLONG, Pfrn_Name&gt; Frn_Pfrn_Name_Map;</span><br></pre></td></tr></table></figure>

<p>á» Ä‘Ã¢y chÃºng ta sá»­ dá»¥ng hÃ m thÆ° viá»‡n báº£n Ä‘á»“ ^ [5] ^ do STL cung cáº¥p, báº£n Ä‘á»“ lÃ  táº­p há»£p cÃ¡c cáº·p khÃ³a-giÃ¡ trá»‹. báº£n Ä‘á»“<br>Loáº¡i thÆ°á»ng cÃ³ thá»ƒ Ä‘Æ°á»£c hiá»ƒu lÃ  má»™t máº£ng káº¿t há»£p (liÃªn káº¿t<br>array): Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng khÃ³a lÃ m chá»‰ sá»‘ con Ä‘á»ƒ nháº­n giÃ¡ trá»‹, giá»‘ng nhÆ° kiá»ƒu máº£ng dá»±ng sáºµn. Báº£n cháº¥t cá»§a liÃªn káº¿t lÃ  giÃ¡ trá»‹ cá»§a má»™t pháº§n tá»­ Ä‘Æ°á»£c liÃªn káº¿t vá»›i má»™t khÃ³a cá»¥ thá»ƒ, thay vÃ¬ nháº­n Ä‘Æ°á»£c bá»Ÿi vá»‹ trÃ­ cá»§a pháº§n tá»­ trong máº£ng. </p>
<ol>
<li>CÃ¢n nháº¯c ráº±ng náº¿u báº¡n tá»± thá»±c hiá»‡n hÃ m bÄƒm, cÃ³ thá»ƒ cÃ³ má»™t sá»‘ lá»—i áº£nh hÆ°á»Ÿng Ä‘áº¿n tiáº¿n Ä‘á»™, tá»‘t hÆ¡n nÃªn sá»­ dá»¥ng báº£n Ä‘á»“ á»•n Ä‘á»‹nh do STL cung cáº¥p Ä‘á»ƒ thá»±c hiá»‡n nÃ³. </li>
<li>â€œDonâ€™t Reinvent the Wheelâ€ Äá»«ng phÃ¡t minh láº¡i bÃ¡nh xe ^ [6] ^ <ol>
<li>VÃ­ dá»¥: Google cá»§a Android, cÃ³ pháº£i Google khÃ´ng cÃ³ kháº£ nÄƒng phÃ¡t triá»ƒn nhÃ¢n há»‡ thá»‘ng má»™t mÃ¬nh, vÃ¬ váº­y nÃ³ sá»­ dá»¥ng nhÃ¢n Linux ráº¥t trÆ°á»Ÿng thÃ nh? TÃ´i nghÄ© ráº±ng khÃ´ng thá»ƒ thiáº¿u má»™t gÃ£ khá»•ng lá»“ tháº¿ giá»›i nhÆ° Google mÃ  khÃ´ng cÃ³ kháº£ nÄƒng nÃ y, thay vÃ o Ä‘Ã³, nÃ³ tÃ´n trá»ng nguyÃªn táº¯c khÃ´ng phÃ¡t minh láº¡i bÃ¡nh xe. </li>
</ol>
</li>
</ol>
<h4 id="4-2-3-Chen-du-lieu"><a href="#4-2-3-Chen-du-lieu" class="headerlink" title="4.2.3 ChÃ¨n dá»¯ liá»‡u:"></a>4.2.3 ChÃ¨n dá»¯ liá»‡u:</h4><p>Äiá»u nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ Ä‘Ã¢y trong Pháº§n 4.1.5, Nháº­n Táº¡p chÃ­ USN<br>Trong vÃ²ng láº·p thÃ´ng tin tá»‡p, thÃ´ng tin <code>USN_RECORD</code> thu Ä‘Æ°á»£c má»—i láº§n,<code>tÃªn tá»‡p</code>,<br><code>pfrn</code>,<code>frn</code> láº§n lÆ°á»£t Ä‘Æ°á»£c chÃ¨n vÃ o vector vÃ  báº£ng bÄƒm. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pfrnName.filename &#x3D; nameCur.filename &#x3D; CfileName;</span><br><span class="line">pfrnName.pfrn &#x3D; nameCur.pfrn &#x3D; UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line">VecNameCur.push_back(nameCur);</span><br><span class="line">frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] &#x3D; pfrnName;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-Giao-dien"><a href="#4-3-Giao-dien" class="headerlink" title="4.3 Giao diá»‡n"></a>4.3 Giao diá»‡n</h3><p>Khi báº¯t Ä‘áº§u má»™t dá»± Ã¡n, VC2005 cung cáº¥p cÃ¡c dá»± Ã¡n dÃ²ng lá»‡nh (bÃ n Ä‘iá»u khiá»ƒn) vÃ  cÃ¡c dá»± Ã¡n GUI. Láº­p trÃ¬nh dÃ²ng lá»‡nh ráº¥t thuáº­n tiá»‡n, nhanh chÃ³ng, thiáº¿t thá»±c vÃ  tÆ°Æ¡ng Ä‘á»‘i Ä‘Æ¡n giáº£n. Náº¿u giao diá»‡n Ä‘iá»u khiá»ƒn cÃ³ thá»ƒ Ä‘Ã¡p á»©ng cÃ¡c yÃªu cáº§u, giao diá»‡n lÃ  khÃ´ng cáº§n thiáº¿t. Hoáº·c Ä‘Ã´i khi ná»n táº£ng má»¥c tiÃªu khÃ´ng thá»ƒ hiá»ƒn thá»‹ giao diá»‡n ngÆ°á»i dÃ¹ng Ä‘á»“ há»a. nhÆ°ng,<br>GUI cÃ³ nhiá»u Æ°u Ä‘iá»ƒm rÃµ rÃ ng hÆ¡n, cháº³ng háº¡n nhÆ° há»‡ thá»‘ng menu vÃ  kháº£ nÄƒng tÆ°Æ¡ng tÃ¡c tá»‘t hÆ¡n. NgoÃ i ra, trong quÃ¡ trÃ¬nh chá»n menu vÃ  quÃ¡ trÃ¬nh nháº­p dá»¯ liá»‡u Ä‘á»ƒ di chuyá»ƒn giá»¯a cÃ¡c trÆ°á»ng,<br>Con chuá»™t ráº¥t há»¯u Ã­ch vÃ  GUI lÃ  cÃ¡ch Ä‘á»ƒ thá»±c hiá»‡n. Do Ä‘Ã³, khi viáº¿t chÆ°Æ¡ng trÃ¬nh, trÆ°á»›c tiÃªn hÃ£y thá»­ nghiá»‡m vá»›i má»™t sá»‘ dá»¯ liá»‡u trung gian dÆ°á»›i bÃ n Ä‘iá»u khiá»ƒn, sau Ä‘Ã³ chuyá»ƒn sang giao diá»‡n GUI khi káº¿t thÃºc. </p>
<p>MFC: Lá»›p Ná»n táº£ng Microsoft, cÃ²n Ä‘Æ°á»£c gá»i lÃ  MFC<br>, LÃ  pháº£n há»“i cá»§a Microsoft Ä‘á»‘i vá»›i viá»‡c â€œháº¡ tháº¥p Windows<br>ÄÃ³ng gÃ³p lá»›n nháº¥t cá»§a â€œthiáº¿t káº¿ chÆ°Æ¡ng trÃ¬nh, sá»± nhÃ m chÃ¡n, sá»± nhÃ m chÃ¡n vÃ  khÃ³ khÄƒnâ€. MFC<br>LÃ m cho viá»‡c táº¡o há»™p thoáº¡i cá»±c ká»³ Ä‘Æ¡n giáº£n. NÃ³ cÅ©ng thá»±c hiá»‡n má»™t há»‡ thá»‘ng gá»­i tin nháº¯n (tin nháº¯n<br>Ä‘iá»u phá»‘i), Ä‘á»ƒ Ä‘á»‘i phÃ³ vá»›i nhá»¯ng sai láº§m dá»… máº¯c pháº£i cá»§a WPARAM vÃ  LP ARAM. MFC<br>NÃ³ tháº­m chÃ­ cÃ²n lÃ  Ä‘á»™ng lá»±c Ä‘á»ƒ thu hÃºt má»™t sá»‘ ngÆ°á»i vÃ o C ++.<br>ChÆ°Æ¡ng trÃ¬nh nÃ y Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng MFC do Microsoft cung cáº¥p, nhÆ° trong HÃ¬nh 4-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_04.jpg">HÃ¬nh 4-2 Giao diá»‡n MFC</a> </p>
<h4 id="4-3-1-Nguyen-tac-KISS"><a href="#4-3-1-Nguyen-tac-KISS" class="headerlink" title="4.3.1 NguyÃªn táº¯c KISS"></a>4.3.1 NguyÃªn táº¯c KISS</h4><p>NguyÃªn táº¯c cá»§a KISS lÃ  â€œGiá»¯ nguyÃªn máº«u vÃ <br>Viáº¿t táº¯t cá»§a â€œStupidâ€, Ä‘Æ¡n giáº£n vÃ  dá»… váº­n hÃ nh lÃ  nhá»¯ng nguyÃªn táº¯c quan trá»ng nháº¥t cá»§a thiáº¿t káº¿. </p>
<p>NguyÃªn táº¯c KISS cÃ³ láº½ Ä‘Æ°á»£c tÃ´n trá»ng nháº¥t trong thiáº¿t káº¿, thiáº¿t káº¿ cáº£i tiáº¿n nhÃ , thiáº¿t káº¿ giao diá»‡n<br>Vá» thiáº¿t káº¿ hoáº¡t Ä‘á»™ng, nhá»¯ng thá»© phá»©c táº¡p ngÃ y cÃ ng trá»Ÿ nÃªn phá»• biáº¿n, trong khi nhá»¯ng thá»© Ä‘Æ¡n giáº£n ngÃ y cÃ ng Ä‘Æ°á»£c cÃ´ng nháº­n. VÃ­ dá»¥, nhá»¯ng thiáº¿t káº¿ giao diá»‡n ngÆ°á»i dÃ¹ng nÃ y vÃ  cÃ¡c trang web tiáº¿ng Trung cá»§a chÃºng tÃ´i lÃ  nhá»¯ng vÃ­ dá»¥ tiÃªu cá»±c. Ã tÆ°á»Ÿng sáº£n xuáº¥t vÃ  thiáº¿t káº¿ nhÃ  Ä‘Æ¡n giáº£n vÃ  hiá»‡u quáº£ cá»§a â€œIKEAâ€ (IKEA); â€œMicrosoftâ€ (Microsoft) â€œnhá»¯ng gÃ¬ báº¡n tháº¥y lÃ  nhá»¯ng gÃ¬ báº¡n nháº­n Ä‘Æ°á»£câ€; â€œGoogleâ€ (Google) phong cÃ¡ch kinh doanh Ä‘Æ¡n giáº£n vÃ  trá»±c tiáº¿p, khÃ´ng cÃ³ ngoáº¡i lá»‡, hÃ£y lÃ m theo NguyÃªn táº¯c â€œná»¥ hÃ´nâ€. ^ [7] ^ </p>
<h4 id="4-3-2-Chuc-nang"><a href="#4-3-2-Chuc-nang" class="headerlink" title="4.3.2 Chá»©c nÄƒng"></a>4.3.2 Chá»©c nÄƒng</h4><p>Theo nguyÃªn táº¯c ná»¥ hÃ´n, hÃ£y ngáº¯n gá»n nháº¥t cÃ³ thá»ƒ. ThÃªm há»™p danh sÃ¡ch nÃºt Há»™p chá»‰nh sá»­a<br>menu ^ [8] ^ Chá»©c nÄƒng cá»§a cÃ¡c Ä‘iá»u khiá»ƒn nÃ y nhÆ° sau: </p>
<ul>
<li>Há»™p chá»‰nh sá»­a <ul>
<li>Láº¥y chuá»—i mÃ  ngÆ°á»i dÃ¹ng cáº§n tÃ¬m kiáº¿m </li>
</ul>
</li>
<li>CÃ¡i nÃºt <ol>
<li>Láº¥y chuá»—i trong EditBox </li>
<li>KÃ½ tá»± quÃ¡ ngáº¯n báº­t lÃªn nháº¯c nhá»Ÿ </li>
<li>Vá»›i hÃ¬nh áº£nh kÃ­nh lÃºp, chá»©c nÄƒng rÃµ rÃ ng trong nhÃ¡y máº¯t </li>
</ol>
</li>
<li>Há»™p danh sÃ¡ch <ol>
<li>Hiá»ƒn thá»‹ tÃªn tá»‡p vÃ  Ä‘Æ°á»ng dáº«n phÃ¹ há»£p, nháº¥p Ä‘Ãºp Ä‘á»ƒ má»Ÿ tá»‡p </li>
<li>VÃ¬ Ä‘Æ°á»ng dáº«n cÃ³ thá»ƒ tÆ°Æ¡ng Ä‘á»‘i dÃ i, hÃ£y thÃªm thanh cuá»™n ngang </li>
<li>Nháº¥p Ä‘Ãºp vÃ o Ä‘Æ°á»ng dáº«n tá»‡p káº¿t quáº£ trong Há»™p danh sÃ¡ch Ä‘á»ƒ má»Ÿ tá»‡p Ä‘Æ°á»£c nháº¥p Ä‘Ãºp </li>
</ol>
</li>
<li>Thá»±c Ä‘Æ¡n <ul>
<li>Menu, báº¡n cÃ³ thá»ƒ chá»n trÆ°á»ng há»£p, tÃ¬m kiáº¿m thá»© tá»± </li>
</ul>
</li>
</ul>
<h3 id="4-4-Tham-gia-chuoi"><a href="#4-4-Tham-gia-chuoi" class="headerlink" title="4.4 Tham gia chuá»—i"></a>4.4 Tham gia chuá»—i</h3><h4 id="4-4-1-Tai-sao-phai-tham-gia-chuoi"><a href="#4-4-1-Tai-sao-phai-tham-gia-chuoi" class="headerlink" title="4.4.1 Táº¡i sao pháº£i tham gia chuá»—i"></a>4.4.1 Táº¡i sao pháº£i tham gia chuá»—i</h4><p>Lá»£i Ã­ch cá»§a chá»§ Ä‘á»: chá»§ Ä‘á» ráº». Luá»“ng báº¯t Ä‘áº§u nhanh hÆ¡n, thoÃ¡t nhanh hÆ¡n vÃ  Ã­t áº£nh hÆ°á»Ÿng hÆ¡n Ä‘áº¿n tÃ i nguyÃªn há»‡ thá»‘ng. </p>
<p>CÅ©ng xem xÃ©t: </p>
<ol>
<li>Do háº¡n cháº¿ cá»§a io, khÃ´ng cÃ³ Ã½ nghÄ©a gÃ¬ khi sá»­ dá»¥ng nhiá»u luá»“ng Ä‘á»ƒ Ä‘á»c MFT Ä‘á»“ng thá»i trÃªn cÃ¹ng má»™t Ä‘Ä©a cá»©ng. </li>
<li>Thay vÃ o Ä‘Ã³, viá»‡c truy cáº­p Ä‘Ä©a vÃ o MFT náº±m trong cÃ¡c phÃ¢n vÃ¹ng khÃ¡c nhau cá»§a cÃ¹ng má»™t Ä‘Ä©a cá»©ng cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng Ä‘áº¿n tá»‘c Ä‘á»™. Äá»‘i vá»›i mÃ¡y tÃ­nh cÃ³ nhiá»u Ä‘Ä©a cá»©ng, hiá»‡u quáº£ sáº½ Ä‘Æ°á»£c cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ. Tuy nhiÃªn, ngÆ°á»i dÃ¹ng nhiá»u á»• cá»©ng cÃ³ thá»ƒ táº¡o thÃ nh má»™t máº£ng RAID. Giáº£i phÃ¡p tá»‘t nháº¥t lÃ  Ä‘á»c Ä‘Ä©a A-Z tuáº§n tá»±. </li>
<li>Khi má»›i táº¡o MFC, nÃ³ Ä‘Æ°á»£c thá»±c thi tuáº§n tá»±, do Ä‘Ã³ giao diá»‡n chá»‰ cÃ³ thá»ƒ hiá»ƒn thá»‹ sau khi Ä‘Ã£ thá»‘ng kÃª xong táº¥t cáº£ dá»¯ liá»‡u, trong quÃ¡ trÃ¬nh nÃ y ngÆ°á»i dÃ¹ng dá»… máº¥t kiÃªn nháº«n. </li>
<li>Cuá»‘i cÃ¹ng quyáº¿t Ä‘á»‹nh má»™t luá»“ng giao diá»‡n ngÆ°á»i dÃ¹ng, má»™t thá»‘ng kÃª ná»n luá»“ng cÃ´ng nhÃ¢n. </li>
</ol>
<h4 id="4-4-2-Bat-dau-mot-chuoi-Worker-trong-MFC"><a href="#4-4-2-Bat-dau-mot-chuoi-Worker-trong-MFC" class="headerlink" title="4.4.2 Báº¯t Ä‘áº§u má»™t chuá»—i Worker trong MFC"></a>4.4.2 Báº¯t Ä‘áº§u má»™t chuá»—i Worker trong MFC</h4><p>MFC tá»« lÃ¢u Ä‘Ã£ há»— trá»£ Ä‘a luá»“ng. Trong má»™t MFC Ä‘iá»ƒn hÃ¬nh<br>Trong chÆ°Æ¡ng trÃ¬nh, sá»± há»— trá»£ cá»§a Ä‘a luá»“ng Ä‘Æ°á»£c áº©n sau ráº¥t nhiá»u cÃ´ng viá»‡c Ä‘Ã¡ng kinh ngáº¡c. MFC<br>Tháº­m chÃ­ cá»‘ gáº¯ng cá»§ng cá»‘ má»™t sá»‘ khÃ¡i niá»‡m Win32 liÃªn quan Ä‘áº¿n Ä‘a luá»“ng. </p>
<p>Cáº£ hai luá»“ng GUI vÃ  worker Ä‘á»u Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng AfxBeginThread (), nhÆ°ng MFC sá»­ dá»¥ng tÃ­nh cháº¥t náº¡p chá»“ng cá»§a cÃ¡c hÃ m C ++ Ä‘á»ƒ cung cáº¥p hai khai bÃ¡o khÃ¡c nhau cho hÃ m nÃ y. TrÃ¬nh biÃªn dá»‹ch sáº½ tá»± Ä‘á»™ng chá»n Ä‘Ãºng Ä‘á»ƒ sá»­ dá»¥ng dá»±a trÃªn cÃ¡c tham sá»‘ báº¡n cung cáº¥p. ^ [9] ^ </p>
<p>Sá»­ dá»¥ng AfxBeginThread Ä‘á»ƒ báº¯t Ä‘áº§u chuá»—i.<br>pParam Báº¥t ká»³ giÃ¡ trá»‹ 4 byte nÃ o, Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chuyá»ƒn Ä‘áº¿n luá»“ng má»›i. NÃ³ cÃ³ thá»ƒ lÃ  má»™t sá»‘ nguyÃªn, má»™t con trá», hoáº·c chá»‰ má»™t sá»‘ khÃ´ng. </p>
<p>Chá»‰ hai tham sá»‘ Ä‘áº§u tiÃªn Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ Ä‘Ã¢y, hÃ m luá»“ng trong Ä‘á»‘i tÆ°á»£ng vÃ  con trá» Ä‘á»‘i tÆ°á»£ng </p>
<p>Báº¡n cÃ³ thá»ƒ tháº¥y hai luá»“ng trong trÃ¬nh quáº£n lÃ½ tÃ¡c vá»¥, nhÆ° trong HÃ¬nh 4-3 </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_03.jpg">HÃ¬nh 4-3 TrÃ¬nh quáº£n lÃ½ tÃ¡c vá»¥ hiá»ƒn thá»‹ sá»‘ luá»“ng</a> </p>
<p>Khi luá»“ng cÃ´ng nhÃ¢n hoÃ n thÃ nh nhiá»‡m vá»¥ cá»§a nÃ³, nÃ³ sáº½ tá»± Ä‘á»™ng káº¿t thÃºc vÃ  quay trá»Ÿ láº¡i má»™t luá»“ng. </p>
<h4 id="4-4-3-Thu-nho-vung-thong-bao"><a href="#4-4-3-Thu-nho-vung-thong-bao" class="headerlink" title="4.4.3 Thu nhá» vÃ¹ng thÃ´ng bÃ¡o"></a>4.4.3 Thu nhá» vÃ¹ng thÃ´ng bÃ¡o</h4><p>Giá» Ä‘Ã¢y, ngÃ y cÃ ng cÃ³ nhiá»u chÆ°Æ¡ng trÃ¬nh nháº¥p vÃ o Ä‘Ã³ng á»Ÿ gÃ³c trÃªn bÃªn pháº£i, biá»ƒu tÆ°á»£ng nÃ y thá»±c sá»± Ä‘Æ°á»£c thu nhá» thÃ nh biá»ƒu tÆ°á»£ng khay. Äá»ƒ thoÃ¡t khá»i chÆ°Æ¡ng trÃ¬nh, báº¡n cáº§n nháº¥p chuá»™t pháº£i vÃ o biá»ƒu tÆ°á»£ng khay Ä‘á»ƒ thoÃ¡t. </p>
<p>Thá»±c hiá»‡n thu nhá» mÃ  khÃ´ng cáº§n thoÃ¡t khá»i chÆ°Æ¡ng trÃ¬nh, báº¡n cÃ³ thá»ƒ tÃ¬m tháº¥y cÃ¡c tá»‡p má»™t cÃ¡ch thuáº­n tiá»‡n. </p>
<p>1) Thu nhá» hiá»ƒn thá»‹ trÃªn thanh tÃ¡c vá»¥. </p>
<p>2) Nháº¥p vÃ o ÄÃ³ng Ä‘á»ƒ thoÃ¡t Ä‘áº¿n biá»ƒu tÆ°á»£ng khay mÃ  khÃ´ng hiá»ƒn thá»‹ nÃ³ trÃªn thanh tÃ¡c vá»¥; nháº¥p Ä‘Ãºp Ä‘á»ƒ tráº£ lá»i cá»­a sá»• hiá»ƒn thá»‹. </p>
<p>3) ThÃªm menu vÃ o biá»ƒu tÆ°á»£ng khay. </p>
<h3 id="4-5-Tim"><a href="#4-5-Tim" class="headerlink" title="4.5 TÃ¬m"></a>4.5 TÃ¬m</h3><h4 id="4-5-1-Ky-tu-dai-dien"><a href="#4-5-1-Ky-tu-dai-dien" class="headerlink" title="4.5.1 KÃ½ tá»± Ä‘áº¡i diá»‡n"></a>4.5.1 KÃ½ tá»± Ä‘áº¡i diá»‡n</h4><p>Trong cÃ¡c á»©ng dá»¥ng thá»±c táº¿, khÃ´ng thá»ƒ nhá»› rÃµ tÃªn tá»‡p, cháº³ng háº¡n nhÆ° test.2012-5-14.txt, thÆ°á»ng cÃ³ nghÄ©a lÃ  â€œthá»­ nghiá»‡m<br>.txt â€, vÃ¬ váº­y cáº§n tÃ¬m kiáº¿m má». VÃ¬ trong báº£ng Ä‘iá»u khiá»ƒn, tÃªn tá»‡p lÃ  &lt;tÃªn tá»‡p,<br>pfrn&gt; Táº¡o báº£ng bÄƒm. Náº¿u báº¡n muá»‘n triá»ƒn khai tÃ¬m kiáº¿m má», báº£ng bÄƒm trá»Ÿ nÃªn khÃ´ng cáº§n thiáº¿t. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng trá»±c tiáº¿p vectÆ¡ vÃ¹ng chá»©a. </p>
<p>Theo tÃ¬nh hÃ¬nh thá»±c táº¿, khÃ´ng yÃªu cáº§u kÃ½ tá»± Ä‘áº¡i diá»‡n nghiÃªm ngáº·t, â€œ\ *?â€<br>CÃ³ thá»ƒ giáº£i quyáº¿t háº§u háº¿t cÃ¡c váº¥n Ä‘á» tÃ¬m kiáº¿m, cá»™ng vá»›i ngÆ°á»i dÃ¹ng nÃ³i chung cÃ³ thá»ƒ khÃ´ng biáº¿t viá»‡c sá»­ dá»¥ng cÃ¡c kÃ½ tá»± Ä‘áº¡i diá»‡n, chÆ°a nÃ³i Ä‘áº¿n cÃ¡c biá»ƒu thá»©c chÃ­nh quy. VÃ¬ váº­y, hÃ£y báº¯t Ä‘áº§u vá»›i â€œkhoáº£ng tráº¯ngâ€<br>Thay vÃ¬ â€œ\ *?â€, HÃ£y triá»ƒn khai Baidu<br>PhÆ°Æ¡ng phÃ¡p tÃ¬m kiáº¿m cá»§a Google tÃ¡ch tá»« khÃ³a báº±ng dáº¥u cÃ¡ch lÃ  má»™t giáº£i phÃ¡p tá»‘t. \ * \ * \ * \ * </p>
<h4 id="4-5-2-Truong-hop-don-dat-hang"><a href="#4-5-2-Truong-hop-don-dat-hang" class="headerlink" title="4.5.2 TrÆ°á»ng há»£p, Ä‘Æ¡n Ä‘áº·t hÃ ng"></a>4.5.2 TrÆ°á»ng há»£p, Ä‘Æ¡n Ä‘áº·t hÃ ng</h4><p>NhÃ¬n chung cÃ³ hai tÃ¬nh huá»‘ng sau: </p>
<ol>
<li>NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ khÃ´ng nhá»› trÆ°á»ng há»£p cá»§a tÃªn tá»‡p hoáº·c Ä‘Æ°á»ng dáº«n </li>
<li>ÄÃ´i khi cÃ³ quÃ¡ nhiá»u tá»‡p vÃ  cÃ³ thá»ƒ pháº£i viáº¿t hoa nghiÃªm ngáº·t Ä‘á»ƒ lá»c Ä‘Ãºng tá»‡p </li>
<li>KhÃ´ng thá»ƒ nhá»› thá»© tá»± cá»§a cÃ¡c tá»« khÃ³a </li>
</ol>
<p>VÃ¬ váº­y, hÃ£y cung cáº¥p hai tÃ¹y chá»n sau: </p>
<ol>
<li>TrÆ°á»ng há»£p nghiÃªm ngáº·t </li>
<li>KhÃ´ng cÃ³ Ä‘Æ¡n Ä‘áº·t hÃ ng </li>
</ol>
<p>Theo tÃ¬nh hÃ¬nh chung, máº·c Ä‘á»‹nh lÃ : khÃ´ng phÃ¢n biá»‡t chá»¯ hoa chá»¯ thÆ°á»ng, tÃ¬m kiáº¿m tuáº§n tá»± </p>
<h4 id="4-5-3-Quyen-rieng-tu-cua-nguoi-dung-va-duong-dan-he-thong"><a href="#4-5-3-Quyen-rieng-tu-cua-nguoi-dung-va-duong-dan-he-thong" class="headerlink" title="4.5.3 Quyá»n riÃªng tÆ° cá»§a ngÆ°á»i dÃ¹ng vÃ  Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng"></a>4.5.3 Quyá»n riÃªng tÆ° cá»§a ngÆ°á»i dÃ¹ng vÃ  Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng</h4><ol>
<li>HÃ£y xem xÃ©t ráº±ng má»™t sá»‘ thÆ° má»¥c Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c tá»‡p riÃªng tÆ° cá»§a ngÆ°á»i dÃ¹ng. </li>
<li>CÃ¡c thÆ° má»¥c há»‡ thá»‘ng, vÃ­ dá»¥: <code>c: \ windows \ *</code> NgÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng sáº½ khÃ´ng sá»­ dá»¥ng nÃ³. Viá»‡c tÃ¬m kiáº¿m tÆ°Æ¡ng tá»± sáº½ chá»‰ lÃ m tÄƒng cÃ¡c tá»‡p khÃ´ng cáº§n thiáº¿t vÃ  táº¡o gÃ¡nh náº·ng cho há»‡ thá»‘ng. </li>
</ol>
<p>VÃ¬ váº­y cáº§n thÃªm tÃ¹y chá»n loáº¡i trá»« thÆ° má»¥c, nhÆ° trong HÃ¬nh 4-4 </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">HÃ¬nh 4-4 Giao diá»‡n loáº¡i trá»« thÆ° má»¥c</a> </p>
<p>Chá»©c nÄƒng tÆ°Æ¡ng á»©ng lÃ : </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isIgnore</span><span class="params">( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;\* pignorelist )</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> tmp = CW2A(path);</span><br><span class="line">	<span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::iterator it = pignorelist-&gt;begin();</span><br><span class="line">		it != pignorelist-&gt;end(); ++it ) &#123;</span><br><span class="line">			<span class="keyword">size_t</span> i = it-&gt;length();</span><br><span class="line">			<span class="keyword">if</span> ( !tmp.compare(<span class="number">0</span>, i, \*it,<span class="number">0</span>, i) ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-4-Thuc-hien"><a href="#4-5-4-Thuc-hien" class="headerlink" title="4.5.4 Thá»±c hiá»‡n"></a>4.5.4 Thá»±c hiá»‡n</h4><p>Lá»›p chuá»—i phÃ¹ há»£p má»›i </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cmpStrStr</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	cmpStrStr(<span class="keyword">bool</span> uplow, <span class="keyword">bool</span> inorder) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;uplow = uplow;</span><br><span class="line">		<span class="keyword">this</span>-&gt;isOrder = inorder;</span><br><span class="line">	&#125;</span><br><span class="line">	~cmpStrStr() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">cmpStrFilename</span><span class="params">(CString str, CString filename)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">infilename</span><span class="params">(CString &amp;strtmp, CString &amp;filenametmp)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">bool</span> uplow;</span><br><span class="line">	<span class="keyword">bool</span> isOrder;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Di chuyá»ƒn VecNameCur trong ** 4.2.1 **, chuyá»ƒn hÃ m Ä‘á»‘i sÃ¡nh cmpStrFilename vÃ  nháº­n tÃªn tá»‡p phÃ¹ há»£p </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;Name_Cur&gt;::const_iterator cit = VecNameCur.begin();</span><br><span class="line">	cit != VecNameCur.end(); ++cit) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( cmpstrstr.cmpStrFilename(str, cit-&gt;filename) ) &#123;</span><br><span class="line">		path.Empty();</span><br><span class="line">		<span class="comment">// è¿˜åŸ è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// vol:\  path \ cit-&gt;filename</span></span><br><span class="line">		getPath(cit-&gt;pfrn, path);</span><br><span class="line">		path += cit-&gt;filename;</span><br><span class="line">		<span class="comment">// pathå·²æ˜¯å…¨è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> ( isIgnore(pignorelist) ) &#123;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		rightFile.push_back(path);</span><br><span class="line">		<span class="comment">//path.Empty();</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cmpStrFilenameå‡½æ•°ï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> end = str.GetLength();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> ( pos &lt; end ) &#123;</span><br><span class="line">	<span class="comment">// å¯¹äºstrï¼Œå–å¾— æ¯ä¸ªç©ºæ ¼åˆ†å¼€ä¸ºçš„å…³é”®è¯</span></span><br><span class="line">	pos = str.Find( _T(<span class="string">&#x27; &#x27;</span>) );</span><br><span class="line"></span><br><span class="line">	CString strtmp;</span><br><span class="line">	<span class="keyword">if</span> ( pos == <span class="number">-1</span> ) &#123;</span><br><span class="line">		<span class="comment">// æ— ç©ºæ ¼</span></span><br><span class="line">		strtmp = str;</span><br><span class="line">		pos = end;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		strtmp = str.Mid(<span class="number">0</span>, pos<span class="number">-0</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( !infilename(strtmp, filename) ) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	str.Delete(<span class="number">0</span>, pos);</span><br><span class="line">	str.TrimLeft(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Báº¡n cÃ³ thá»ƒ dá»… dÃ ng viáº¿t láº¡i thuáº­t toÃ¡n so khá»›p chuá»—i trong hÃ m infilename Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c má»™t sá»‘ pháº§n má»Ÿ rá»™ng </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">filenametmp</span><span class="params">(filename)</span></span>;</span><br><span class="line"><span class="keyword">int</span> pos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !uplow ) &#123;</span><br><span class="line">	<span class="comment">// å¤§å°å†™æ•æ„Ÿ</span></span><br><span class="line">	filenametmp.MakeLower();</span><br><span class="line">	pos = filenametmp.Find(strtmp.MakeLower());</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	pos = filenametmp.Find(strtmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="number">-1</span> == pos ) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !isOrder ) &#123;</span><br><span class="line">	<span class="comment">// æ— é¡ºåº</span></span><br><span class="line">	filename.Delete(<span class="number">0</span>, pos+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-5-Dau-ra-duong-dan"><a href="#4-5-5-Dau-ra-duong-dan" class="headerlink" title="4.5.5 Äáº§u ra Ä‘Æ°á»ng dáº«n"></a>4.5.5 Äáº§u ra Ä‘Æ°á»ng dáº«n</h4><p>Sau khi nháº­n Ä‘Æ°á»£c tÃªn tá»‡p phÃ¹ há»£p, bÆ°á»›c tiáº¿p theo lÃ  láº¥y Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng cá»§a tá»‡p. Chuyá»ƒn tÃªn Ä‘áº§y Ä‘á»§ cá»§a tÃªn tá»‡p phÃ¹ há»£p cÃ³ Ä‘Æ°á»£c á»Ÿ trÃªn vÃ o báº£ng bÄƒm frnPfrnNameMap Ä‘Æ°á»£c xÃ¢y dá»±ng trong ** 4.2.2 ** Ä‘á»ƒ láº¥y Ä‘Æ°á»ng dáº«n má»™t cÃ¡ch Ä‘á»‡ quy. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">Volume::getPath</span><span class="params">(DWORDLONG frn, CString &amp;path)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æŸ¥æ‰¾2</span></span><br><span class="line">	Frn_Pfrn_Name_Map::iterator it = frnPfrnNameMap.find(frn);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (it != frnPfrnNameMap.end()) &#123;</span><br><span class="line"></span><br><span class="line">		  <span class="keyword">if</span> ( <span class="number">0</span> != it-&gt;second.pfrn ) &#123;</span><br><span class="line">		 	  getPath(it-&gt;second.pfrn, path);</span><br><span class="line">		  &#125;</span><br><span class="line"></span><br><span class="line">		  path += it-&gt;second.filename;</span><br><span class="line">		  path += ( _T(<span class="string">&quot;\&quot;) );</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">	return path;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-Phan-tich-do-phuc-tap"><a href="#5-Phan-tich-do-phuc-tap" class="headerlink" title="5 PhÃ¢n tÃ­ch Ä‘á»™ phá»©c táº¡p"></a>5 PhÃ¢n tÃ­ch Ä‘á»™ phá»©c táº¡p</h2><h3 id="5-1-Do-phuc-tap-ve-thoi-gian"><a href="#5-1-Do-phuc-tap-ve-thoi-gian" class="headerlink" title="5.1 Äá»™ phá»©c táº¡p vá» thá»i gian"></a>5.1 Äá»™ phá»©c táº¡p vá» thá»i gian</h3><p>Vá» lÃ½ thuyáº¿t, Ä‘á»™ phá»©c táº¡p vá» thá»i gian lÃ : </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_05.jpg">HÃ¬nh 5-1 PhÃ¢n tÃ­ch Ä‘á»™ phá»©c táº¡p</a> </p>
<p>TrÃªn bá»™ vi xá»­ lÃ½ AMD Athlon (tm) II X2 245 2,9 GHz, káº¿t quáº£ gáº§n nhÆ° ngay láº­p tá»©c. </p>
<h3 id="5-2-Do-phuc-tap-ve-khong-gian"><a href="#5-2-Do-phuc-tap-ve-khong-gian" class="headerlink" title="5.2 Äá»™ phá»©c táº¡p vá» khÃ´ng gian"></a>5.2 Äá»™ phá»©c táº¡p vá» khÃ´ng gian</h3><p>Do sá»‘ lÆ°á»£ng lá»›n cÃ¡c tá»‡p mÃ¡y tÃ­nh - thÆ°á»ng lÃ  10W-100W, viá»‡c sá»­ dá»¥ng bá»™ nhá»› cá»§a chÃ­nh chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ bá»‹ bá» qua. </p>
<p>234.708 tá»‡p khoáº£ng 43M. </p>
<p>Äá»‘i vá»›i cÃ¡c há»‡ thá»‘ng cÃ³ Ã­t nháº¥t 2G bá»™ nhá»› ngÃ y nay, Ä‘Ã³ khÃ´ng pháº£i lÃ  má»™t gÃ¡nh náº·ng. </p>
<h2 id="6-Su-co-gap-phai"><a href="#6-Su-co-gap-phai" class="headerlink" title="6 Sá»± cá»‘ gáº·p pháº£i"></a>6 Sá»± cá»‘ gáº·p pháº£i</h2><h3 id="6-1-Khong-the-khoi-tao-tep-USN"><a href="#6-1-Khong-the-khoi-tao-tep-USN" class="headerlink" title="6.1 KhÃ´ng thá»ƒ khá»Ÿi táº¡o tá»‡p USN"></a>6.1 KhÃ´ng thá»ƒ khá»Ÿi táº¡o tá»‡p USN</h3><p>ÄÄ©a O trÃªn mÃ¡y tÃ­nh khÃ´ng thá»ƒ khá»Ÿi táº¡o tá»‡p nháº­t kÃ½ USN. Qua gá»¡ lá»—i, chÃºng tÃ´i tháº¥y ráº±ng: </p>
<p>DeviceIoControl tráº£ vá» 0, GetLastError 0x70 </p>
<p>Kiá»ƒm tra msdn, lÃ½ do lÃ  ERROR_SHARING_PAUSED </p>
<p>HÃ³a ra tÃ´i quÃªn khá»Ÿi táº¡o vÃ  thÃªm Ä‘oáº¡n mÃ£ sau, chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ truy cáº­p Ä‘Ä©a O bÃ¬nh thÆ°á»ng </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE_USN_JOURNAL_DATA cujd;</span><br><span class="line">cujd.MaximumSize = <span class="number">0</span>; <span class="comment">// 0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line">cujd.AllocationDelta = <span class="number">0</span>; <span class="comment">// 0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2-Van-de-wchar-va-char-duoi-unicode"><a href="#6-2-Van-de-wchar-va-char-duoi-unicode" class="headerlink" title="6.2 Váº¥n Ä‘á» wchar vÃ  char dÆ°á»›i unicode"></a>6.2 Váº¥n Ä‘á» wchar vÃ  char dÆ°á»›i unicode</h3><p>Ban Ä‘áº§u, vá» xá»­ lÃ½ chuá»—i, chuá»—i hÃ m thÆ° viá»‡n tiÃªu chuáº©n Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m phÆ°Æ¡ng thá»©c xá»­ lÃ½, nhÆ°ng trong unicode<br>Sau Ä‘Ã¢y lÃ  má»™t wchar byte kÃ©p, Ä‘Ã£ gáº·p ráº¥t nhiá»u ráº¯c rá»‘i trong viá»‡c chuyá»ƒn Ä‘á»•i chuá»—i. Cuá»‘i cÃ¹ng, CString Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m chuá»—i máº·c Ä‘á»‹nh vÃ  \ _T (â€œâ€) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khá»Ÿi táº¡o chuá»—i. </p>
<h3 id="6-3-van-de-ve-vi-tri-ifdef"><a href="#6-3-van-de-ve-vi-tri-ifdef" class="headerlink" title="6.3 # váº¥n Ä‘á» vá» vá»‹ trÃ­ #ifdef"></a>6.3 # váº¥n Ä‘á» vá» vá»‹ trÃ­ #ifdef</h3><p>\ #ifdef, khÃ´ng cÃ³ Ä‘iá»ƒm ngáº¯t nÃ o cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘áº·t trong Ä‘Ã³ vÃ  sau Ä‘Ã³ tÃ´i nháº­n tháº¥y ráº±ng #define Ä‘Æ°á»£c viáº¿t trÆ°á»›c include. </p>
<h3 id="6-4-Chuyen-tham-so"><a href="#6-4-Chuyen-tham-so" class="headerlink" title="6.4 Chuyá»ƒn tham sá»‘"></a>6.4 Chuyá»ƒn tham sá»‘</h3><p>TÃ´i báº¯t Ä‘áº§u thiáº¿t káº¿ vá»›i tÆ° duy hÆ°á»›ng tiáº¿n trÃ¬nh vÃ  gáº·p khÃ³ khÄƒn khi truyá»n tham sá»‘ vÃ o cÃ¹ng má»™t xá»­ lÃ½. Sau Ä‘Ã³, nÃ³ Ä‘Ã£ chuyá»ƒn sang phÆ°Æ¡ng thá»©c lá»›p Ä‘á»ƒ cáº£i thiá»‡n ráº¥t nhiá»u. </p>
<h2 id="7-toi-uu-hoa-nho"><a href="#7-toi-uu-hoa-nho" class="headerlink" title="7 tá»‘i Æ°u hÃ³a nhá»"></a>7 tá»‘i Æ°u hÃ³a nhá»</h2><h3 id="7-1-Toc-do-doc"><a href="#7-1-Toc-do-doc" class="headerlink" title="7.1 Tá»‘c Ä‘á»™ Ä‘á»c"></a>7.1 Tá»‘c Ä‘á»™ Ä‘á»c</h3><p>Khi xÃ¢y dá»±ng hÃ m bÄƒm, ngÆ°á»i ta Ä‘Ã£ nghÄ© Ä‘áº¿n ba phÆ°Æ¡ng phÃ¡p vÃ  thá»±c hiá»‡n cÃ¡c thÃ­ nghiá»‡m tÆ°Æ¡ng á»©ng, sá»­ dá»¥ng hÃ m thá»i gian Ä‘á»ƒ Ä‘áº¿m thá»i gian Ä‘Ã£ sá»­ dá»¥ng vÃ  káº¿t quáº£ nhÆ° sau: </p>
<p>1) Sau khi sá»­a Ä‘á»•i mÃ£, hÃ£y Ä‘á»c usn má»™t láº§n, lÆ°u trá»¯ nÃ³ trong má»™t tá»‡p táº¡m thá»i, Ä‘á»c vÃ  xÃ¢y dá»±ng báº£ng bÄƒm </p>
<p>Má»—i láº§n cháº¡y, thá»i gian trung bÃ¬nh khoáº£ng 27s </p>
<p>2) Sá»­ dá»¥ng vectÆ¡ Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u trong bá»™ nhá»›, sau khi phÃ¡t hÃ nh, </p>
<p>Káº¿t quáº£ lÃ  hÃ i lÃ²ng, vÃ  thá»i gian Ä‘Ã£ tÄƒng lÃªn gáº§n 10 láº§n! ! ! NhÆ° trong HÃ¬nh 7-1: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">7-1 Di chuyá»ƒn táº¥t cáº£ cÃ¡c Ä‘Ä©a</a> </p>
<p>NÃ³ hoÃ n toÃ n náº±m trong pháº¡m vi cháº¥p nháº­n Ä‘Æ°á»£c. </p>
<p>Láº§n cháº¡y Ä‘áº§u tiÃªn rÃµ rÃ ng lÃ  tá»‘n thá»i gian, vÃ  sau Ä‘Ã³ tá»‡p Ä‘Æ°á»£c Ä‘á»c trÆ°á»›c tá»« bá»™ nhá»› cache cá»§a Ä‘Ä©a vÃ  tá»‘c Ä‘á»™ tÄƒng vá»t. Äiá»ƒm phÃ¡t sÃ³ng phÃ¢n tÃ­ch nÃªn náº±m trong thá»i gian tÃ¬m kiáº¿m Ä‘Ä©a vÃ  Ä‘á»c tá»‡p. </p>
<h3 id="7-2-Phuong-phap-mo-tep"><a href="#7-2-Phuong-phap-mo-tep" class="headerlink" title="7.2 PhÆ°Æ¡ng phÃ¡p má»Ÿ tá»‡p"></a>7.2 PhÆ°Æ¡ng phÃ¡p má»Ÿ tá»‡p</h3><p>Trong ** 4.3.2 **, nháº¥p Ä‘Ãºp vÃ o Ä‘Æ°á»ng dáº«n tá»‡p trong ListBox Ä‘á»ƒ má»Ÿ tá»‡p pháº£n há»“i. LÃºc Ä‘áº§u, hÃ m há»‡ thá»‘ng system () Ä‘Æ°á»£c sá»­ dá»¥ng, nhÆ°ng cá»­a sá»• báº£ng Ä‘iá»u khiá»ƒn mÃ u Ä‘en sáº½ báº­t lÃªn vÃ  cá»­a sá»• chÃ­nh sáº½ bá»‹ khÃ³a, v.v. Viá»‡c thá»±c thi chá»‰ cÃ³ thá»ƒ tiáº¿p tá»¥c sau khi tá»‡p Ä‘Æ°á»£c Ä‘Ã³ng, Ä‘iá»u nÃ y ráº¥t báº¥t lá»£i cho tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng. Thay vÃ o Ä‘Ã³ hÃ£y gá»i hÃ m ShellExecute Ä‘á»ƒ má»Ÿ má»™t tiáº¿n trÃ¬nh má»›i vÃ  cá»­a sá»• chÃ­nh cÃ³ thá»ƒ tiáº¿p tá»¥c thá»±c thi. </p>
<h3 id="7-3-Thanh-tien-trinh"><a href="#7-3-Thanh-tien-trinh" class="headerlink" title="7.3 Thanh tiáº¿n trÃ¬nh"></a>7.3 Thanh tiáº¿n trÃ¬nh</h3><p>Sau khi phiÃªn báº£n V1.0 Ä‘Æ°á»£c phÃ¡t hÃ nh, khÃ´ng cÃ³ thÃ´ng bÃ¡o nháº¯c nhá»Ÿ khi má»™t sá»‘ sinh viÃªn bÃ¡o cÃ¡o tá»‡p thá»‘ng kÃª lÃ½ lá»‹ch nÃªn khÃ´ng biáº¿t khi nÃ o má»›i hoÃ n thÃ nh. VÃ¬ váº­y, má»™t thanh tiáº¿n trÃ¬nh Ä‘Æ°á»£c thÃªm vÃ o á»Ÿ cuá»‘i giao diá»‡n chÃ­nh Ä‘á»ƒ tÄƒng cÆ°á»ng kháº£ nÄƒng tÆ°Æ¡ng tÃ¡c, nhÆ° trong hÃ¬nh<br>7-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_07.jpg">HÃ¬nh 7-2 Thanh tiáº¿n trÃ¬nh</a> </p>
<p>Táº¥t nhiÃªn, chá»©c nÄƒng luá»“ng cÅ©ng Ä‘Ã£ thá»±c hiá»‡n nhá»¯ng thay Ä‘á»•i cáº§n thiáº¿t: </p>
<h1 id="8-Ket-luan"><a href="#8-Ket-luan" class="headerlink" title="8 Káº¿t luáº­n"></a>8 Káº¿t luáº­n</h1><p>Cho Ä‘áº¿n nay, cÃ¡c chá»©c nÄƒng cÆ¡ báº£n cá»§a chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ hoÃ n thÃ nh, thá»­ nghiá»‡m trÃªn nhiá»u mÃ¡y tÃ­nh vÃ  nhiá»u há»‡ mÃ¡y khÃ¡c nhau (cÃ¡c dÃ²ng windows XP trá»Ÿ lÃªn) vá» cÆ¡ báº£n khÃ´ng cÃ³ hiá»‡n tÆ°á»£ng bá»‹ treo, treo chÆ°Æ¡ng trÃ¬nh. </p>
<p>Do thá»i gian vÃ  cÃ¡c lÃ½ do khÃ¡c, váº«n cÃ²n nhiá»u chá»©c nÄƒng chÆ°a Ä‘Æ°á»£c thá»±c hiá»‡n nhÆ° khÃ´ng thá»ƒ má»Ÿ rá»™ng giao diá»‡n, khÃ´ng thá»ƒ thu tháº­p Ä‘á»™ng dá»¯ liá»‡u tá»‡p. </p>
<h1 id="nguoi-gioi-thieu"><a href="#nguoi-gioi-thieu" class="headerlink" title="ngÆ°á»i giá»›i thiá»‡u"></a>ngÆ°á»i giá»›i thiá»‡u</h1><p>[1] SÃ¡ch tráº¯ng vá» pháº§n cá»©ng. Äáº·c táº£ há»‡ thá»‘ng tá»‡p NTFS [OL]. ThÆ° viá»‡n Baidu, 2011: 30.<br>[2] Beiyu, NghiÃªn cá»©u má»™t sá»‘ cÃ´ng nghá»‡ cá»§a há»‡ thá»‘ng tá»‡p NTFS [CV]. 2007: 7.<br>[3] Tráº» sÆ¡ sinh. BÃ¡ch khoa toÃ n thÆ° tÆ°Æ¡ng tÃ¡c [CV]. Http://<a target="_blank" rel="noopener" href="http://www.hudong.com/wiki/ntfs">www.hudong.com/wiki/ntfs</a><br>[4] Microsoft. ThÆ° viá»‡n MSDN [OL]. 2012:<br>[5] Stanley B.Lippman / JosÃ©e LaJoie / Barbara E.Moo. C \ + \ + SÆ¡n lÃ³t [M]. Addison-Wesley Professional, 2006: 10,3<br>[6] Eric S. Raymond. NgÆ°á»i dá»‹ch: Jiang Hong, He Yuan, Cai Xiaojun. Nghá»‡ thuáº­t láº­p trÃ¬nh UNIX [m]. NhÃ  xuáº¥t báº£n CÃ´ng nghiá»‡p Äiá»‡n tá»­, 2006:<br>[7] Chen Hao. Má»™t sá»‘ nguyÃªn táº¯c thiáº¿t káº¿ pháº§n má»m [CV]. Http://coolshell.cn/articles/4535.html<br>[8] Sun Xin. Giáº£i thÃ­ch chi tiáº¿t chuyÃªn sÃ¢u vá» VC ++ [m]. NgÃ nh Äiá»‡n tá»­, 2006<br>[9] Jim Beveridge / Robert Wiener. á»¨ng dá»¥ng Ä‘a luá»“ng trong Win32: HÆ°á»›ng dáº«n Ä‘áº§y Ä‘á»§ vá» chuá»—i<br>[10] Addison-Wesley Professional, 1996: 223-243 </p>
<h1 id="Tom-tat-tieng-anh"><a href="#Tom-tat-tieng-anh" class="headerlink" title="TÃ³m táº¯t tiáº¿ng anh"></a>TÃ³m táº¯t tiáº¿ng anh</h1><p>** Äá»‹nh vá»‹ nhanh chÃ³ng cÃ¡c tá»‡p Ä‘Ä©a NTFS ** </p>
<p>LE IH Ão </p>
<p>(TrÆ°á»ng ThÃ´ng tin &amp; MÃ¡y tÃ­nh, Äáº¡i há»c NÃ´ng nghiá»‡p An Huy, Há»£p PhÃ¬ 230036) </p>
<p>** TÃ³m táº¯t ** ï¼š BÃ i viáº¿t nÃ y mÃ´ táº£ trÃªn Ä‘Ä©a NTFS cá»§a Windows,<br>liá»‡t kÃª táº¥t cáº£ tÃªn cá»§a cÃ¡c tá»‡p vÃ  thÆ° má»¥c trÃªn Ä‘Ä©a cá»©ng,<br>vÃ  xÃ¢y dá»±ng báº£ng bÄƒm báº±ng cÃ¡ch sá»­ dá»¥ng C ++ STL, MFC GUI vÃ  luá»“ng cÃ´ng nhÃ¢n.<br>Cuá»‘i cÃ¹ng, ngÆ°á»i dÃ¹ng nháº­p tá»« khÃ³a, nhÆ° má»™t tÃ¬m kiáº¿m Ä‘Æ¡n giáº£n nhÆ° google<br>tÃ¬m kiáº¿m tá»« khÃ³a vÃ  sau Ä‘Ã³ tráº£ vá» ngay láº­p tá»©c táº¥t cáº£ cÃ¡c tá»‡p / thÆ° má»¥c phÃ¹ há»£p<br>vÃ  Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng cá»§a chÃºng. </p>
<p>** Tá»« khÃ³a: ** NTFS, Nhanh, TÃ¬m kiáº¿m, Tá»« khÃ³a, ÄÆ°á»ng dáº«n tá»‡p </p>

    </div>

    
    
    
      
  <div class="popular-posts-header">CÃ¡c bÃ i viáº¿t liÃªn quan</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/Go-Web/" rel="bookmark">Truy cáº­p web</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/Learn-Go-in-20-days/" rel="bookmark">Há»c Go trong 20 ngÃ y</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/ios-developer-account-and-app-store/" rel="bookmark">TÃ i khoáº£n nhÃ  phÃ¡t triá»ƒn iOS vÃ  cÃ¡ch liá»‡t kÃª nÃ³</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/count-lines-of-code/" rel="bookmark">DÃ²ng mÃ£</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/A-simple-VS-between-Sinatra-and-Martini/" rel="bookmark">Má»™t VS Ä‘Æ¡n giáº£n giá»¯a Sinatra vÃ  Martini</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me ğŸ‘¨â€ğŸ’» a coffee â˜•ï¸</div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    TÃ i trá»£
  </button>
  <div class="post-reward">
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/wechat.png" alt="LeiHao WeChat Pay">
        <span>WeChat Pay</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/alipay.png" alt="LeiHao Alipay">
        <span>Alipay</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/bitcoin.png" alt="LeiHao Bitcoin">
        <span>Bitcoin</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/vi/tags/programming/" rel="tag"># Programming</a>
              <a href="/vi/tags/everything/" rel="tag"># Everything</a>
              <a href="/vi/tags/ntfs/" rel="tag"># NTFS</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/vi/Before-graduation/" rel="next" title="HÆ¡n mÆ°á»i ngÃ y trÆ°á»›c khi tá»‘t nghiá»‡p">
                  HÆ¡n mÆ°á»i ngÃ y trÆ°á»›c khi tá»‘t nghiá»‡p <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2012 â€“ 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-laptop-code"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LeiHao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Tá»•ng sá»‘ biá»ƒu tÆ°á»£ng">511k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Tá»•ng thá»i lÆ°á»£ng Ä‘á»c">7:44</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/vi/js/utils.js"></script><script src="/vi/js/next-boot.js"></script>

  




  <script src="/vi/js/local-search.js"></script>















  








  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://Artwalk.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://leihao0.github.io/vi/QSearch/";
    this.page.identifier = "QSearch/";
    this.page.title = "NguyÃªn lÃ½ vÃ  hiá»‡n thá»±c hÃ³a má»i thá»©";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://Artwalk.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
