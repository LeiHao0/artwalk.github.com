<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/de/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/de/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/de/images/logo.png">
  <link rel="mask-icon" href="/de/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="rbaH_zC-qBwXaawJ10Mno3FHzv9HRFHGFdXx2f1BwyI">

<link rel="stylesheet" href="/de/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">

<script data-ad-client="ca-pub-2317298287519457" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"leihao0.github.io","root":"/de/","scheme":"Pisces","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Suche...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/de/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="Forschungsinhalte   Lesen Sie NTFS MFT  Aufbau der Hash-Tabelle  Systempfad der Datei  GUI und Worker-Threads  Mehrere Suchmethoden  MFC-Schnittstelle   Forschungsplan   Anfang April bis Mitte April,">
<meta property="og:type" content="article">
<meta property="og:title" content="Die prinzipielle Vermutung und Verwirklichung von Allem">
<meta property="og:url" content="https://leihao0.github.io/de/QSearch/index.html">
<meta property="og:site_name" content="LeiHao&#39;s Blog">
<meta property="og:description" content="Forschungsinhalte   Lesen Sie NTFS MFT  Aufbau der Hash-Tabelle  Systempfad der Datei  GUI und Worker-Threads  Mehrere Suchmethoden  MFC-Schnittstelle   Forschungsplan   Anfang April bis Mitte April,">
<meta property="og:locale" content="de_DE">
<meta property="article:published_time" content="2012-05-26T14:44:42.000Z">
<meta property="article:modified_time" content="2020-12-22T00:32:16.915Z">
<meta property="article:author" content="LeiHao">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="Everything">
<meta property="article:tag" content="NTFS">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://leihao0.github.io/de/QSearch/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'de'
  };
</script>

  <title>Die prinzipielle Vermutung und Verwirklichung von Allem | LeiHao's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-159363268-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-159363268-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?25f016f633270b8e0baf56c4fe6f2dc1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/de/atom.xml" title="LeiHao's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Navigationsleiste an/ausschalten">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/de/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">LeiHao's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/de/" rel="section"><i class="fa fa-home fa-fw"></i>Startseite</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/de/about/" rel="section"><i class="fa fa-user fa-fw"></i>Ãœber</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/de/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archiv</a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/de/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Suche
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Suche..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Inhaltsverzeichnis
        </li>
        <li class="sidebar-nav-overview">
          Ãœbersicht
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Schneller-Speicherort-von-NTFS-Festplattendateien"><span class="nav-number">1.</span> <span class="nav-text">Schneller Speicherort von NTFS-Festplattendateien</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Einleitung"><span class="nav-number">1.1.</span> <span class="nav-text">1. Einleitung</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Kurze-Einfuhrung-in-NTFS"><span class="nav-number">1.2.</span> <span class="nav-text">2 Kurze EinfÃ¼hrung in NTFS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-NTFS"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 NTFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Aktuelle-Situation"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 Aktuelle Situation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Vorbereitung"><span class="nav-number">1.3.</span> <span class="nav-text">3 Vorbereitung</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-Gestaltungsideen"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 Gestaltungsideen</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Was-ist-USN"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 Was ist USN?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-Warum-ist-es-schnell"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 Warum ist es schnell?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-Umwelt"><span class="nav-number">1.3.4.</span> <span class="nav-text">3.4 Umwelt</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Umsetzung-des-Programms"><span class="nav-number">1.4.</span> <span class="nav-text">4 Umsetzung des Programms</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-USN-lesen"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 USN lesen</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-Bestimmen-Sie-das-Festplattenformat"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">4.1.1 Bestimmen Sie das Festplattenformat</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-Laufwerksdiskettenhandle-abrufen"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">4.1.2 Laufwerksdiskettenhandle abrufen</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-3-USN-Protokoll-initialisieren"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">4.1.3 USN-Protokoll initialisieren</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-4-USN-Protokollinformationen-abrufen"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">4.1.4 USN-Protokollinformationen abrufen</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-5-Informationen-zur-USN-Journaldatei-abrufen"><span class="nav-number">1.4.1.5.</span> <span class="nav-text">4.1.5 Informationen zur USN-Journaldatei abrufen</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-6-USN-Protokolldatei-loschen"><span class="nav-number">1.4.1.6.</span> <span class="nav-text">4.1.6 USN-Protokolldatei lÃ¶schen</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-7-Ergebnisse-der-Aufzahlung-aller-Dateien"><span class="nav-number">1.4.1.7.</span> <span class="nav-text">4.1.7 Ergebnisse der AufzÃ¤hlung aller Dateien</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-Suchdaten-erstellen"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 Suchdaten erstellen</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-Vektor-konstruieren"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">4.2.1 Vektor konstruieren</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-Erstellen-einer-Hash-Tabelle"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">4.2.2 Erstellen einer Hash-Tabelle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-3-Daten-einfugen"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">4.2.3 Daten einfÃ¼gen:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-Schnittstelle"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 Schnittstelle</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-KISS-Prinzip"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">4.3.1 KISS-Prinzip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-2-Funktion"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">4.3.2 Funktion</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-Thread-verbinden"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 Thread verbinden</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-1-Warum-Threads-verbinden"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">4.4.1 Warum Threads verbinden?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-2-Starten-Sie-einen-Worker-Thread-in-MFC"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">4.4.2 Starten Sie einen Worker-Thread in MFC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-3-Auf-den-Benachrichtigungsbereich-minimieren"><span class="nav-number">1.4.4.3.</span> <span class="nav-text">4.4.3 Auf den Benachrichtigungsbereich minimieren</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-Finden"><span class="nav-number">1.4.5.</span> <span class="nav-text">4.5 Finden</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-1-Platzhalter"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">4.5.1 Platzhalter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-2-Fall-Bestellung"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">4.5.2 Fall, Bestellung</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-3-Datenschutz-und-Systempfad-des-Benutzers"><span class="nav-number">1.4.5.3.</span> <span class="nav-text">4.5.3 Datenschutz und Systempfad des Benutzers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-4-Implementierung"><span class="nav-number">1.4.5.4.</span> <span class="nav-text">4.5.4 Implementierung</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-5-Pfadausgabe"><span class="nav-number">1.4.5.5.</span> <span class="nav-text">4.5.5 Pfadausgabe</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Komplexitatsanalyse"><span class="nav-number">1.5.</span> <span class="nav-text">5 KomplexitÃ¤tsanalyse</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Zeitliche-Komplexitat"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 Zeitliche KomplexitÃ¤t</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Raumkomplexitat"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 RaumkomplexitÃ¤t</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-Probleme-aufgetreten"><span class="nav-number">1.6.</span> <span class="nav-text">6 Probleme aufgetreten</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-USN-Datei-kann-nicht-initialisiert-werden"><span class="nav-number">1.6.1.</span> <span class="nav-text">6.1 USN-Datei kann nicht initialisiert werden</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-Das-Problem-von-wchar-und-char-unter-Unicode"><span class="nav-number">1.6.2.</span> <span class="nav-text">6.2 Das Problem von wchar und char unter Unicode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-ifdef-Positionsproblem"><span class="nav-number">1.6.3.</span> <span class="nav-text">6.3 # ifdef Positionsproblem</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-Parameterubertragung"><span class="nav-number">1.6.4.</span> <span class="nav-text">6.4 ParameterÃ¼bertragung</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-kleine-Optimierungen"><span class="nav-number">1.7.</span> <span class="nav-text">7 kleine Optimierungen</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-Lesegeschwindigkeit"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 Lesegeschwindigkeit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-Dateimethode-offnen"><span class="nav-number">1.7.2.</span> <span class="nav-text">7.2 Dateimethode Ã¶ffnen</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-Fortschrittsbalken"><span class="nav-number">1.7.3.</span> <span class="nav-text">7.3 Fortschrittsbalken</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-Fazit"><span class="nav-number">2.</span> <span class="nav-text">8 Fazit</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Verweise"><span class="nav-number">3.</span> <span class="nav-text">Verweise</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Englische-Zusammenfassung"><span class="nav-number">4.</span> <span class="nav-text">Englische Zusammenfassung</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">LeiHao</p>
  <div class="site-description" itemprop="description">ğŸ˜ƒğŸ˜ƒğŸ˜ƒ</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/de/archives/">
        
          <span class="site-state-item-count">160</span>
          <span class="site-state-item-name">Artikel</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/de/tags/">
        <span class="site-state-item-count">81</span>
        <span class="site-state-item-name">schlagwÃ¶rter</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/leihao0" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/leihao0" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/leihao0" title="Linkedin â†’ https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" class="cc-opacity" rel="noopener" target="_blank"><img src="/de/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="de">
    <link itemprop="mainEntityOfPage" href="https://leihao0.github.io/de/QSearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/de/images/avatar.gif">
      <meta itemprop="name" content="LeiHao">
      <meta itemprop="description" content="ğŸ˜ƒğŸ˜ƒğŸ˜ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeiHao's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Die prinzipielle Vermutung und Verwirklichung von Allem
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">VerÃ¶ffentlicht am</span>

      <time title="Erstellt: 2012-05-26 22:44:42" itemprop="dateCreated datePublished" datetime="2012-05-26T22:44:42+08:00">2012-05-26</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Bearbeitet am</span>
        <time title="GeÃ¤ndert am: 2020-12-22 08:32:16" itemprop="dateModified" datetime="2020-12-22T08:32:16+08:00">2020-12-22</time>
      </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/de/QSearch/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="QSearch/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbole im Artikel gezÃ¤hlt">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbole im Artikel gezÃ¤hlt: </span>
      <span>28k</span>
    </span>
    <span class="post-meta-item" title="Lesezeit">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Lesezeit &asymp;</span>
      <span>25 minuten.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>Forschungsinhalte </p>
<ol>
<li>Lesen Sie NTFS MFT </li>
<li>Aufbau der Hash-Tabelle </li>
<li>Systempfad der Datei </li>
<li>GUI und Worker-Threads </li>
<li>Mehrere Suchmethoden </li>
<li>MFC-Schnittstelle </li>
</ol>
<p>Forschungsplan </p>
<ul>
<li>Anfang April bis Mitte April, um die Forschungsrichtung zu bestimmen </li>
<li>Von Ende April bis Ende April. Vorbereitung fÃ¼r jeden Wissenspunkt, einfacher Test </li>
<li>Anfang Mai Debugging und Betrieb von Programmdesign und -entwicklung </li>
<li>Mitte Mai bis Ende Mai Abschlussarbeit schreiben </li>
</ul>
<p>Funktionen und Innovation </p>
<ol>
<li>Die CPU- und Speichernutzung liegt in einem angemessenen Bereich </li>
<li>Die Software ist stabil und bietet verschiedene Suchoptionen </li>
<li>Verglichen mit der Suchfunktion von Windows ist die Geschwindigkeit des Dateispeicherorts sehr schnell </li>
</ol>
<h1 id="Schneller-Speicherort-von-NTFS-Festplattendateien"><a href="#Schneller-Speicherort-von-NTFS-Festplattendateien" class="headerlink" title="Schneller Speicherort von NTFS-Festplattendateien"></a>Schneller Speicherort von NTFS-Festplattendateien</h1><p><strong>Zusammenfassung</strong> </p>
<blockquote>
<p>In diesem Artikel wird erlÃ¤utert, wie Sie die Namen aller Dateien und Ordner auf der Festplatte im Windows NTFS-Festplattenformat auflisten und mithilfe der STL von C ++ eine Hash-Tabelle sowie die GUI und die Arbeitsthreads von MFC erstellen und schlieÃŸlich die Implementierung anhand der vom Benutzer eingegebenen SchlÃ¼sselwÃ¶rter realisieren Suchen Sie so einfach wie die Google-Keyword-Suche und geben Sie dann sofort alle Ã¼bereinstimmenden Dateien / Ordner zurÃ¼ck und rufen Sie rekursiv den Systempfad der Datei / des Ordners ab. </p>
</blockquote>
<p>** SchlÃ¼sselwÃ¶rter *<em>: *</em> NTFS, schnell, SchlÃ¼sselwort, Suche, Dateipfad ** </p>
<h2 id="1-Einleitung"><a href="#1-Einleitung" class="headerlink" title="1. Einleitung"></a>1. Einleitung</h2><p>Die Verzeichnisstruktur von Windows. In NTFS-Volumes sind Dateien<br>In Form eines B + -Baums anordnen, drÃ¼cken Sie bei der Suche nach Dateien im Verzeichnis<br>Die B + -Baumsuchmethode durchsucht zuerst den Stammknoten (ausgehend vom Stammverzeichnis) und vergleicht dann den zu findenden Dateinamen mit dem Dateinamen, der dem untergeordneten Knoten im Stammknoten entspricht, um festzustellen, welcher untergeordnete Knoten dem zu durchsuchenden Speicherbereich entspricht, und dann Verwenden Sie den untergeordneten Knoten als aktuellen Stammknoten und suchen Sie erneut, bis die Datei gefunden wurde. ^ [1] ^ </p>
<p>Obwohl die vom Microsoft-System bereitgestellte Suche Textinhalte durchsuchen kann, ist die Geschwindigkeit sehr unbefriedigend. In den meisten FÃ¤llen mÃ¶chten wir nur wissen, in welchem â€‹â€‹Ordner auf dem Computer die Datei gespeichert ist, und dieses Programm lÃ¶st dies sehr gut. </p>
<h2 id="2-Kurze-Einfuhrung-in-NTFS"><a href="#2-Kurze-Einfuhrung-in-NTFS" class="headerlink" title="2 Kurze EinfÃ¼hrung in NTFS"></a>2 Kurze EinfÃ¼hrung in NTFS</h2><h3 id="2-1-NTFS"><a href="#2-1-NTFS" class="headerlink" title="2.1 NTFS"></a>2.1 NTFS</h3><p>NTFS (New Technology File System) æ˜¯ Windows<br>Das Standarddateisystem von NT und hÃ¶her Windows. NTFS ersetzt das Dateisystem der File Allocation Table (FAT) und bietet ein Dateisystem fÃ¼r die Betriebssysteme der Windows-Serie von Microsoft. NTFS hat FAT und HPFS (High-Performance File System) mehrfach verbessert. Es unterstÃ¼tzt beispielsweise Metadaten und verwendet erweiterte Datenstrukturen, um die Leistung, ZuverlÃ¤ssigkeit und Speicherplatznutzung zu verbessern. ^ [2] ^ </p>
<h3 id="2-2-Aktuelle-Situation"><a href="#2-2-Aktuelle-Situation" class="headerlink" title="2.2 Aktuelle Situation"></a>2.2 Aktuelle Situation</h3><p>Mit dem NT-basierten Windows<br>Mit der PopularitÃ¤t von 2000 / XP haben viele einzelne Benutzer begonnen, NTFS zu verwenden. NTFS speichert auch Datendateien in Clustern, aber die GrÃ¶ÃŸe der Cluster in NTFS hÃ¤ngt nicht von der Festplatten- oder PartitionsgrÃ¶ÃŸe ab. Durch Verkleinern der ClustergrÃ¶ÃŸe wird nicht nur die Verschwendung von Speicherplatz verringert, sondern auch die MÃ¶glichkeit einer Festplattenfragmentierung. NTFS unterstÃ¼tzt die DateiverschlÃ¼sselungsverwaltungsfunktion, mit der Benutzer ein hÃ¶heres MaÃŸ an Sicherheit erhalten kÃ¶nnen. ^ [3] ^ </p>
<h2 id="3-Vorbereitung"><a href="#3-Vorbereitung" class="headerlink" title="3 Vorbereitung"></a>3 Vorbereitung</h2><h3 id="3-1-Gestaltungsideen"><a href="#3-1-Gestaltungsideen" class="headerlink" title="3.1 Gestaltungsideen"></a>3.1 Gestaltungsideen</h3><p>Lesen Sie alle Dateinamen der Festplatte als Daten und stimmen Sie die Daten gemÃ¤ÃŸ den vom Benutzer eingegebenen SchlÃ¼sselwÃ¶rtern ab. Der richtige Pfad wird zusammen mit dem Pfad an den Benutzer zurÃ¼ckgegeben, um das Ã–ffnen der Datei zu erleichtern. </p>
<p>Die spezifische Entwurfsidee ist in Abbildung 3-1 dargestellt. </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_00.jpg">Abbildung 3-1 Entwurfsideen</a> </p>
<p>Der grÃ¶ÃŸte Vorteil der Hash-Tabelle besteht darin, dass der Zeitaufwand fÃ¼r die Datenspeicherung und -suche erheblich reduziert wird, was fast als konstante Zeit angesehen werden kann. Die Kosten bestehen nur darin, mehr Speicher zu verbrauchen. Mit immer mehr verfÃ¼gbarem Speicher lohnt es sich jedoch, Platz gegen Zeit zu tauschen. DarÃ¼ber hinaus ist die einfache Codierung auch eines seiner Merkmale. </p>
<h3 id="3-2-Was-ist-USN"><a href="#3-2-Was-ist-USN" class="headerlink" title="3.2 Was ist USN?"></a>3.2 Was ist USN?</h3><p>Die oberste PrioritÃ¤t des Programms ist das Lesen der USN. </p>
<p>USN æ˜¯ Service Number Journal oder Change aktualisieren<br>Mit der AbkÃ¼rzung fÃ¼r Journal, der Funktion zum Aufzeichnen der geÃ¤nderten Informationen im NTFS-Volume, kÃ¶nnen Sie die Anzahl der zu Ã¼berwachenden Dateien und Verzeichnisse in der Partition festlegen und die Ã„nderungszeit und den Inhalt des Ã¼berwachten Objekts aufzeichnen. </p>
<p>Wenn das USN-Protokoll aktiviert ist, verwendet NTFS fÃ¼r jedes NTFS-Volume Informationen zum HinzufÃ¼gen, LÃ¶schen und Ã„ndern von Dateien und verwendet das USN-Protokoll, um es aufzuzeichnen und zu speichern<br>Das Format von USN_RECORD. </p>
<h3 id="3-3-Warum-ist-es-schnell"><a href="#3-3-Warum-ist-es-schnell" class="headerlink" title="3.3 Warum ist es schnell?"></a>3.3 Warum ist es schnell?</h3><p>Das USN-Protokoll entspricht dem WORD-Verzeichnis und stellt einen Index bereit. Wenn sich der Inhalt des Artikels Ã¤ndert, zeichnet das USN-Protokoll natÃ¼rlich auf, wann die Ã„nderung vorgenommen wird, aber es zeichnet nicht auf, was darin geÃ¤ndert wird, sodass die Indexdatei sehr klein ist. Und wenn Sie den spezifischen Absatz des Artikels finden mÃ¶chten, mÃ¼ssen Sie das Mausrad nicht wild drehen, sondern nur direkt auf das Inhaltsverzeichnis schauen und nur Strg + Mausklick gedrÃ¼ckt halten, um zu suchen. </p>
<p>Auf die gleiche Weise kÃ¶nnen Sie beim Durchsuchen einer bestimmten Datei direkt herausfinden, ob die Datei vorhanden ist, indem Sie das USN-Protokoll (dh den festgelegten Index) durchsuchen. </p>
<p>PS: Obwohl Windows nicht â€œalles ist eine Dateiâ€ ist (Unix / Linux<br>Eine der Grundphilosophien von), aber der Ordner existiert auch in Form von Dateien, so dass Sie den Speicherort auch Ã¼ber USN finden kÃ¶nnen. </p>
<h3 id="3-4-Umwelt"><a href="#3-4-Umwelt" class="headerlink" title="3.4 Umwelt"></a>3.4 Umwelt</h3><p>Da das NTFS-Format ursprÃ¼nglich ein Patent von Microsoft ist, werden eine Reihe von API-Funktionen fÃ¼r unseren bequemen Zugriff bereitgestellt. </p>
<p>Als altes aber klassisches Visual C ++ 6.0<br>Das Programmiertool, aber zu diesem Zeitpunkt gab es kein NTFS-Format. Daher wurde VC2005 als integrierte Entwicklungsumgebung ausgewÃ¤hlt und kann erst nach 2000 auf Windows-Systemen ausgefÃ¼hrt werden. </p>
<h2 id="4-Umsetzung-des-Programms"><a href="#4-Umsetzung-des-Programms" class="headerlink" title="4 Umsetzung des Programms"></a>4 Umsetzung des Programms</h2><h3 id="4-1-USN-lesen"><a href="#4-1-USN-lesen" class="headerlink" title="4.1 USN lesen"></a>4.1 USN lesen</h3><p>Im Folgenden sind alle von Microsoft ^ [4] ^ bereitgestellten API-Funktionen aufgefÃ¼hrt, die in der Header-Datei <code>&lt;Winioctl.h&gt;</code> enthalten sind. </p>
<h4 id="4-1-1-Bestimmen-Sie-das-Festplattenformat"><a href="#4-1-1-Bestimmen-Sie-das-Festplattenformat" class="headerlink" title="4.1.1 Bestimmen Sie das Festplattenformat"></a>4.1.1 Bestimmen Sie das Festplattenformat</h4><p>Rufen Sie die folgende Funktion auf, um die Festplatte im NTFS-Format zu ermitteln </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GetVolumeInformation(</span><br><span class="line">	lpRootPathName: PChar;               <span class="comment">// ç£ç›˜é©±åŠ¨å™¨ä»£ç å­—ç¬¦ä¸²</span></span><br><span class="line">	lpVolumeNameBuffer: PChar;           <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åç§°</span></span><br><span class="line">	nVolumeNameSize: DWORD;              <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åç§°é•¿åº¦</span></span><br><span class="line">	lpVolumeSerialNumber: PDWORD;        <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åºåˆ—å·</span></span><br><span class="line">	var lpMaximumComponentLength: DWORD; <span class="comment">// ç³»ç»Ÿå…è®¸çš„æœ€å¤§æ–‡ä»¶åé•¿åº¦</span></span><br><span class="line">    var lpFileSystemFlags: DWORD;        <span class="comment">// æ–‡ä»¶ç³»ç»Ÿæ ‡è¯†</span></span><br><span class="line">	lpFileSystemNameBuffer: PChar;       <span class="comment">// æ ¼å¼ç±»å‹</span></span><br><span class="line">	nFileSystemNameSize: DWORD           <span class="comment">// æ–‡ä»¶æ“ä½œç³»ç»Ÿåç§°é•¿åº¦</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>Der von uns gewÃ¼nschte lpFileSystemNameBuffer gibt â€œFAT32â€, â€œNTFSâ€ und andere Zeichenfolgen zurÃ¼ck. </p>
<p>Verwenden Sie dann eine Schleife, um A-Z-Laufwerksbuchstaben im NTFS-Format zu zÃ¤hlen, und initialisieren Sie sie anschlieÃŸend </p>
<h4 id="4-1-2-Laufwerksdiskettenhandle-abrufen"><a href="#4-1-2-Laufwerksdiskettenhandle-abrufen" class="headerlink" title="4.1.2 Laufwerksdiskettenhandle abrufen"></a>4.1.2 Laufwerksdiskettenhandle abrufen</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HANDLE hVol = CreateFile(</span><br><span class="line">	<span class="string">&quot;ç›˜ç¬¦å­—ç¬¦ä¸²&quot;</span>,  <span class="comment">// å¿…é¡»å¦‚\.\C: (A-Z)çš„å½¢å¼</span></span><br><span class="line">	GENERIC_READ | GENERIC_WRITE, <span class="comment">// å¯ä»¥ä¸º</span></span><br><span class="line">	FILE_SHARE_READ | FILE_SHARE_WRITE, <span class="comment">// å¿…é¡»åŒ…å«æœ‰FILE_SHARE_WRITE</span></span><br><span class="line">	<span class="literal">NULL</span>, <span class="comment">// è¿™é‡Œä¸éœ€è¦</span></span><br><span class="line">	OPEN_EXISTING, <span class="comment">// å¿…é¡»åŒ…å«OPEN_EXISTING, CREATE_ALWAYSå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class="line">	FILE_ATTRIBUTE_READONLY, <span class="comment">// FILE_ATTRIBUTE_NORMALå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class="line">	<span class="literal">NULL</span>); <span class="comment">// è¿™é‡Œä¸éœ€è¦</span></span><br></pre></td></tr></table></figure>

<p>Zu beachtende Punkte: </p>
<ol>
<li>CreateFile gibt ein Handle zurÃ¼ck, das unten verwendet wird. </li>
<li>Da der Laufwerksbuchstabe die Form â€œ\. \ C:â€ haben muss, steht der Backslash â€œ//â€œ in der Sprache â€œC ++â€ fÃ¼r â€œ/â€œ; </li>
<li>Administratorrechte sind erforderlich (Vista, UAC wird in Win7 angezeigt) </li>
</ol>
<p>Wenn <code>hVol! = INVALID_HANDLE_VALUE</code>, bedeutet dies, dass das Handle erfolgreich abgerufen wurde und Sie mit dem nÃ¤chsten Schritt fortfahren kÃ¶nnen. </p>
<h4 id="4-1-3-USN-Protokoll-initialisieren"><a href="#4-1-3-USN-Protokoll-initialisieren" class="headerlink" title="4.1.3 USN-Protokoll initialisieren"></a>4.1.3 USN-Protokoll initialisieren</h4><p>Verwenden Sie â€œFSCTL_CREATE_USN_JOURNALâ€ als Steuercode fÃ¼r â€œDeviceIoControlâ€. </p>
<p><code>Cujd</code> ist ein Zeiger auf den Eingabepuffer, der auf die Struktur<code>CREATE_USN_JOURNAL_DATA</code> zeigt. </p>
<h4 id="4-1-4-USN-Protokollinformationen-abrufen"><a href="#4-1-4-USN-Protokollinformationen-abrufen" class="headerlink" title="4.1.4 USN-Protokollinformationen abrufen"></a>4.1.4 USN-Protokollinformationen abrufen</h4><p>Verwenden Sie â€œFSCTL_QUERY_USN_JOURNALâ€ als Steuercode fÃ¼r â€œDeviceIoControlâ€. </p>
<p><code>lpOutBuffer</code> gibt eine<code>USN_JOURNAL_DATA</code> zurÃ¼ck, die eine Struktur ist </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    DWORDLONG UsnJournalID;</span><br><span class="line">    USN       FirstUsn;</span><br><span class="line">    USN       NextUsn;</span><br><span class="line">    USN       LowestValidUsn;</span><br><span class="line">    USN       MaxUsn;</span><br><span class="line">    DWORDLONG MaximumSize;</span><br><span class="line">    DWORDLONG AllocationDelta;</span><br><span class="line">&#125; USN_JOURNAL_DATA, *PUSN_JOURNAL_DATA;</span><br></pre></td></tr></table></figure>

<p><code>UsnJournalID</code>,<code>FirstUsn</code>, <code>NextUsn</code> werden im nÃ¤chsten Schritt verwendet </p>
<h4 id="4-1-5-Informationen-zur-USN-Journaldatei-abrufen"><a href="#4-1-5-Informationen-zur-USN-Journaldatei-abrufen" class="headerlink" title="4.1.5 Informationen zur USN-Journaldatei abrufen"></a>4.1.5 Informationen zur USN-Journaldatei abrufen</h4><p>Da â€œUSNâ€ in Form von â€œUSN_RECORDâ€ gespeichert ist, lautet seine Struktur: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	DWORD RecordLength; <span class="comment">// è®°å½•é•¿åº¦</span></span><br><span class="line">	WORD MajorVersion; <span class="comment">// ä¸»ç‰ˆæœ¬</span></span><br><span class="line">	WORD MinorVersion; <span class="comment">// æ¬¡ç‰ˆæœ¬</span></span><br><span class="line">	DWORDLONG FileReferenceNumber; <span class="comment">// æ–‡ä»¶å¼•ç”¨æ•°</span></span><br><span class="line">	DWORDLONG ParentFileReferenceNumber; <span class="comment">// çˆ¶ç›®å½•å¼•ç”¨æ•°</span></span><br><span class="line">	USN Usn; <span class="comment">// USN</span></span><br><span class="line">	LARGE_INTEGER TimeStamp; <span class="comment">// æ—¶é—´æˆ³</span></span><br><span class="line">	DWORD Reason; <span class="comment">// åŸå› </span></span><br><span class="line">	DWORD SourceInfo; <span class="comment">// æºä¿¡æ¯</span></span><br><span class="line">	DWORD SecurityId; <span class="comment">// å®‰å…¨</span></span><br><span class="line">	ID DWORD FileAttributes; <span class="comment">// æ–‡ä»¶å±æ€§</span></span><br><span class="line">	WORD FileNameLength; <span class="comment">// æ–‡ä»¶é•¿åº¦</span></span><br><span class="line">	WORD FileNameOffset; <span class="comment">// æ–‡ä»¶ååç§»</span></span><br><span class="line">	DWORD ExtraInfo1;</span><br><span class="line">	DWORD ExtraInfo2; DWORD ExtraInfo3; <span class="comment">// Hypothetically added in version 2.3</span></span><br><span class="line">	WCHAR FileName[<span class="number">1</span>]; <span class="comment">// æ–‡ä»¶åç¬¬ä¸€ä½çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125; USN_RECORD, *PUSN_RECORD;</span><br></pre></td></tr></table></figure>

<p>Beachten Sie die â€œFileReferenceNumberâ€, â€œParentFileReferenceNumberâ€, â€œFileNameLengthâ€, â€œFileNameâ€ </p>
<p>Diese Variablen sind sehr wichtig </p>
<p>â€œDeviceIoControl ()â€ kooperiert mit â€œFSCTL_ENUM_USN_DATAâ€ </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">0</span>!=DeviceIoControl(hVol,</span><br><span class="line">	 	FSCTL_ENUM_USN_DATA,</span><br><span class="line">	 	&amp;med,</span><br><span class="line">	 	<span class="keyword">sizeof</span> (med),</span><br><span class="line">	 	Buffer,</span><br><span class="line">	 	BUF_LEN,</span><br><span class="line">	 	&amp;usnDataSize,</span><br><span class="line">	 	<span class="literal">NULL</span>)) &#123;</span><br><span class="line"></span><br><span class="line">	 	DWORD dwRetBytes = usnDataSize - <span class="keyword">sizeof</span> (USN);</span><br><span class="line">	 	<span class="comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ª USN è®°å½•</span></span><br><span class="line">	 	UsnRecord = (PUSN_RECORD)(((PCHAR)Buffer)+<span class="keyword">sizeof</span> (USN));</span><br><span class="line"></span><br><span class="line">	 	<span class="keyword">while</span> (dwRetBytes&gt;<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// è·å–åˆ°çš„ä¿¡æ¯</span></span><br><span class="line">	 		<span class="function">CString <span class="title">CfileName</span><span class="params">(UsnRecord-&gt;FileName, UsnRecord-&gt;FileNameLength/<span class="number">2</span>)</span></span>;</span><br><span class="line">	 		pfrnName.filename = nameCur.filename = CfileName;</span><br><span class="line">	 		pfrnName.pfrn = nameCur.pfrn = UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// Vector</span></span><br><span class="line">	 		VecNameCur.push_back(nameCur);</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// æ„å»ºhash...</span></span><br><span class="line">	 		frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] = pfrnName;</span><br><span class="line">	 		<span class="comment">// è·å–ä¸‹ä¸€ä¸ªè®°å½•</span></span><br><span class="line">	 		DWORD recordLen = UsnRecord-&gt;RecordLength;</span><br><span class="line">	 		dwRetBytes -= recordLen;</span><br><span class="line">	 		UsnRecord = (PUSN_RECORD)(((PCHAR)UsnRecord)+recordLen);</span><br><span class="line"></span><br><span class="line">	 	&#125;</span><br><span class="line">	 	<span class="comment">// è·å–ä¸‹ä¸€é¡µæ•°æ®</span></span><br><span class="line">	 	med.StartFileReferenceNumber = \*(USN \*)&amp;Buffer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Unter ihnen ist â€œMedâ€: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MFT_ENUM_DATA med;</span><br><span class="line"></span><br><span class="line">med.StartFileReferenceNumber = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">med.LowUsn = <span class="number">0</span>;<span class="comment">//UsnInfo.FirstUsn;</span></span><br></pre></td></tr></table></figure>

<p>Nach dem Testen hier wurde festgestellt, dass es besser ist, 0 direkt zu schreiben, wenn die Verwendung von â€œFirstUsnâ€ manchmal falsch ist und unvollstÃ¤ndige Daten erhalten werden. </p>
<p><code>med.HighUsn = UsnInfo.NextUsn;</code> </p>
<p>In dieser Schleife wird der jedes Mal erhaltene Dateiname in die Vektor- bzw. Hash-Tabelle eingefÃ¼gt (siehe unten). </p>
<h4 id="4-1-6-USN-Protokolldatei-loschen"><a href="#4-1-6-USN-Protokolldatei-loschen" class="headerlink" title="4.1.6 USN-Protokolldatei lÃ¶schen"></a>4.1.6 USN-Protokolldatei lÃ¶schen</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DeviceIoControl(hVol,</span><br><span class="line">	FSCTL_DELETE_USN_JOURNAL,</span><br><span class="line">	&amp;dujd,</span><br><span class="line">	<span class="keyword">sizeof</span> (dujd),</span><br><span class="line">	<span class="literal">NULL</span>,</span><br><span class="line">	<span class="number">0</span>,</span><br><span class="line">	&amp;br,</span><br><span class="line">	<span class="literal">NULL</span>)</span><br></pre></td></tr></table></figure>

<h4 id="4-1-7-Ergebnisse-der-Aufzahlung-aller-Dateien"><a href="#4-1-7-Ergebnisse-der-Aufzahlung-aller-Dateien" class="headerlink" title="4.1.7 Ergebnisse der AufzÃ¤hlung aller Dateien"></a>4.1.7 Ergebnisse der AufzÃ¤hlung aller Dateien</h4><p>Speichern Sie die Daten zur Analyse als Allfile.txt (siehe Abbildung 4-1). </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_01.jpg">å›¾ 4-1 Allfile.txt</a> </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_02.jpg">å›¾ 4-1 Allfile.txt</a> </p>
<p>Ich habe das Laufwerk D auf meinem Computer als Test verwendet und alle Dateien aufgelistet. Wie in der Abbildung gezeigt, gibt es ungefÃ¤hr 40 W-Dateien, insgesamt mehr als 100 W Daten, und die DateigrÃ¶ÃŸe betrÃ¤gt ungefÃ¤hr 20 MB. Dies hat eine vage SchÃ¤tzung der Speichermenge, die von nachfolgenden Programmen belegt wird, die etwa 50 Millionen betrÃ¤gt. Selbst fÃ¼r nur 1 GB Speicher liegt dieser in einem vernÃ¼nftigen Bereich. Mit den Originaldaten lautet die Analyse wie folgt: </p>
<p>Beispiel: Die Programmierdatei Linux-Programmierpraxis.isz lautet wie folgt: <code>D: \ Ghost \ Linux \ Linux-Programmierpraxis.isz</code>. Sehen Sie sich das Ergebnis in der Datei an: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">D:\</span><br><span class="line">Frn: 5000000000005</span><br><span class="line">Pfrn: NULL</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Ghost</span><br><span class="line">Frn: 20000000000fd</span><br><span class="line">Pfrn: 5000000000005</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Linux</span><br><span class="line">Frn: e0000000010d2</span><br><span class="line">Pfrn: 20000000000fd</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Linuxç¼–ç¨‹å®è·µ.isz</span><br><span class="line">Frn: 190000000003b2</span><br><span class="line">Pfrn: e0000000010d2</span><br><span class="line">å¯ä»¥å¾—å‡ºï¼š</span><br><span class="line">Linuxç¼–ç¨‹å®è·µ.isz-&gt;Pfrn &#x3D;&#x3D; Linux-&gt;Frn</span><br><span class="line">Linux-&gt;Pfrn &#x3D;&#x3D; Ghost-&gt;Frn</span><br><span class="line">Ghost-&gt;Pfrn &#x3D;&#x3D; D:\ -&gt; Frn</span><br><span class="line">D:\ -&gt; Pfrn åœæ­¢</span><br></pre></td></tr></table></figure>

<p>Mit einer rekursiven Funktion (die direkt oder indirekt ihre eigene Funktion aufruft) kÃ¶nnen Sie den vollstÃ¤ndigen Pfad abrufen. </p>
<h3 id="4-2-Suchdaten-erstellen"><a href="#4-2-Suchdaten-erstellen" class="headerlink" title="4.2 Suchdaten erstellen"></a>4.2 Suchdaten erstellen</h3><h4 id="4-2-1-Vektor-konstruieren"><a href="#4-2-1-Vektor-konstruieren" class="headerlink" title="4.2.1 Vektor konstruieren"></a>4.2.1 Vektor konstruieren</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">name_cur</span> &#123;</span></span><br><span class="line">    CString filename;</span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">&#125;Name_Cur;</span><br></pre></td></tr></table></figure>

<p>Vektor: </p>
<p>Ein sequentieller Container. Auf die Elemente im Vektor wird Ã¼ber ihren Positionsindex zugegriffen. Sie kÃ¶nnen push_back oder aufrufen<br>Die EinfÃ¼gefunktion fÃ¼gt dem Vektor Elemente hinzu. Im Vektor<br>Das HinzufÃ¼gen von Elementen zum Container kann zu einer Neuzuweisung des Speicherplatzes fÃ¼r den Container fÃ¼hren und auch alle Iteratoren ungÃ¼ltig machen. im<br>Vektor<br>Durch HinzufÃ¼gen (oder LÃ¶schen) von Elementen in der Mitte des Containers werden alle Iteratoren ungÃ¼ltig, die nach dem EinfÃ¼ge- (oder LÃ¶sch-) Punkt auf Elemente verweisen. </p>
<p>Verwenden Sie Vector zum Speichern von &lt;Dateiname, aktuelles Verzeichnis&gt;. Aufgrund der Anforderungen der Fuzzy-Suche sind schnelle Suchmethoden wie die binÃ¤re Suche hier nicht anwendbar, und die lineare Durchlaufmethode von Vector von Anfang bis Ende erfÃ¼llt diese Anforderung. . </p>
<h4 id="4-2-2-Erstellen-einer-Hash-Tabelle"><a href="#4-2-2-Erstellen-einer-Hash-Tabelle" class="headerlink" title="4.2.2 Erstellen einer Hash-Tabelle"></a>4.2.2 Erstellen einer Hash-Tabelle</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">pfrn_name</span> &#123;</span></span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">    CString filename;</span><br><span class="line">&#125;Pfrn_Name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;DWORDLONG, Pfrn_Name&gt; Frn_Pfrn_Name_Map;</span><br></pre></td></tr></table></figure>

<p>Hier verwenden wir die von STL bereitgestellte Map-Bibliotheksfunktion ^ [5] ^, map ist eine Sammlung von SchlÃ¼ssel-Wert-Paaren. Karte<br>Der Typ kann normalerweise als assoziatives Array (assoziativ) verstanden werden<br>Array): Sie kÃ¶nnen den SchlÃ¼ssel als Index verwenden, um einen Wert abzurufen, genau wie der integrierte Array-Typ. Die Essenz der Assoziation besteht darin, dass der Wert eines Elements einem bestimmten SchlÃ¼ssel zugeordnet wird und nicht durch die Position des Elements im Array erhalten wird. </p>
<ol>
<li>Wenn Sie die Hash-Funktion selbst implementieren und mÃ¶glicherweise mehrere Fehler auftreten, die sich auf den Fortschritt auswirken, ist es besser, die von STL bereitgestellte stabile Map zu verwenden, um sie zu implementieren. </li>
<li>â€œRad nicht neu erfindenâ€ Rad nicht neu erfinden ^ [6] ^ <ol>
<li>Ist beispielsweise Googles Android nicht in der Lage, einen Systemkernel allein zu entwickeln, sodass ein sehr ausgereifter Linux-Kernel verwendet wird? Ich denke, es ist fÃ¼r einen Weltgiganten wie Google unmÃ¶glich, auf diese FÃ¤higkeit zu verzichten. Stattdessen wird das Prinzip respektiert, das Rad nicht neu zu erfinden. </li>
</ol>
</li>
</ol>
<h4 id="4-2-3-Daten-einfugen"><a href="#4-2-3-Daten-einfugen" class="headerlink" title="4.2.3 Daten einfÃ¼gen:"></a>4.2.3 Daten einfÃ¼gen:</h4><p>Dies wird hier in Abschnitt 4.1.5, Get USN Journal verwendet<br>In der Schleife der Dateiinformationen werden die jedes Mal erhaltenen â€œUSN_RECORDâ€ -Informationen, der â€œDateinameâ€,<br>â€œpfrnâ€, â€œfrnâ€ werden in die Vektor- bzw. Hash-Tabelle eingefÃ¼gt. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pfrnName.filename &#x3D; nameCur.filename &#x3D; CfileName;</span><br><span class="line">pfrnName.pfrn &#x3D; nameCur.pfrn &#x3D; UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line">VecNameCur.push_back(nameCur);</span><br><span class="line">frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] &#x3D; pfrnName;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-Schnittstelle"><a href="#4-3-Schnittstelle" class="headerlink" title="4.3 Schnittstelle"></a>4.3 Schnittstelle</h3><p>Beim Starten eines Projekts bietet VC2005 Befehlszeilenprojekte (Konsolenprojekte) und GUI-Projekte. Die Befehlszeilenprogrammierung ist sehr bequem, schnell, praktisch und relativ einfach. Wenn die Konsole die Anforderungen erfÃ¼llen kann, ist die Schnittstelle nicht erforderlich. Oder manchmal kann die Zielplattform die grafische BenutzeroberflÃ¤che nicht anzeigen. aber,<br>Die grafische BenutzeroberflÃ¤che bietet offensichtlichere Vorteile wie ein MenÃ¼system und eine bessere InteraktivitÃ¤t. DarÃ¼ber hinaus werden bei der MenÃ¼auswahl und beim Verschieben von Daten zwischen Feldern<br>Die Maus ist sehr nÃ¼tzlich und die GUI ist der richtige Weg. Experimentieren Sie daher beim Schreiben des Programms zunÃ¤chst mit einigen Zwischendaten unter der Konsole und wechseln Sie dann problemlos zur GUI-OberflÃ¤che. </p>
<p>MFC: Microsoft Foundation Classes, auch als MFC bekannt<br>Ist die Antwort von Microsoft auf â€œWindows senkenâ€<br>Der grÃ¶ÃŸte Beitrag von â€œProgrammgestaltung, Langeweile, Langeweile und Schwierigkeitâ€. MFC<br>Macht das Generieren von Dialogfeldern extrem einfach. Es implementiert auch ein NachrichtenÃ¼bermittlungssystem (Nachricht)<br>Versand), Umgang mit den einfachen Fehlern von WPARAM und LP ARAM. MFC<br>Es ist sogar die treibende Kraft, einige Leute in C ++ zu locken.<br>Dieses Programm wird von MFC implementiert, das von Microsoft bereitgestellt wird (siehe Abbildung 4-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_04.jpg">Abbildung 4-2 MFC-Schnittstelle</a> </p>
<h4 id="4-3-1-KISS-Prinzip"><a href="#4-3-1-KISS-Prinzip" class="headerlink" title="4.3.1 KISS-Prinzip"></a>4.3.1 KISS-Prinzip</h4><p>Das KISS-Prinzip lautet â€œKeep It Sample And<br>Die AbkÃ¼rzung fÃ¼r â€œDummâ€, Einfachheit und einfache Bedienung sind die wichtigsten Prinzipien des Designs. </p>
<p>Das KISS-Prinzip ist wahrscheinlich das am meisten respektierte in Bezug auf Design, Heimwerkerdesign und Schnittstellendesign<br>In Bezug auf das operative Design werden komplexe Dinge immer beliebter, wÃ¤hrend einfache Dinge immer mehr erkannt werden. Beispielsweise sind diese UI-Designs und unsere chinesischen Webseiten negative Beispiele. â€œIKEAâ€ (IKEA) einfache und effiziente Ideen fÃ¼r das Design und die Produktion von WohngebÃ¤uden; â€œMicrosoftâ€ (Microsoft) â€œWas Sie sehen, ist das, was Sie erhaltenâ€ -Konzept; â€œGoogleâ€ (Google) folgt ausnahmslos einem einfachen und direkten GeschÃ¤ftsstil Das â€œKussâ€ -Prinzip. ^ [7] ^ </p>
<h4 id="4-3-2-Funktion"><a href="#4-3-2-Funktion" class="headerlink" title="4.3.2 Funktion"></a>4.3.2 Funktion</h4><p>Seien Sie nach dem Kussprinzip so prÃ¤zise wie mÃ¶glich. Listenfeld Editbox-SchaltflÃ¤che hinzufÃ¼gen<br>MenÃ¼ ^ [8] ^ Die Funktionen dieser Steuerelemente sind wie folgt: </p>
<ul>
<li>Editbox <ul>
<li>Rufen Sie die Zeichenfolge ab, nach der der Benutzer suchen muss </li>
</ul>
</li>
<li>Taste <ol>
<li>Holen Sie sich die Zeichenfolge in EditBox </li>
<li>Das Zeichen ist zu kurz, um eine Eingabeaufforderung anzuzeigen </li>
<li>FÃ¼gen Sie ein Lupenbild hinzu, die Funktion ist auf einen Blick klar </li>
</ol>
</li>
<li>Listbox <ol>
<li>Zeigen Sie den passenden Dateinamen und Pfad an und doppelklicken Sie, um die Datei zu Ã¶ffnen </li>
<li>Da der Pfad relativ lang sein kann, fÃ¼gen Sie eine horizontale Bildlaufleiste hinzu </li>
<li>Doppelklicken Sie im Listenfeld auf den Pfad der Ergebnisdatei, um die doppelt angeklickte Datei zu Ã¶ffnen </li>
</ol>
</li>
<li>Speisekarte <ul>
<li>MenÃ¼ kÃ¶nnen Sie GroÃŸ- und Kleinschreibung und Suchreihenfolge auswÃ¤hlen </li>
</ul>
</li>
</ul>
<h3 id="4-4-Thread-verbinden"><a href="#4-4-Thread-verbinden" class="headerlink" title="4.4 Thread verbinden"></a>4.4 Thread verbinden</h3><h4 id="4-4-1-Warum-Threads-verbinden"><a href="#4-4-1-Warum-Threads-verbinden" class="headerlink" title="4.4.1 Warum Threads verbinden?"></a>4.4.1 Warum Threads verbinden?</h4><p>Die Vorteile von Threads: Threads sind billig. Der Thread startet schneller, wird schneller beendet und hat geringere Auswirkungen auf die Systemressourcen. </p>
<p>Beachten Sie auch: </p>
<ol>
<li>Aufgrund der EinschrÃ¤nkung von io ist es nicht sinnvoll, mehrere Threads zu verwenden, um MFT gleichzeitig auf derselben Festplatte zu lesen. </li>
<li>Der Festplattenzugriff auf MFT in verschiedenen Partitionen derselben Festplatte kann sich stattdessen auf die Geschwindigkeit auswirken. Bei Computern mit mehreren Festplatten sollte die Effizienz erheblich verbessert werden. Benutzer mehrerer Festplatten kÃ¶nnen jedoch ein RAID-Array bilden. Die beste LÃ¶sung sollte darin bestehen, A-Z-Festplatten nacheinander zu lesen. </li>
<li>Als der MFC zum ersten Mal erstellt wurde, wurde er nacheinander ausgefÃ¼hrt. Infolgedessen konnte die BenutzeroberflÃ¤che erst angezeigt werden, nachdem alle Datenstatistiken abgeschlossen waren. WÃ¤hrend dieses Vorgangs wÃ¼rden Benutzer leicht die Geduld verlieren. </li>
<li>Entscheiden Sie sich schlieÃŸlich fÃ¼r einen UI-Thread, eine Worker-Thread-Hintergrundstatistik. </li>
</ol>
<h4 id="4-4-2-Starten-Sie-einen-Worker-Thread-in-MFC"><a href="#4-4-2-Starten-Sie-einen-Worker-Thread-in-MFC" class="headerlink" title="4.4.2 Starten Sie einen Worker-Thread in MFC"></a>4.4.2 Starten Sie einen Worker-Thread in MFC</h4><p>MFC bietet seit langem UnterstÃ¼tzung fÃ¼r Multithreading. In einem typischen MFC<br>Im Programm verbirgt sich die UnterstÃ¼tzung von Multithreading hinter einer Menge erstaunlicher Arbeit. MFC<br>Sogar Versuche, bestimmte Win32-Konzepte im Zusammenhang mit Multithreading zu stÃ¤rken. </p>
<p>Sowohl GUI- als auch Worker-Threads werden mit AfxBeginThread () gestartet, aber MFC verwendet die Ãœberladungscharakteristik von C ++ - Funktionen, um zwei verschiedene Deklarationen fÃ¼r diese Funktion bereitzustellen. Der Compiler wÃ¤hlt anhand der von Ihnen angegebenen Parameter automatisch die richtige aus. ^ [9] ^ </p>
<p>Verwenden Sie AfxBeginThread, um den Thread zu starten.<br>pParam Beliebiger 4-Byte-Wert, der zum Ãœbergeben an den neuen Thread verwendet wird. Es kann eine Ganzzahl oder ein Zeiger oder nur eine Null sein. </p>
<p>Hier werden nur die ersten beiden Parameter verwendet, die Thread-Funktion im Objekt und der Objektzeiger </p>
<p>Im Task-Manager werden zwei Threads angezeigt (siehe Abbildung 4-3) </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_03.jpg">Abbildung 4-3 Task-Manager zeigt die Anzahl der Threads an</a> </p>
<p>Wenn der Worker-Thread seine Aufgabe beendet hat, wird er automatisch beendet und kehrt zu einem Thread zurÃ¼ck. </p>
<h4 id="4-4-3-Auf-den-Benachrichtigungsbereich-minimieren"><a href="#4-4-3-Auf-den-Benachrichtigungsbereich-minimieren" class="headerlink" title="4.4.3 Auf den Benachrichtigungsbereich minimieren"></a>4.4.3 Auf den Benachrichtigungsbereich minimieren</h4><p>Jetzt klicken immer mehr Programme in der oberen rechten Ecke auf SchlieÃŸen, was tatsÃ¤chlich auf das Tray-Symbol minimiert ist. Um das Programm zu beenden, mÃ¼ssen Sie zum Beenden mit der rechten Maustaste auf das Tray-Symbol klicken. </p>
<p>Realisieren Sie die Minimierung, ohne das Programm zu beenden. Sie kÃ¶nnen Dateien bequem finden. </p>
<p>1) Minimieren Sie die Anzeige in der Taskleiste. </p>
<p>2) Klicken Sie auf SchlieÃŸen, um zum Taskleistensymbol zu gelangen, ohne es in der Taskleiste anzuzeigen. Doppelklicken Sie, um auf das Anzeigefenster zu antworten. </p>
<p>3) MenÃ¼ zum Tray-Symbol hinzufÃ¼gen. </p>
<h3 id="4-5-Finden"><a href="#4-5-Finden" class="headerlink" title="4.5 Finden"></a>4.5 Finden</h3><h4 id="4-5-1-Platzhalter"><a href="#4-5-1-Platzhalter" class="headerlink" title="4.5.1 Platzhalter"></a>4.5.1 Platzhalter</h4><p>In tatsÃ¤chlichen Anwendungen ist es unmÃ¶glich, sich den Dateinamen klar zu merken, z. B. test.2012-5-14.txt, was hÃ¤ufig â€œtestâ€ bedeutet<br>.txt â€, daher ist eine unscharfe Suche erforderlich. Denn unter der Konsole befindet sich die<br>pfrn&gt; Erstellen einer Hash-Tabelle. Wenn Sie eine Fuzzy-Suche implementieren mÃ¶chten, wird die Hash-Tabelle unnÃ¶tig. Sie kÃ¶nnen den Container-Vektor direkt verwenden. </p>
<p>Entsprechend der tatsÃ¤chlichen Situation ist kein strikter Platzhalter erforderlich. â€œ\ *?â€<br>Kann die meisten Suchprobleme lÃ¶sen, und Benutzer kennen die Verwendung von Platzhaltern im Allgemeinen mÃ¶glicherweise nicht, geschweige denn regulÃ¤re AusdrÃ¼cke. Beginnen Sie also mit â€œLeerzeichenâ€<br>Implementieren Sie anstelle von â€œ\ *?â€ Baidu<br>Die Suchmethode von Google zum Trennen von SchlÃ¼sselwÃ¶rtern durch Leerzeichen ist eine gute LÃ¶sung. \ * \ * \ * \ * </p>
<h4 id="4-5-2-Fall-Bestellung"><a href="#4-5-2-Fall-Bestellung" class="headerlink" title="4.5.2 Fall, Bestellung"></a>4.5.2 Fall, Bestellung</h4><p>Es gibt im Allgemeinen zwei Situationen: </p>
<ol>
<li>Der Benutzer kann sich mÃ¶glicherweise nicht an den Fall des Dateinamens oder Pfads erinnern </li>
<li>Manchmal sind zu viele Dateien vorhanden, und mÃ¶glicherweise ist eine strikte GroÃŸschreibung erforderlich, um die richtigen Dateien zu filtern </li>
<li>Ich kann mich nicht an die Reihenfolge der SchlÃ¼sselwÃ¶rter erinnern </li>
</ol>
<p>Stellen Sie also die folgenden zwei Optionen bereit: </p>
<ol>
<li>Strenger Fall </li>
<li>Keine Bestellung </li>
</ol>
<p>Entsprechend der allgemeinen Situation lautet die Standardeinstellung: Suche ohne BerÃ¼cksichtigung der GroÃŸ- und Kleinschreibung </p>
<h4 id="4-5-3-Datenschutz-und-Systempfad-des-Benutzers"><a href="#4-5-3-Datenschutz-und-Systempfad-des-Benutzers" class="headerlink" title="4.5.3 Datenschutz und Systempfad des Benutzers"></a>4.5.3 Datenschutz und Systempfad des Benutzers</h4><ol>
<li>Beachten Sie, dass einige Ordner zum Speichern der privaten Dateien der Benutzer verwendet werden. </li>
<li>Systemordner, zum Beispiel: <code>c: \ windows \ *</code> Allgemeine Benutzer werden es nicht verwenden. Dieselbe Suche erhÃ¶ht nur unnÃ¶tige Dateien und belastet das System. </li>
</ol>
<p>Daher muss eine Option zum AusschlieÃŸen von Ordnern hinzugefÃ¼gt werden (siehe Abbildung 4-4) </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">Abbildung 4-4 â€‹â€‹Ordnerschnittstelle ausschlieÃŸen</a> </p>
<p>Die entsprechende Funktion lautet: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isIgnore</span><span class="params">( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;\* pignorelist )</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> tmp = CW2A(path);</span><br><span class="line">	<span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::iterator it = pignorelist-&gt;begin();</span><br><span class="line">		it != pignorelist-&gt;end(); ++it ) &#123;</span><br><span class="line">			<span class="keyword">size_t</span> i = it-&gt;length();</span><br><span class="line">			<span class="keyword">if</span> ( !tmp.compare(<span class="number">0</span>, i, \*it,<span class="number">0</span>, i) ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-4-Implementierung"><a href="#4-5-4-Implementierung" class="headerlink" title="4.5.4 Implementierung"></a>4.5.4 Implementierung</h4><p>Neue passende String-Klasse </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cmpStrStr</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	cmpStrStr(<span class="keyword">bool</span> uplow, <span class="keyword">bool</span> inorder) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;uplow = uplow;</span><br><span class="line">		<span class="keyword">this</span>-&gt;isOrder = inorder;</span><br><span class="line">	&#125;</span><br><span class="line">	~cmpStrStr() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">cmpStrFilename</span><span class="params">(CString str, CString filename)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">infilename</span><span class="params">(CString &amp;strtmp, CString &amp;filenametmp)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">bool</span> uplow;</span><br><span class="line">	<span class="keyword">bool</span> isOrder;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Durchlaufen Sie den VecNameCur in ** 4.2.1 **, Ã¼bergeben Sie die Ãœbereinstimmungsfunktion cmpStrFilename und rufen Sie den passenden Dateinamen ab </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;Name_Cur&gt;::const_iterator cit = VecNameCur.begin();</span><br><span class="line">	cit != VecNameCur.end(); ++cit) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( cmpstrstr.cmpStrFilename(str, cit-&gt;filename) ) &#123;</span><br><span class="line">		path.Empty();</span><br><span class="line">		<span class="comment">// è¿˜åŸ è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// vol:\  path \ cit-&gt;filename</span></span><br><span class="line">		getPath(cit-&gt;pfrn, path);</span><br><span class="line">		path += cit-&gt;filename;</span><br><span class="line">		<span class="comment">// pathå·²æ˜¯å…¨è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> ( isIgnore(pignorelist) ) &#123;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		rightFile.push_back(path);</span><br><span class="line">		<span class="comment">//path.Empty();</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cmpStrFilenameå‡½æ•°ï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> end = str.GetLength();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> ( pos &lt; end ) &#123;</span><br><span class="line">	<span class="comment">// å¯¹äºstrï¼Œå–å¾— æ¯ä¸ªç©ºæ ¼åˆ†å¼€ä¸ºçš„å…³é”®è¯</span></span><br><span class="line">	pos = str.Find( _T(<span class="string">&#x27; &#x27;</span>) );</span><br><span class="line"></span><br><span class="line">	CString strtmp;</span><br><span class="line">	<span class="keyword">if</span> ( pos == <span class="number">-1</span> ) &#123;</span><br><span class="line">		<span class="comment">// æ— ç©ºæ ¼</span></span><br><span class="line">		strtmp = str;</span><br><span class="line">		pos = end;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		strtmp = str.Mid(<span class="number">0</span>, pos<span class="number">-0</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( !infilename(strtmp, filename) ) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	str.Delete(<span class="number">0</span>, pos);</span><br><span class="line">	str.TrimLeft(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Sie kÃ¶nnen den String-Matching-Algorithmus in der Infilename-Funktion einfach umschreiben, um einige Erweiterungen zu erzielen </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">filenametmp</span><span class="params">(filename)</span></span>;</span><br><span class="line"><span class="keyword">int</span> pos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !uplow ) &#123;</span><br><span class="line">	<span class="comment">// å¤§å°å†™æ•æ„Ÿ</span></span><br><span class="line">	filenametmp.MakeLower();</span><br><span class="line">	pos = filenametmp.Find(strtmp.MakeLower());</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	pos = filenametmp.Find(strtmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="number">-1</span> == pos ) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !isOrder ) &#123;</span><br><span class="line">	<span class="comment">// æ— é¡ºåº</span></span><br><span class="line">	filename.Delete(<span class="number">0</span>, pos+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-5-Pfadausgabe"><a href="#4-5-5-Pfadausgabe" class="headerlink" title="4.5.5 Pfadausgabe"></a>4.5.5 Pfadausgabe</h4><p>Nachdem Sie den passenden Dateinamen erhalten haben, mÃ¼ssen Sie im nÃ¤chsten Schritt den Systempfad der Datei ermitteln. Ãœbergeben Sie den vollstÃ¤ndigen Namen des oben erhaltenen Ã¼bereinstimmenden Dateinamens an die in ** 4.2.2 ** erstellte Hash-Tabelle frnPfrnNameMap und rufen Sie den Pfad rekursiv ab. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">Volume::getPath</span><span class="params">(DWORDLONG frn, CString &amp;path)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æŸ¥æ‰¾2</span></span><br><span class="line">	Frn_Pfrn_Name_Map::iterator it = frnPfrnNameMap.find(frn);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (it != frnPfrnNameMap.end()) &#123;</span><br><span class="line"></span><br><span class="line">		  <span class="keyword">if</span> ( <span class="number">0</span> != it-&gt;second.pfrn ) &#123;</span><br><span class="line">		 	  getPath(it-&gt;second.pfrn, path);</span><br><span class="line">		  &#125;</span><br><span class="line"></span><br><span class="line">		  path += it-&gt;second.filename;</span><br><span class="line">		  path += ( _T(<span class="string">&quot;\&quot;) );</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">	return path;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-Komplexitatsanalyse"><a href="#5-Komplexitatsanalyse" class="headerlink" title="5 KomplexitÃ¤tsanalyse"></a>5 KomplexitÃ¤tsanalyse</h2><h3 id="5-1-Zeitliche-Komplexitat"><a href="#5-1-Zeitliche-Komplexitat" class="headerlink" title="5.1 Zeitliche KomplexitÃ¤t"></a>5.1 Zeitliche KomplexitÃ¤t</h3><p>Theoretisch ist die zeitliche KomplexitÃ¤t: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_05.jpg">Abbildung 5-1 KomplexitÃ¤tsanalyse</a> </p>
<p>Auf dem AMD Athlon (tm) II X2 245 2,9-GHz-Prozessor ist das Ergebnis fast augenblicklich. </p>
<h3 id="5-2-Raumkomplexitat"><a href="#5-2-Raumkomplexitat" class="headerlink" title="5.2 RaumkomplexitÃ¤t"></a>5.2 RaumkomplexitÃ¤t</h3><p>Aufgrund der groÃŸen Anzahl von Computerdateien - normalerweise 10 W bis 100 W - kann die Speichernutzung des Programms selbst ignoriert werden. </p>
<p>234.708 Dateien Ã¼ber 43 Millionen. </p>
<p>FÃ¼r Systeme mit mindestens 2 GB Speicher ist dies heute keine Belastung. </p>
<h2 id="6-Probleme-aufgetreten"><a href="#6-Probleme-aufgetreten" class="headerlink" title="6 Probleme aufgetreten"></a>6 Probleme aufgetreten</h2><h3 id="6-1-USN-Datei-kann-nicht-initialisiert-werden"><a href="#6-1-USN-Datei-kann-nicht-initialisiert-werden" class="headerlink" title="6.1 USN-Datei kann nicht initialisiert werden"></a>6.1 USN-Datei kann nicht initialisiert werden</h3><p>Die O-Festplatte auf dem Computer kann die USN-Protokolldatei nicht initialisieren. Beim Debuggen wird Folgendes festgestellt: </p>
<p>DeviceIoControl gibt 0, GetLastError 0x70 zurÃ¼ck </p>
<p>ÃœberprÃ¼fen Sie msdn, der Grund ist ERROR_SHARING_PAUSED </p>
<p>Es stellt sich heraus, dass ich vergessen habe, den folgenden Code zu initialisieren und hinzuzufÃ¼gen. Das Programm kann normal auf die O-Disk zugreifen </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE_USN_JOURNAL_DATA cujd;</span><br><span class="line">cujd.MaximumSize = <span class="number">0</span>; <span class="comment">// 0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line">cujd.AllocationDelta = <span class="number">0</span>; <span class="comment">// 0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2-Das-Problem-von-wchar-und-char-unter-Unicode"><a href="#6-2-Das-Problem-von-wchar-und-char-unter-Unicode" class="headerlink" title="6.2 Das Problem von wchar und char unter Unicode"></a>6.2 Das Problem von wchar und char unter Unicode</h3><p>In Bezug auf die Zeichenfolgenverarbeitung wurde zunÃ¤chst die Standardbibliotheksfunktionszeichenfolge als Verarbeitungsmethode verwendet, jedoch in Unicode<br>Das Folgende ist ein Doppelbyte-wchar, das bei der Zeichenfolgenkonvertierung in groÃŸe Schwierigkeiten geraten ist. SchlieÃŸlich wird CString als Standardzeichenfolge verwendet und \ _T (â€œâ€) wird zum Initialisieren der Zeichenfolge verwendet. </p>
<h3 id="6-3-ifdef-Positionsproblem"><a href="#6-3-ifdef-Positionsproblem" class="headerlink" title="6.3 # ifdef Positionsproblem"></a>6.3 # ifdef Positionsproblem</h3><p>\ #ifdef, es kÃ¶nnen keine Haltepunkte gesetzt werden, und dann habe ich festgestellt, dass #define vor include geschrieben wurde. </p>
<h3 id="6-4-Parameterubertragung"><a href="#6-4-Parameterubertragung" class="headerlink" title="6.4 ParameterÃ¼bertragung"></a>6.4 ParameterÃ¼bertragung</h3><p>Zu Beginn wurde es mit einem prozessorientierten Denken entworfen und hatte die MÃ¼he, dasselbe Handle durch Ãœbergeben von Parametern zu Ã¼bergeben. SpÃ¤ter wurde es zu einer Klassenmethode und verbesserte sich erheblich. </p>
<h2 id="7-kleine-Optimierungen"><a href="#7-kleine-Optimierungen" class="headerlink" title="7 kleine Optimierungen"></a>7 kleine Optimierungen</h2><h3 id="7-1-Lesegeschwindigkeit"><a href="#7-1-Lesegeschwindigkeit" class="headerlink" title="7.1 Lesegeschwindigkeit"></a>7.1 Lesegeschwindigkeit</h3><p>Bei der Konstruktion der Hash-Funktion wurden drei Methoden in Betracht gezogen und Experimente durchgefÃ¼hrt, und die Zeitfunktion wurde verwendet, um die aufgewendete Zeit zu zÃ¤hlen. Die Ergebnisse sind wie folgt: </p>
<p>1) Nachdem Sie den Code geÃ¤ndert haben, lesen Sie den usn einmal, speichern Sie ihn in einer temporÃ¤ren Datei, lesen Sie die Hash-Tabelle und erstellen Sie sie </p>
<p>Bei jedem Lauf betrÃ¤gt die durchschnittliche Zeit etwa 27 Sekunden </p>
<p>2) Verwenden Sie den Vektor, um Daten nach der Freigabe im Speicher zu speichern. </p>
<p>Die Ergebnisse sind erfreulich und die Zeit hat sich um fast das Zehnfache erhÃ¶ht! ! ! Wie in Abbildung 7-1 dargestellt: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">7-1 Alle DatentrÃ¤ger durchlaufen</a> </p>
<p>Es liegt vollstÃ¤ndig im akzeptablen Bereich. </p>
<p>Der erste Lauf dauerte offensichtlich lange, und dann wurde die Datei aus dem Festplatten-Cache vorgelesen, und die Geschwindigkeit stieg. Der Analyse-Hotspot sollte in der DatentrÃ¤gersuchzeit und beim Lesen der Dateien liegen. </p>
<h3 id="7-2-Dateimethode-offnen"><a href="#7-2-Dateimethode-offnen" class="headerlink" title="7.2 Dateimethode Ã¶ffnen"></a>7.2 Dateimethode Ã¶ffnen</h3><p>Doppelklicken Sie in ** 4.3.2 ** auf den Dateipfad in der ListBox, um die Antwortdatei zu Ã¶ffnen. Zu Beginn wurde die Systemfunktion system () verwendet, aber ein schwarzes Konsolenfenster wird geÃ¶ffnet und das Hauptfenster wird gesperrt usw. Die AusfÃ¼hrung kann nur fortgesetzt werden, nachdem die Datei geschlossen wurde, was sich sehr nachteilig auf die Benutzererfahrung auswirkt. Rufen Sie stattdessen die ShellExecute-Funktion auf, um einen neuen Prozess zu Ã¶ffnen, und das Hauptfenster kann weiterhin ausgefÃ¼hrt werden. </p>
<h3 id="7-3-Fortschrittsbalken"><a href="#7-3-Fortschrittsbalken" class="headerlink" title="7.3 Fortschrittsbalken"></a>7.3 Fortschrittsbalken</h3><p>Nach der VerÃ¶ffentlichung der Version V1.0 gab es keine Eingabeaufforderung, als einige SchÃ¼ler die Hintergrundstatistikdatei meldeten. Daher weiÃŸ ich nicht, wann sie abgeschlossen sein wird. Daher wird am unteren Rand der HauptoberflÃ¤che ein Fortschrittsbalken hinzugefÃ¼gt, um die InteraktivitÃ¤t zu verbessern, wie in der Abbildung gezeigt<br>7-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_07.jpg">Abbildung 7-2 Fortschrittsbalken</a> </p>
<p>NatÃ¼rlich hat die Thread-Funktion auch notwendige Ã„nderungen vorgenommen: </p>
<h1 id="8-Fazit"><a href="#8-Fazit" class="headerlink" title="8 Fazit"></a>8 Fazit</h1><p>Zu diesem Zeitpunkt sind die Grundfunktionen des Programms abgeschlossen. Auf mehreren Computern und verschiedenen Systemen (XP und spÃ¤tere Windows-Serien) getestet, gibt es im Grunde keine angehaltenen Animationen und ProgrammaufhÃ¤nge. </p>
<p>Aus Zeit- und anderen GrÃ¼nden sind noch viele Funktionen nicht implementiert, z. B. kann die Schnittstelle nicht erweitert werden und die Dateidaten kÃ¶nnen nicht dynamisch erfasst werden. </p>
<h1 id="Verweise"><a href="#Verweise" class="headerlink" title="Verweise"></a>Verweise</h1><p>[1] Hardware-Whitepaper. NTFS-Dateisystemspezifikation [OL]. Baidu Library, 2011: 30.<br>[2] Beiyu. Forschung zu verschiedenen Technologien des NTFS-Dateisystems [OL]. 2007: 7.<br>[3] Babys. Interaktive EnzyklopÃ¤die [OL]. Http://<a target="_blank" rel="noopener" href="http://www.hudong.com/wiki/ntfs">www.hudong.com/wiki/ntfs</a><br>[4] Microsoft. MSDN-Bibliothek [OL]. 2012:<br>[5] Stanley B. Lippman / JosÃ©e LaJoie / Barbara E. Moo. C \ + \ + Primer [M]. Addison-Wesley Professional, 2006: 10.3<br>[6] Eric S. Raymond. Ãœbersetzer: Jiang Hong, He Yuan, Cai Xiaojun. Die Kunst der UNIX-Programmierung [m]. Verlag der Elektronikindustrie, 2006:<br>[7] Chen Hao. Einige Prinzipien des Software-Designs [OL]. Http://coolshell.cn/articles/4535.html<br>[8] AusfÃ¼hrliche ausfÃ¼hrliche ErklÃ¤rung zu Sun Xin. VC ++ [m]. Electronics Industry, 2006<br>[9] Jim Beveridge / Robert Wiener. Multithreading-Anwendungen in Win32: Das vollstÃ¤ndige Handbuch zu Threads<br>[10] Addison-Wesley Professional, 1996: 223-243 </p>
<h1 id="Englische-Zusammenfassung"><a href="#Englische-Zusammenfassung" class="headerlink" title="Englische Zusammenfassung"></a>Englische Zusammenfassung</h1><p>** Schnelle Positionierung der NTFS-DatentrÃ¤gerdateien ** </p>
<p>LE IH Ã–sterreich </p>
<p>(Schule fÃ¼r Information und Computer, Anhui Agricultural University, Hefei 230036) </p>
<p>** Abstract ** ï¼š Dieser Artikel beschreibt auf Windows NTFS-DatentrÃ¤gern die<br>AufzÃ¤hlung aller Namen der Dateien und Ordner auf der Festplatte,<br>und um eine Hash-Tabelle unter Verwendung von C ++ STL, MFC-GUI und Arbeitsthread zu erstellen.<br>Letztendlich muss der Nutzer StichwÃ¶rter als einfache Suche wie Google eingeben<br>Suchen Sie nach SchlÃ¼sselwÃ¶rtern und geben Sie sofort alle Ã¼bereinstimmenden Dateien / Ordner zurÃ¼ck<br>und ihren Systempfad. </p>
<p>** SchlÃ¼sselwÃ¶rter: ** NTFS, Schnell, Suche, SchlÃ¼sselwÃ¶rter, Dateipfad </p>

    </div>

    
    
    
      
  <div class="popular-posts-header">Ã„hnliche BeitrÃ¤ge</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/de/Go-Web/" rel="bookmark">Gehen Sie ins Web</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/de/Learn-Go-in-20-days/" rel="bookmark">Learn Go in 20 Tagen</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/de/ios-developer-account-and-app-store/" rel="bookmark">iOS-Entwicklerkonto und wie man es auflistet</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/de/count-lines-of-code/" rel="bookmark">Anzahl der Codezeilen</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/de/A-simple-VS-between-Sinatra-and-Martini/" rel="bookmark">Ein einfacher VS. zwischen Sinatra und Martini</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me ğŸ‘¨â€ğŸ’» a coffee â˜•ï¸</div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    Spenden
  </button>
  <div class="post-reward">
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/wechat.png" alt="LeiHao WeChat Bezahlung">
        <span>WeChat Bezahlung</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/alipay.png" alt="LeiHao Alipay">
        <span>Alipay</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/bitcoin.png" alt="LeiHao Bitcoin">
        <span>Bitcoin</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/de/tags/programming/" rel="tag"># Programming</a>
              <a href="/de/tags/everything/" rel="tag"># Everything</a>
              <a href="/de/tags/ntfs/" rel="tag"># NTFS</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/de/Before-graduation/" rel="next" title="Mehr als zehn Tage vor dem Abschluss">
                  Mehr als zehn Tage vor dem Abschluss <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2012 â€“ 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-laptop-code"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LeiHao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Insgesamt gezÃ¤hlte Symbole">606k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Insgesamte Lesezeit">9:11</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/de/js/utils.js"></script><script src="/de/js/next-boot.js"></script>

  




  <script src="/de/js/local-search.js"></script>















  








  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://Artwalk.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://leihao0.github.io/de/QSearch/";
    this.page.identifier = "QSearch/";
    this.page.title = "Die prinzipielle Vermutung und Verwirklichung von Allem";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://Artwalk.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
