<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/it/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/it/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/it/images/logo.png">
  <link rel="mask-icon" href="/it/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="rbaH_zC-qBwXaawJ10Mno3FHzv9HRFHGFdXx2f1BwyI">

<link rel="stylesheet" href="/it/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">

<script data-ad-client="ca-pub-2317298287519457" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"leihao0.github.io","root":"/it/","scheme":"Pisces","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Cerca...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/it/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="contenuto della ricerca   Leggi NTFS MFT  Costruzione della tabella hash  Percorso di sistema del file  GUI e thread di lavoro  Metodi di ricerca multipli  Interfaccia MFC   piano di ricerca   Da iniz">
<meta property="og:type" content="article">
<meta property="og:title" content="La congettura principale e la realizzazione del Tutto">
<meta property="og:url" content="https://leihao0.github.io/it/QSearch/index.html">
<meta property="og:site_name" content="LeiHao&#39;s Blog">
<meta property="og:description" content="contenuto della ricerca   Leggi NTFS MFT  Costruzione della tabella hash  Percorso di sistema del file  GUI e thread di lavoro  Metodi di ricerca multipli  Interfaccia MFC   piano di ricerca   Da iniz">
<meta property="og:locale" content="it_IT">
<meta property="article:published_time" content="2012-05-26T14:44:42.000Z">
<meta property="article:modified_time" content="2020-12-20T23:53:08.246Z">
<meta property="article:author" content="LeiHao">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="Everything">
<meta property="article:tag" content="NTFS">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://leihao0.github.io/it/QSearch/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'it'
  };
</script>

  <title>La congettura principale e la realizzazione del Tutto | LeiHao's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-159363268-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-159363268-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?25f016f633270b8e0baf56c4fe6f2dc1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/it/atom.xml" title="LeiHao's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/it/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">LeiHao's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/it/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/it/about/" rel="section"><i class="fa fa-user fa-fw"></i>Informazioni su</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/it/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archivi</a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/it/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Cerca
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Cerca..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Indice
        </li>
        <li class="sidebar-nav-overview">
          Panoramica
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Individuazione-rapida-dei-file-su-disco-NTFS"><span class="nav-number">1.</span> <span class="nav-text">Individuazione rapida dei file su disco NTFS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Introduzione"><span class="nav-number">1.1.</span> <span class="nav-text">1. Introduzione</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Breve-introduzione-a-NTFS"><span class="nav-number">1.2.</span> <span class="nav-text">2 Breve introduzione a NTFS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-NTFS"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 NTFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Situazione-attuale"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 Situazione attuale</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Preparazione"><span class="nav-number">1.3.</span> <span class="nav-text">3 Preparazione</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-Idee-di-design"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 Idee di design</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Cos%E2%80%99e-USN"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 Cosâ€™Ã¨ USN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-Perche-e-veloce"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 PerchÃ© Ã¨ veloce</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-Ambiente"><span class="nav-number">1.3.4.</span> <span class="nav-text">3.4 Ambiente</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Attuazione-del-programma"><span class="nav-number">1.4.</span> <span class="nav-text">4 Attuazione del programma</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-Leggi-USN"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 Leggi USN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-Determina-il-formato-del-disco"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">4.1.1 Determina il formato del disco</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-Ottieni-l%E2%80%99handle-del-disco-rigido"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">4.1.2 Ottieni lâ€™handle del disco rigido</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-3-Inizializza-registro-USN"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">4.1.3 Inizializza registro USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-4-Ottieni-informazioni-di-registro-USN"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">4.1.4 Ottieni informazioni di registro USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-5-Recupero-delle-informazioni-sul-file-di-giornale-USN"><span class="nav-number">1.4.1.5.</span> <span class="nav-text">4.1.5 Recupero delle informazioni sul file di giornale USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-6-Elimina-il-file-di-registro-USN"><span class="nav-number">1.4.1.6.</span> <span class="nav-text">4.1.6 Elimina il file di registro USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-7-Risultati-dell%E2%80%99enumerazione-di-tutti-i-file"><span class="nav-number">1.4.1.7.</span> <span class="nav-text">4.1.7 Risultati dellâ€™enumerazione di tutti i file</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-Costruisci-dati-di-ricerca"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 Costruisci dati di ricerca</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-Costruisci-vettore"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">4.2.1 Costruisci vettore</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-Costruire-una-tabella-hash"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">4.2.2 Costruire una tabella hash</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-3-Inserisci-dati"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">4.2.3 Inserisci dati:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-Interfaccia"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 Interfaccia</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-Principio-KISS"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">4.3.1 Principio KISS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-2-Funzione"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">4.3.2 Funzione</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-Partecipa-al-thread"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 Partecipa al thread</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-1-Perche-unire-i-thread"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">4.4.1 PerchÃ© unire i thread</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-2-Avviare-un-thread-di-lavoro-in-MFC"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">4.4.2 Avviare un thread di lavoro in MFC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-3-Riduci-a-icona-nell%E2%80%99area-di-notifica"><span class="nav-number">1.4.4.3.</span> <span class="nav-text">4.4.3 Riduci a icona nellâ€™area di notifica</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-Trova"><span class="nav-number">1.4.5.</span> <span class="nav-text">4.5 Trova</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-1-Carattere-jolly"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">4.5.1 Carattere jolly</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-2-Custodia-ordine"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">4.5.2 Custodia, ordine</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-3-Privacy-dell%E2%80%99utente-e-percorso-di-sistema"><span class="nav-number">1.4.5.3.</span> <span class="nav-text">4.5.3 Privacy dellâ€™utente e percorso di sistema</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-4-Implementazione"><span class="nav-number">1.4.5.4.</span> <span class="nav-text">4.5.4 Implementazione</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-5-Output-del-percorso"><span class="nav-number">1.4.5.5.</span> <span class="nav-text">4.5.5 Output del percorso</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Analisi-della-complessita"><span class="nav-number">1.5.</span> <span class="nav-text">5 Analisi della complessitÃ </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Complessita-temporale"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 ComplessitÃ  temporale</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Complessita-spaziale"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 ComplessitÃ  spaziale</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-problemi-riscontrati"><span class="nav-number">1.6.</span> <span class="nav-text">6 problemi riscontrati</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-Impossibile-inizializzare-il-file-USN"><span class="nav-number">1.6.1.</span> <span class="nav-text">6.1 Impossibile inizializzare il file USN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-Il-problema-di-wchar-e-char-in-unicode"><span class="nav-number">1.6.2.</span> <span class="nav-text">6.2 Il problema di wchar e char in unicode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-ifdef-problema-di-posizione"><span class="nav-number">1.6.3.</span> <span class="nav-text">6.3 #ifdef problema di posizione</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-Trasferimento-parametri"><span class="nav-number">1.6.4.</span> <span class="nav-text">6.4 Trasferimento parametri</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-piccole-ottimizzazioni"><span class="nav-number">1.7.</span> <span class="nav-text">7 piccole ottimizzazioni</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-Velocita-di-lettura"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 VelocitÃ  di lettura</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-Metodo-di-apertura-file"><span class="nav-number">1.7.2.</span> <span class="nav-text">7.2 Metodo di apertura file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-Barra-di-avanzamento"><span class="nav-number">1.7.3.</span> <span class="nav-text">7.3 Barra di avanzamento</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-Conclusione"><span class="nav-number">2.</span> <span class="nav-text">8 Conclusione</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Riferimenti"><span class="nav-number">3.</span> <span class="nav-text">Riferimenti</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Riepilogo-in-inglese"><span class="nav-number">4.</span> <span class="nav-text">Riepilogo in inglese</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">LeiHao</p>
  <div class="site-description" itemprop="description">ğŸ˜ƒğŸ˜ƒğŸ˜ƒ</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/it/archives/">
        
          <span class="site-state-item-count">159</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/it/tags/">
        <span class="site-state-item-count">81</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/leihao0" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/leihao0" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/leihao0" title="Linkedin â†’ https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" class="cc-opacity" rel="noopener" target="_blank"><img src="/it/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="it">
    <link itemprop="mainEntityOfPage" href="https://leihao0.github.io/it/QSearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/it/images/avatar.gif">
      <meta itemprop="name" content="LeiHao">
      <meta itemprop="description" content="ğŸ˜ƒğŸ˜ƒğŸ˜ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeiHao's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          La congettura principale e la realizzazione del Tutto
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Scritto il</span>

      <time title="Post creato: 2012-05-26 22:44:42" itemprop="dateCreated datePublished" datetime="2012-05-26T22:44:42+08:00">2012-05-26</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Post modificato: 2020-12-21 07:53:08" itemprop="dateModified" datetime="2020-12-21T07:53:08+08:00">2020-12-21</time>
      </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/it/QSearch/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="QSearch/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>27k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>24 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>contenuto della ricerca </p>
<ol>
<li>Leggi NTFS MFT </li>
<li>Costruzione della tabella hash </li>
<li>Percorso di sistema del file </li>
<li>GUI e thread di lavoro </li>
<li>Metodi di ricerca multipli </li>
<li>Interfaccia MFC </li>
</ol>
<p>piano di ricerca </p>
<ul>
<li>Da inizio aprile a metÃ  aprile per determinare la direzione della ricerca </li>
<li>Da fine aprile a fine aprile Preparazione per ogni punto di conoscenza, semplice test </li>
<li>Allâ€™inizio di maggio, progettazione e sviluppo del programma, debug e funzionamento </li>
<li>MetÃ  maggio-fine maggio Scrittura della tesi di laurea in design </li>
</ul>
<p>Caratteristiche e innovazione </p>
<ol>
<li>La CPU e lâ€™utilizzo della memoria rientrano in un intervallo ragionevole </li>
<li>Il software Ã¨ stabile e fornisce diverse opzioni di ricerca </li>
<li>Rispetto alla funzione di ricerca di Windows, la velocitÃ  della posizione del file Ã¨ super veloce </li>
</ol>
<h1 id="Individuazione-rapida-dei-file-su-disco-NTFS"><a href="#Individuazione-rapida-dei-file-su-disco-NTFS" class="headerlink" title="Individuazione rapida dei file su disco NTFS"></a>Individuazione rapida dei file su disco NTFS</h1><p><strong>Sommario</strong> </p>
<blockquote>
<p>Questo articolo introduce come enumerare i nomi di tutti i file e le cartelle sul disco rigido nel formato del disco Windows NTFS e utilizzare lâ€™STL di C ++ per costruire una tabella hash, nonchÃ© la GUI e i thread di lavoro di MFC, e infine realizzare lâ€™implementazione in base alle parole chiave inserite dallâ€™utente Cerca in modo semplice come la ricerca per parole chiave di Google, quindi restituisci immediatamente tutti i file / cartelle corrispondenti e ottieni ricorsivamente il percorso di sistema del file / cartella. </p>
</blockquote>
<p>** Parole chiave *<em>: *</em> NTFS, veloce, parola chiave, ricerca, percorso file ** </p>
<h2 id="1-Introduzione"><a href="#1-Introduzione" class="headerlink" title="1. Introduzione"></a>1. Introduzione</h2><p>La struttura delle directory di Windows Nei volumi NTFS, i file sono<br>Disporre sotto forma di albero B +, premere durante la ricerca di file nella directory<br>Il metodo di ricerca dellâ€™albero B + cerca prima il nodo radice (a partire dalla directory radice), quindi confronta il nome del file da trovare con il nome del file corrispondente al nodo figlio nel nodo radice per determinare quale nodo figlio corrisponde allâ€™area di archiviazione da cercare, quindi Utilizza il nodo figlio come nodo radice corrente e cerca di nuovo finchÃ© il file non viene trovato. ^ [1] ^ </p>
<p>Sebbene la ricerca fornita dal sistema Microsoft possa cercare contenuti di testo, la velocitÃ  Ã¨ molto insoddisfacente. Nella maggior parte dei casi, vogliamo solo sapere in quale cartella del computer Ã¨ archiviato il file e questo programma lo risolve molto bene. </p>
<h2 id="2-Breve-introduzione-a-NTFS"><a href="#2-Breve-introduzione-a-NTFS" class="headerlink" title="2 Breve introduzione a NTFS"></a>2 Breve introduzione a NTFS</h2><h3 id="2-1-NTFS"><a href="#2-1-NTFS" class="headerlink" title="2.1 NTFS"></a>2.1 NTFS</h3><p>NTFS (New Technology File System) æ˜¯ Windows<br>Il file system standard di NT e versioni successive di Windows. NTFS sostituisce il file system della tabella di allocazione dei file (FAT) e fornisce un file system per i sistemi operativi della serie Windows di Microsoft. NTFS ha apportato numerosi miglioramenti a FAT e HPFS (High Performance File System). Ad esempio, supporta i metadati e utilizza strutture di dati avanzate per migliorare le prestazioni, lâ€™affidabilitÃ  e lâ€™utilizzo dello spazio su disco. ^ [2] ^ </p>
<h3 id="2-2-Situazione-attuale"><a href="#2-2-Situazione-attuale" class="headerlink" title="2.2 Situazione attuale"></a>2.2 Situazione attuale</h3><p>Con Windows basato su NT<br>Con la popolaritÃ  di 2000 / XP, molti utenti individuali hanno iniziato a utilizzare NTFS. NTFS archivia anche i file di dati in cluster, ma la dimensione dei cluster in NTFS non dipende dalla dimensione del disco o della partizione. La riduzione delle dimensioni del cluster non solo riduce lo spreco di spazio su disco, ma riduce anche la possibilitÃ  di frammentazione del disco. NTFS supporta la funzione di gestione della crittografia dei file, che puÃ² fornire agli utenti un livello piÃ¹ elevato di garanzia di sicurezza. ^ [3] ^ </p>
<h2 id="3-Preparazione"><a href="#3-Preparazione" class="headerlink" title="3 Preparazione"></a>3 Preparazione</h2><h3 id="3-1-Idee-di-design"><a href="#3-1-Idee-di-design" class="headerlink" title="3.1 Idee di design"></a>3.1 Idee di design</h3><p>Legge tutti i nomi di file del disco come dati e abbina i dati in base alle parole chiave inserite dallâ€™utente. Il percorso corretto viene restituito allâ€™utente insieme al percorso per facilitare lâ€™apertura del file. </p>
<p>Lâ€™idea progettuale specifica Ã¨ mostrata nella Figura 3-1. </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_00.jpg">Figura 3-1 Idee di design</a> </p>
<p>Il piÃ¹ grande vantaggio della tabella hash Ã¨ che riduce notevolmente il tempo impiegato per lâ€™archiviazione e la ricerca dei dati, che puÃ² essere quasi considerato come un tempo costante; il costo Ã¨ solo per consumare piÃ¹ memoria. Tuttavia, con sempre piÃ¹ memoria disponibile, vale la pena scambiare lo spazio con il tempo. Inoltre, anche la facilitÃ  di codifica Ã¨ una delle sue caratteristiche. </p>
<h3 id="3-2-Cosâ€™e-USN"><a href="#3-2-Cosâ€™e-USN" class="headerlink" title="3.2 Cosâ€™Ã¨ USN"></a>3.2 Cosâ€™Ã¨ USN</h3><p>La massima prioritÃ  del programma Ã¨ leggere lâ€™USN. </p>
<p>USN æ˜¯ Aggiorna giornale o modifica numero di servizio<br>Lâ€™abbreviazione di Journal, la funzione di registrazione delle informazioni modificate nel volume NTFS, il numero di file e directory da monitorare possono essere impostati nella partizione e possono essere registrati il â€‹â€‹tempo di modifica e il contenuto dellâ€™oggetto monitorato. </p>
<p>Quando il registro USN Ã¨ abilitato, per ogni volume NTFS, quando sono disponibili informazioni sullâ€™aggiunta, lâ€™eliminazione e la modifica di file, NTFS utilizza il registro USN per registrarlo e archiviarlo come<br>Il formato di USN_RECORD. </p>
<h3 id="3-3-Perche-e-veloce"><a href="#3-3-Perche-e-veloce" class="headerlink" title="3.3 PerchÃ© Ã¨ veloce"></a>3.3 PerchÃ© Ã¨ veloce</h3><p>Il log USN Ã¨ equivalente alla directory WORD e fornisce un indice. Ovviamente, quando il contenuto dellâ€™articolo cambia, il log USN registrerÃ  quando viene apportata la modifica, ma non registra ciÃ² che viene modificato in esso, quindi il file index Ã¨ molto piccolo. E quando vuoi trovare il paragrafo specifico dellâ€™articolo, non Ã¨ necessario ruotare selvaggiamente la rotellina del mouse, basta guardare direttamente il sommario e devi solo tenere premuto ctrl + clic del mouse per individuare. </p>
<p>Allo stesso modo, quando si desidera trovare un determinato file, Ã¨ possibile scoprire direttamente se il file esiste effettuando una ricerca nel registro USN (ovvero lâ€™indice stabilito). </p>
<p>PS: sebbene Windows non sia â€œtutto Ã¨ un fileâ€ (Unix / Linux<br>Una delle filosofie di base di), ma la cartella esiste anche sotto forma di file, quindi puoi anche trovare la posizione tramite USN. </p>
<h3 id="3-4-Ambiente"><a href="#3-4-Ambiente" class="headerlink" title="3.4 Ambiente"></a>3.4 Ambiente</h3><p>PoichÃ© il formato NTFS Ã¨ originariamente un brevetto di Microsoft, sono fornite una serie di funzioni API per il nostro comodo accesso. </p>
<p>Come un vecchio ma classico Visual C ++ 6.0<br>Strumento di programmazione, ma allâ€™epoca non esisteva il formato NTFS, quindi ho scelto VC2005 come ambiente di sviluppo integrato e puÃ² essere eseguito solo su sistemi Windows dopo il 2000. </p>
<h2 id="4-Attuazione-del-programma"><a href="#4-Attuazione-del-programma" class="headerlink" title="4 Attuazione del programma"></a>4 Attuazione del programma</h2><h3 id="4-1-Leggi-USN"><a href="#4-1-Leggi-USN" class="headerlink" title="4.1 Leggi USN"></a>4.1 Leggi USN</h3><p>Le seguenti sono tutte le funzioni API fornite da Microsoft ^ [4] ^, incluse nel file di intestazione â€œ&lt;Winioctl.h&gt;â€. </p>
<h4 id="4-1-1-Determina-il-formato-del-disco"><a href="#4-1-1-Determina-il-formato-del-disco" class="headerlink" title="4.1.1 Determina il formato del disco"></a>4.1.1 Determina il formato del disco</h4><p>Chiama la seguente funzione per scoprire il disco in formato NTFS </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GetVolumeInformation(</span><br><span class="line">	lpRootPathName: PChar;               <span class="comment">// ç£ç›˜é©±åŠ¨å™¨ä»£ç å­—ç¬¦ä¸²</span></span><br><span class="line">	lpVolumeNameBuffer: PChar;           <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åç§°</span></span><br><span class="line">	nVolumeNameSize: DWORD;              <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åç§°é•¿åº¦</span></span><br><span class="line">	lpVolumeSerialNumber: PDWORD;        <span class="comment">// ç£ç›˜é©±åŠ¨å™¨å·æ ‡åºåˆ—å·</span></span><br><span class="line">	var lpMaximumComponentLength: DWORD; <span class="comment">// ç³»ç»Ÿå…è®¸çš„æœ€å¤§æ–‡ä»¶åé•¿åº¦</span></span><br><span class="line">    var lpFileSystemFlags: DWORD;        <span class="comment">// æ–‡ä»¶ç³»ç»Ÿæ ‡è¯†</span></span><br><span class="line">	lpFileSystemNameBuffer: PChar;       <span class="comment">// æ ¼å¼ç±»å‹</span></span><br><span class="line">	nFileSystemNameSize: DWORD           <span class="comment">// æ–‡ä»¶æ“ä½œç³»ç»Ÿåç§°é•¿åº¦</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>LpFileSystemNameBuffer, che Ã¨ ciÃ² che vogliamo, restituirÃ  stringhe come â€œFAT32â€ e â€œNTFSâ€. </p>
<p>Quindi utilizzare un ciclo per contare le lettere di unitÃ  AZ in formato NTFS e quindi inizializzare </p>
<h4 id="4-1-2-Ottieni-lâ€™handle-del-disco-rigido"><a href="#4-1-2-Ottieni-lâ€™handle-del-disco-rigido" class="headerlink" title="4.1.2 Ottieni lâ€™handle del disco rigido"></a>4.1.2 Ottieni lâ€™handle del disco rigido</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HANDLE hVol = CreateFile(</span><br><span class="line">	<span class="string">&quot;ç›˜ç¬¦å­—ç¬¦ä¸²&quot;</span>,  <span class="comment">// å¿…é¡»å¦‚\.\C: (A-Z)çš„å½¢å¼</span></span><br><span class="line">	GENERIC_READ | GENERIC_WRITE, <span class="comment">// å¯ä»¥ä¸º</span></span><br><span class="line">	FILE_SHARE_READ | FILE_SHARE_WRITE, <span class="comment">// å¿…é¡»åŒ…å«æœ‰FILE_SHARE_WRITE</span></span><br><span class="line">	<span class="literal">NULL</span>, <span class="comment">// è¿™é‡Œä¸éœ€è¦</span></span><br><span class="line">	OPEN_EXISTING, <span class="comment">// å¿…é¡»åŒ…å«OPEN_EXISTING, CREATE_ALWAYSå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class="line">	FILE_ATTRIBUTE_READONLY, <span class="comment">// FILE_ATTRIBUTE_NORMALå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class="line">	<span class="literal">NULL</span>); <span class="comment">// è¿™é‡Œä¸éœ€è¦</span></span><br></pre></td></tr></table></figure>

<p>Punti da notare: </p>
<ol>
<li>CreateFile restituisce un handle, che verrÃ  utilizzato di seguito; </li>
<li>PoichÃ© la lettera di unitÃ  deve essere nella forma di â€œ\. \ C:â€, la barra rovesciata â€œ//â€œ nel linguaggio â€œC ++â€ rappresenta â€œ/â€œ; </li>
<li>Sono richiesti i diritti di amministratore (vista, UAC apparirÃ  in win7) </li>
</ol>
<p>Se â€œhVol! = INVALID_HANDLE_VALUEâ€, significa che lâ€™handle Ã¨ stato ottenuto con successo e puoi procedere al passaggio successivo. </p>
<h4 id="4-1-3-Inizializza-registro-USN"><a href="#4-1-3-Inizializza-registro-USN" class="headerlink" title="4.1.3 Inizializza registro USN"></a>4.1.3 Inizializza registro USN</h4><p>Usa <code>FSCTL_CREATE_USN_JOURNAL</code> come codice di controllo di<code>DeviceIoControl</code>. </p>
<p><code>Cujd</code> Ã¨ un puntatore al buffer di input, che punta alla struttura<code>CREATE_USN_JOURNAL_DATA</code>. </p>
<h4 id="4-1-4-Ottieni-informazioni-di-registro-USN"><a href="#4-1-4-Ottieni-informazioni-di-registro-USN" class="headerlink" title="4.1.4 Ottieni informazioni di registro USN"></a>4.1.4 Ottieni informazioni di registro USN</h4><p>Usa <code>FSCTL_QUERY_USN_JOURNAL</code> come codice di controllo di<code>DeviceIoControl</code>. </p>
<p><code>lpOutBuffer</code> restituisce<code>USN_JOURNAL_DATA</code>, che Ã¨ una struttura </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    DWORDLONG UsnJournalID;</span><br><span class="line">    USN       FirstUsn;</span><br><span class="line">    USN       NextUsn;</span><br><span class="line">    USN       LowestValidUsn;</span><br><span class="line">    USN       MaxUsn;</span><br><span class="line">    DWORDLONG MaximumSize;</span><br><span class="line">    DWORDLONG AllocationDelta;</span><br><span class="line">&#125; USN_JOURNAL_DATA, *PUSN_JOURNAL_DATA;</span><br></pre></td></tr></table></figure>

<p>â€œUsnJournalIDâ€, â€œFirstUsnâ€, â€œNextUsnâ€ verranno utilizzati nel passaggio successivo </p>
<h4 id="4-1-5-Recupero-delle-informazioni-sul-file-di-giornale-USN"><a href="#4-1-5-Recupero-delle-informazioni-sul-file-di-giornale-USN" class="headerlink" title="4.1.5 Recupero delle informazioni sul file di giornale USN"></a>4.1.5 Recupero delle informazioni sul file di giornale USN</h4><p>PoichÃ© â€œUSNâ€ Ã¨ memorizzato nella forma di â€œUSN_RECORDâ€, la sua struttura Ã¨: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	DWORD RecordLength; <span class="comment">// è®°å½•é•¿åº¦</span></span><br><span class="line">	WORD MajorVersion; <span class="comment">// ä¸»ç‰ˆæœ¬</span></span><br><span class="line">	WORD MinorVersion; <span class="comment">// æ¬¡ç‰ˆæœ¬</span></span><br><span class="line">	DWORDLONG FileReferenceNumber; <span class="comment">// æ–‡ä»¶å¼•ç”¨æ•°</span></span><br><span class="line">	DWORDLONG ParentFileReferenceNumber; <span class="comment">// çˆ¶ç›®å½•å¼•ç”¨æ•°</span></span><br><span class="line">	USN Usn; <span class="comment">// USN</span></span><br><span class="line">	LARGE_INTEGER TimeStamp; <span class="comment">// æ—¶é—´æˆ³</span></span><br><span class="line">	DWORD Reason; <span class="comment">// åŸå› </span></span><br><span class="line">	DWORD SourceInfo; <span class="comment">// æºä¿¡æ¯</span></span><br><span class="line">	DWORD SecurityId; <span class="comment">// å®‰å…¨</span></span><br><span class="line">	ID DWORD FileAttributes; <span class="comment">// æ–‡ä»¶å±æ€§</span></span><br><span class="line">	WORD FileNameLength; <span class="comment">// æ–‡ä»¶é•¿åº¦</span></span><br><span class="line">	WORD FileNameOffset; <span class="comment">// æ–‡ä»¶ååç§»</span></span><br><span class="line">	DWORD ExtraInfo1;</span><br><span class="line">	DWORD ExtraInfo2; DWORD ExtraInfo3; <span class="comment">// Hypothetically added in version 2.3</span></span><br><span class="line">	WCHAR FileName[<span class="number">1</span>]; <span class="comment">// æ–‡ä»¶åç¬¬ä¸€ä½çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125; USN_RECORD, *PUSN_RECORD;</span><br></pre></td></tr></table></figure>

<p>Nota il <code>FileReferenceNumber</code>,<code>ParentFileReferenceNumber</code>, <code>FileNameLength</code>,<code>FileName</code> </p>
<p>Queste variabili sono molto importanti </p>
<p><code>DeviceIoControl ()</code> collabora con <code>FSCTL_ENUM_USN_DATA</code> </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">0</span>!=DeviceIoControl(hVol,</span><br><span class="line">	 	FSCTL_ENUM_USN_DATA,</span><br><span class="line">	 	&amp;med,</span><br><span class="line">	 	<span class="keyword">sizeof</span> (med),</span><br><span class="line">	 	Buffer,</span><br><span class="line">	 	BUF_LEN,</span><br><span class="line">	 	&amp;usnDataSize,</span><br><span class="line">	 	<span class="literal">NULL</span>)) &#123;</span><br><span class="line"></span><br><span class="line">	 	DWORD dwRetBytes = usnDataSize - <span class="keyword">sizeof</span> (USN);</span><br><span class="line">	 	<span class="comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ª USN è®°å½•</span></span><br><span class="line">	 	UsnRecord = (PUSN_RECORD)(((PCHAR)Buffer)+<span class="keyword">sizeof</span> (USN));</span><br><span class="line"></span><br><span class="line">	 	<span class="keyword">while</span> (dwRetBytes&gt;<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// è·å–åˆ°çš„ä¿¡æ¯</span></span><br><span class="line">	 		<span class="function">CString <span class="title">CfileName</span><span class="params">(UsnRecord-&gt;FileName, UsnRecord-&gt;FileNameLength/<span class="number">2</span>)</span></span>;</span><br><span class="line">	 		pfrnName.filename = nameCur.filename = CfileName;</span><br><span class="line">	 		pfrnName.pfrn = nameCur.pfrn = UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// Vector</span></span><br><span class="line">	 		VecNameCur.push_back(nameCur);</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// æ„å»ºhash...</span></span><br><span class="line">	 		frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] = pfrnName;</span><br><span class="line">	 		<span class="comment">// è·å–ä¸‹ä¸€ä¸ªè®°å½•</span></span><br><span class="line">	 		DWORD recordLen = UsnRecord-&gt;RecordLength;</span><br><span class="line">	 		dwRetBytes -= recordLen;</span><br><span class="line">	 		UsnRecord = (PUSN_RECORD)(((PCHAR)UsnRecord)+recordLen);</span><br><span class="line"></span><br><span class="line">	 	&#125;</span><br><span class="line">	 	<span class="comment">// è·å–ä¸‹ä¸€é¡µæ•°æ®</span></span><br><span class="line">	 	med.StartFileReferenceNumber = \*(USN \*)&amp;Buffer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Tra questi, â€œMedâ€ Ã¨: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MFT_ENUM_DATA med;</span><br><span class="line"></span><br><span class="line">med.StartFileReferenceNumber = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">med.LowUsn = <span class="number">0</span>;<span class="comment">//UsnInfo.FirstUsn;</span></span><br></pre></td></tr></table></figure>

<p>Dopo aver testato qui, si Ã¨ scoperto che se lâ€™uso di <code>FirstUsn</code> a volte Ã¨ errato, risultando in dati incompleti, Ã¨ meglio scrivere 0 direttamente. </p>
<p><code>med.HighUsn = UsnInfo.NextUsn;</code> </p>
<p>In questo ciclo, il nome del file ottenuto ogni volta viene inserito rispettivamente nel vettore e nella tabella hash (descritti di seguito). </p>
<h4 id="4-1-6-Elimina-il-file-di-registro-USN"><a href="#4-1-6-Elimina-il-file-di-registro-USN" class="headerlink" title="4.1.6 Elimina il file di registro USN"></a>4.1.6 Elimina il file di registro USN</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DeviceIoControl(hVol,</span><br><span class="line">	FSCTL_DELETE_USN_JOURNAL,</span><br><span class="line">	&amp;dujd,</span><br><span class="line">	<span class="keyword">sizeof</span> (dujd),</span><br><span class="line">	<span class="literal">NULL</span>,</span><br><span class="line">	<span class="number">0</span>,</span><br><span class="line">	&amp;br,</span><br><span class="line">	<span class="literal">NULL</span>)</span><br></pre></td></tr></table></figure>

<h4 id="4-1-7-Risultati-dellâ€™enumerazione-di-tutti-i-file"><a href="#4-1-7-Risultati-dellâ€™enumerazione-di-tutti-i-file" class="headerlink" title="4.1.7 Risultati dellâ€™enumerazione di tutti i file"></a>4.1.7 Risultati dellâ€™enumerazione di tutti i file</h4><p>Salvare i dati come Allfile.txt per lâ€™analisi, come mostrato nella Figura 4-1. </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_01.jpg">å›¾ 4-1 Allfile.txt</a> </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_02.jpg">å›¾ 4-1 Allfile.txt</a> </p>
<p>Ho usato lâ€™unitÃ  D del mio computer come test e ho elencato tutti i file. Come mostrato nella figura, ci sono circa 40 W file, un totale di oltre 100 W di dati e la dimensione del file Ã¨ di circa 20 MB. Questo ha una vaga stima della quantitÃ  di memoria occupata dai programmi successivi, che Ã¨ di circa 50M. Anche solo per 1 G di memoria, Ã¨ entro un intervallo ragionevole. Con i dati originali, lâ€™analisi Ã¨ la seguente: </p>
<p>Ad esempio, il file Linux programming practice.isz, il suo percorso di sistema Ã¨: <code>D: \ Ghost \ Linux \ Linux programming practice.isz</code>, guarda il risultato nel file: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">D:\</span><br><span class="line">Frn: 5000000000005</span><br><span class="line">Pfrn: NULL</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Ghost</span><br><span class="line">Frn: 20000000000fd</span><br><span class="line">Pfrn: 5000000000005</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Linux</span><br><span class="line">Frn: e0000000010d2</span><br><span class="line">Pfrn: 20000000000fd</span><br><span class="line">â€¦â€¦</span><br><span class="line">â€¦â€¦</span><br><span class="line">Linuxç¼–ç¨‹å®è·µ.isz</span><br><span class="line">Frn: 190000000003b2</span><br><span class="line">Pfrn: e0000000010d2</span><br><span class="line">å¯ä»¥å¾—å‡ºï¼š</span><br><span class="line">Linuxç¼–ç¨‹å®è·µ.isz-&gt;Pfrn &#x3D;&#x3D; Linux-&gt;Frn</span><br><span class="line">Linux-&gt;Pfrn &#x3D;&#x3D; Ghost-&gt;Frn</span><br><span class="line">Ghost-&gt;Pfrn &#x3D;&#x3D; D:\ -&gt; Frn</span><br><span class="line">D:\ -&gt; Pfrn åœæ­¢</span><br></pre></td></tr></table></figure>

<p>Quindi, utilizzando una funzione ricorsiva (chiamando direttamente o indirettamente la propria funzione), Ã¨ possibile ottenere il percorso completo. </p>
<h3 id="4-2-Costruisci-dati-di-ricerca"><a href="#4-2-Costruisci-dati-di-ricerca" class="headerlink" title="4.2 Costruisci dati di ricerca"></a>4.2 Costruisci dati di ricerca</h3><h4 id="4-2-1-Costruisci-vettore"><a href="#4-2-1-Costruisci-vettore" class="headerlink" title="4.2.1 Costruisci vettore"></a>4.2.1 Costruisci vettore</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">name_cur</span> &#123;</span></span><br><span class="line">    CString filename;</span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">&#125;Name_Cur;</span><br></pre></td></tr></table></figure>

<p>Vettore: </p>
<p>Un contenitore sequenziale. Si accede agli elementi nel vettore tramite il loro indice di posizione. Puoi chiamare push_back o<br>La funzione di inserimento aggiunge elementi al vettore. In vettoriale<br>Lâ€™aggiunta di elementi al contenitore puÃ² causare la riassegnazione dello spazio di memoria per il contenitore e puÃ² anche invalidare tutti gli iteratori. in<br>vettore<br>Lâ€™aggiunta (o lâ€™eliminazione) di elementi al centro del contenitore invaliderÃ  tutti gli iteratori che puntano agli elementi dopo il punto di inserimento (o eliminazione). </p>
<p>Usa Vector per memorizzare &lt;nome file, directory corrente&gt; A causa dei requisiti della ricerca fuzzy, i metodi di ricerca rapida come la ricerca binaria non sono applicabili qui e il metodo di attraversamento lineare di Vector dallâ€™inizio alla fine soddisfa questo requisito. . </p>
<h4 id="4-2-2-Costruire-una-tabella-hash"><a href="#4-2-2-Costruire-una-tabella-hash" class="headerlink" title="4.2.2 Costruire una tabella hash"></a>4.2.2 Costruire una tabella hash</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">pfrn_name</span> &#123;</span></span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">    CString filename;</span><br><span class="line">&#125;Pfrn_Name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;DWORDLONG, Pfrn_Name&gt; Frn_Pfrn_Name_Map;</span><br></pre></td></tr></table></figure>

<p>Qui usiamo la funzione libreria di mappe ^ [5] ^ fornita da STL, map Ã¨ una raccolta di coppie chiave-valore. carta geografica<br>Il tipo di solito puÃ² essere inteso come un array associativo (associative<br>array): puoi usare la chiave come pedice per ottenere un valore, proprio come il tipo di array incorporato. Lâ€™essenza dellâ€™associazione Ã¨ che il valore di un elemento Ã¨ associato a una chiave specifica, piuttosto che ottenuto dalla posizione dellâ€™elemento nellâ€™array. </p>
<ol>
<li>Considerando che se si implementa da soli la funzione hash, potrebbero esserci diversi bug che influiscono sullâ€™avanzamento, Ã¨ meglio utilizzare la mappa stabile fornita da STL per implementarla. </li>
<li>â€œNon reinventare la ruotaâ€ Non reinventare la ruota ^ [6] ^ <ol>
<li>Ad esempio, Android di Google, Ã¨ lâ€™incapacitÃ  di Google di sviluppare un kernel di sistema da solo, quindi utilizza un kernel Linux molto maturo? Penso che sia impossibile per un gigante mondiale come Google essere senza questa capacitÃ . Invece, rispetta il principio di non reinventare la ruota. </li>
</ol>
</li>
</ol>
<h4 id="4-2-3-Inserisci-dati"><a href="#4-2-3-Inserisci-dati" class="headerlink" title="4.2.3 Inserisci dati:"></a>4.2.3 Inserisci dati:</h4><p>Questo Ã¨ usato qui nella Sezione 4.1.5, Ottieni USN Journal<br>Nel ciclo delle informazioni sul file, le informazioni â€œUSN_RECORDâ€ ottenute ogni volta, il â€œnomefileâ€,<br>â€œpfrnâ€, â€œfrnâ€ vengono inseriti rispettivamente nel vettore e nella tabella hash. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pfrnName.filename &#x3D; nameCur.filename &#x3D; CfileName;</span><br><span class="line">pfrnName.pfrn &#x3D; nameCur.pfrn &#x3D; UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line">VecNameCur.push_back(nameCur);</span><br><span class="line">frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] &#x3D; pfrnName;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-Interfaccia"><a href="#4-3-Interfaccia" class="headerlink" title="4.3 Interfaccia"></a>4.3 Interfaccia</h3><p>Quando si avvia un progetto, VC2005 fornisce progetti a riga di comando (console) e progetti GUI. La programmazione dalla riga di comando Ã¨ molto comoda, veloce, pratica e relativamente semplice. Se la console puÃ² soddisfare i requisiti, lâ€™interfaccia non Ã¨ necessaria. Oppure a volte la piattaforma di destinazione non puÃ² visualizzare lâ€™interfaccia utente grafica. ma,<br>La GUI ha vantaggi piÃ¹ evidenti, come il sistema di menu e una migliore interattivitÃ . Inoltre, nel processo di selezione del menu e spostamento dei dati tra i campi,<br>Il mouse Ã¨ molto utile e la GUI Ã¨ la strada da percorrere. Pertanto, durante la scrittura del programma, prima ha sperimentato alcuni dati intermedi sotto la console, quindi Ã¨ passato allâ€™interfaccia GUI quando Ã¨ finito. </p>
<p>MFC: Microsoft Foundation Classes, noto anche come MFC<br>, Ãˆ la risposta di Microsoft a â€œabbassare Windows<br>Il piÃ¹ grande contributo dato da â€œprogettazione del programma, noia, noia e difficoltÃ â€ MFC<br>Rende la generazione di finestre di dialogo estremamente semplice. Implementa anche un sistema di consegna dei messaggi (message<br>dispacciamento), affrontando i facili errori di WPARAM e LP ARAM. MFC<br>Ãˆ anche la forza trainante per attirare alcune persone in C ++.<br>Questo programma Ã¨ implementato da MFC fornito da Microsoft, come mostrato nella Figura 4-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_04.jpg">Figura 4-2 Interfaccia MFC</a> </p>
<h4 id="4-3-1-Principio-KISS"><a href="#4-3-1-Principio-KISS" class="headerlink" title="4.3.1 Principio KISS"></a>4.3.1 Principio KISS</h4><p>Il principio KISS Ã¨ â€œKeep It Sample And<br>Lâ€™abbreviazione di â€œStupidâ€, semplicitÃ  e facilitÃ  dâ€™uso sono i principi piÃ¹ importanti del design. </p>
<p>Il principio KISS Ã¨ probabilmente il piÃ¹ rispettato nel design, nel design per la casa, nel design dellâ€™interfaccia<br>In termini di progettazione operativa, le cose complesse stanno diventando sempre piÃ¹ popolari, mentre le cose semplici stanno diventando sempre piÃ¹ riconosciute.Ad esempio, questi design dellâ€™interfaccia utente e le nostre pagine web cinesi sono esempi negativi. Idee di produzione e design per la casa semplici ed efficienti â€œIKEAâ€ (IKEA); concetto di â€œciÃ² che vedi Ã¨ ciÃ² che ottieniâ€ di â€œMicrosoftâ€ (Microsoft); stile aziendale semplice e diretto di â€œGoogleâ€ (Google), senza eccezioni Il principio del â€œbacioâ€. ^ [7] ^ </p>
<h4 id="4-3-2-Funzione"><a href="#4-3-2-Funzione" class="headerlink" title="4.3.2 Funzione"></a>4.3.2 Funzione</h4><p>Secondo il principio del bacio, sii il piÃ¹ conciso possibile. Aggiungi casella di riepilogo del pulsante Editbox<br>menu ^ [8] ^ Le funzioni di questi controlli sono le seguenti: </p>
<ul>
<li>Casella di modifica <ul>
<li>Ottieni la stringa che deve essere cercata dallâ€™utente </li>
</ul>
</li>
<li>Pulsante <ol>
<li>Ottieni la stringa in EditBox </li>
<li>Il carattere Ã¨ troppo corto per far apparire un prompt </li>
<li>Aggiungi unâ€™immagine a lente dâ€™ingrandimento, la funzione Ã¨ chiara a colpo dâ€™occhio </li>
</ol>
</li>
<li>Listbox <ol>
<li>Visualizza il nome e il percorso del file corrispondente, fai doppio clic per aprire il file </li>
<li>PoichÃ© il percorso puÃ² essere relativamente lungo, aggiungere una barra di scorrimento orizzontale </li>
<li>Fare doppio clic sul percorso del file dei risultati nella casella di riepilogo per aprire il file selezionato con un doppio clic </li>
</ol>
</li>
<li>MenÃ¹ <ul>
<li>Menu, Ã¨ possibile selezionare il caso, lâ€™ordine di ricerca </li>
</ul>
</li>
</ul>
<h3 id="4-4-Partecipa-al-thread"><a href="#4-4-Partecipa-al-thread" class="headerlink" title="4.4 Partecipa al thread"></a>4.4 Partecipa al thread</h3><h4 id="4-4-1-Perche-unire-i-thread"><a href="#4-4-1-Perche-unire-i-thread" class="headerlink" title="4.4.1 PerchÃ© unire i thread"></a>4.4.1 PerchÃ© unire i thread</h4><p>I vantaggi dei thread: i thread sono economici. Il thread si avvia piÃ¹ velocemente, esce piÃ¹ velocemente e ha un impatto minore sulle risorse di sistema. </p>
<p>Considera anche: </p>
<ol>
<li>A causa della limitazione di io, non ha molto senso utilizzare piÃ¹ thread per leggere MFT simultaneamente sullo stesso disco rigido. </li>
<li>Lâ€™accesso al disco a MFT che si trova in diverse partizioni dello stesso disco rigido puÃ² invece influire sulla velocitÃ . Per i computer con piÃ¹ dischi rigidi, lâ€™efficienza dovrebbe essere notevolmente migliorata. Tuttavia, gli utenti di piÃ¹ dischi rigidi possono formare un array RAID. La soluzione migliore dovrebbe essere quella di leggere i dischi A-Z in sequenza. </li>
<li>Quando lâ€™MFC Ã¨ stato creato per la prima volta, Ã¨ stato eseguito in sequenza. Di conseguenza, lâ€™interfaccia puÃ² essere visualizzata solo dopo che tutte le statistiche dei dati sono state completate.In questo processo, gli utenti possono facilmente perdere la pazienza. </li>
<li>Infine, decidere un thread dellâ€™interfaccia utente, una statistica di background del thread di lavoro. </li>
</ol>
<h4 id="4-4-2-Avviare-un-thread-di-lavoro-in-MFC"><a href="#4-4-2-Avviare-un-thread-di-lavoro-in-MFC" class="headerlink" title="4.4.2 Avviare un thread di lavoro in MFC"></a>4.4.2 Avviare un thread di lavoro in MFC</h4><p>MFC ha da tempo aggiunto il supporto per il multithreading. In un tipico MFC<br>Nel programma, il supporto del multithreading Ã¨ nascosto dietro un lavoro straordinario. MFC<br>Anche i tentativi di rafforzare alcuni concetti Win32 relativi al multithreading. </p>
<p>Sia la GUI che i thread di lavoro vengono avviati con AfxBeginThread () ma MFC utilizza la natura di overload delle funzioni C ++ per fornire due diverse dichiarazioni per questa funzione. Il compilatore selezionerÃ  automaticamente quello corretto da utilizzare in base ai parametri forniti. ^ [9] ^ </p>
<p>Usa AfxBeginThread per avviare il thread.<br>pParam Qualsiasi valore a 4 byte, utilizzato per passare al nuovo thread. PuÃ² essere un numero intero o un puntatore o solo uno zero. </p>
<p>Qui vengono utilizzati solo i primi due parametri, la funzione thread nellâ€™oggetto e il puntatore allâ€™oggetto </p>
<p>Potete vedere due thread nel task manager, come mostrato nella Figura 4-3 </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_03.jpg">La figura 4-3 Task Manager mostra il numero di thread</a> </p>
<p>Quando il thread di lavoro termina la sua attivitÃ , terminerÃ  automaticamente e tornerÃ  a un thread. </p>
<h4 id="4-4-3-Riduci-a-icona-nellâ€™area-di-notifica"><a href="#4-4-3-Riduci-a-icona-nellâ€™area-di-notifica" class="headerlink" title="4.4.3 Riduci a icona nellâ€™area di notifica"></a>4.4.3 Riduci a icona nellâ€™area di notifica</h4><p>Ora sempre piÃ¹ programmi fanno clic su Chiudi nellâ€™angolo in alto a destra, che in realtÃ  Ã¨ ridotto a icona nella barra delle applicazioni. Per uscire dal programma, Ã¨ necessario fare clic con il pulsante destro del mouse sullâ€™icona della barra delle applicazioni per uscire. </p>
<p>Realizza la minimizzazione senza uscire dal programma, puoi trovare i file comodamente. </p>
<p>1) Ridurre a icona la visualizzazione sulla barra delle applicazioni. </p>
<p>2) Fare clic su Chiudi per uscire dallâ€™icona della barra delle applicazioni senza visualizzarla nella barra delle applicazioni; fare doppio clic per rispondere alla finestra di visualizzazione. </p>
<p>3) Aggiungi menu allâ€™icona del vassoio. </p>
<h3 id="4-5-Trova"><a href="#4-5-Trova" class="headerlink" title="4.5 Trova"></a>4.5 Trova</h3><h4 id="4-5-1-Carattere-jolly"><a href="#4-5-1-Carattere-jolly" class="headerlink" title="4.5.1 Carattere jolly"></a>4.5.1 Carattere jolly</h4><p>Nelle applicazioni reali, Ã¨ impossibile ricordare chiaramente il nome del file, come test.2012-5-14.txt, che spesso significa â€œtest<br>.txt â€œ, quindi Ã¨ necessaria la ricerca fuzzy. PerchÃ© sotto la console, il nome di &lt;filename,<br>pfrn&gt; Crea una tabella hash. Se vuoi implementare la ricerca fuzzy, la tabella hash non Ã¨ piÃ¹ necessaria. Puoi usare direttamente il vettore contenitore. </p>
<p>In base alla situazione attuale, non Ã¨ richiesto alcun carattere jolly rigoroso, â€œ\ *?â€<br>PuÃ² risolvere la maggior parte dei problemi di ricerca, inoltre gli utenti generalmente potrebbero non conoscere lâ€™uso dei caratteri jolly, per non parlare delle espressioni regolari. Quindi inizia con â€œspazioâ€<br>Invece di â€œ\ *?â€, Implementa Baidu<br>Il metodo di ricerca di Google per separare le parole chiave con gli spazi Ã¨ una buona soluzione. \ * \ * \ * \ * </p>
<h4 id="4-5-2-Custodia-ordine"><a href="#4-5-2-Custodia-ordine" class="headerlink" title="4.5.2 Custodia, ordine"></a>4.5.2 Custodia, ordine</h4><p>Ci sono generalmente le seguenti due situazioni: </p>
<ol>
<li>Lâ€™utente potrebbe non ricordare le maiuscole e le minuscole del nome del file o del percorso </li>
<li>A volte sono presenti troppi file e per filtrare i file corretti potrebbe essere necessario lâ€™uso di lettere maiuscole </li>
<li>Non ricordo lâ€™ordine delle parole chiave </li>
</ol>
<p>Quindi fornisci le seguenti due opzioni: </p>
<ol>
<li>Caso rigoroso </li>
<li>Nessun ordine </li>
</ol>
<p>In base alla situazione generale, lâ€™impostazione predefinita Ã¨: ricerca sequenziale senza distinzione tra maiuscole e minuscole </p>
<h4 id="4-5-3-Privacy-dellâ€™utente-e-percorso-di-sistema"><a href="#4-5-3-Privacy-dellâ€™utente-e-percorso-di-sistema" class="headerlink" title="4.5.3 Privacy dellâ€™utente e percorso di sistema"></a>4.5.3 Privacy dellâ€™utente e percorso di sistema</h4><ol>
<li>Considera che alcune cartelle vengono utilizzate per archiviare i file privati â€‹â€‹degli utenti. </li>
<li>La cartella di sistema, come: <code>c: \ windows \ *</code> non Ã¨ usata dagli utenti ordinari. La stessa ricerca aumenterÃ  solo i file non necessari e appesantirÃ  il sistema. </li>
</ol>
<p>Quindi Ã¨ necessario aggiungere unâ€™opzione di esclusione cartella, come mostrato nella Figura 4-4 </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">Figura 4-4 Escludi interfaccia cartella</a> </p>
<p>La funzione corrispondente Ã¨: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isIgnore</span><span class="params">( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;\* pignorelist )</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> tmp = CW2A(path);</span><br><span class="line">	<span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::iterator it = pignorelist-&gt;begin();</span><br><span class="line">		it != pignorelist-&gt;end(); ++it ) &#123;</span><br><span class="line">			<span class="keyword">size_t</span> i = it-&gt;length();</span><br><span class="line">			<span class="keyword">if</span> ( !tmp.compare(<span class="number">0</span>, i, \*it,<span class="number">0</span>, i) ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-4-Implementazione"><a href="#4-5-4-Implementazione" class="headerlink" title="4.5.4 Implementazione"></a>4.5.4 Implementazione</h4><p>Nuova classe di stringa corrispondente </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cmpStrStr</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	cmpStrStr(<span class="keyword">bool</span> uplow, <span class="keyword">bool</span> inorder) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;uplow = uplow;</span><br><span class="line">		<span class="keyword">this</span>-&gt;isOrder = inorder;</span><br><span class="line">	&#125;</span><br><span class="line">	~cmpStrStr() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">cmpStrFilename</span><span class="params">(CString str, CString filename)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">infilename</span><span class="params">(CString &amp;strtmp, CString &amp;filenametmp)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">bool</span> uplow;</span><br><span class="line">	<span class="keyword">bool</span> isOrder;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Attraversa il VecNameCur in ** 4.2.1 **, passa la funzione di corrispondenza cmpStrFilename e ottieni il nome del file corrispondente </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;Name_Cur&gt;::const_iterator cit = VecNameCur.begin();</span><br><span class="line">	cit != VecNameCur.end(); ++cit) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( cmpstrstr.cmpStrFilename(str, cit-&gt;filename) ) &#123;</span><br><span class="line">		path.Empty();</span><br><span class="line">		<span class="comment">// è¿˜åŸ è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// vol:\  path \ cit-&gt;filename</span></span><br><span class="line">		getPath(cit-&gt;pfrn, path);</span><br><span class="line">		path += cit-&gt;filename;</span><br><span class="line">		<span class="comment">// pathå·²æ˜¯å…¨è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> ( isIgnore(pignorelist) ) &#123;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		rightFile.push_back(path);</span><br><span class="line">		<span class="comment">//path.Empty();</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cmpStrFilenameå‡½æ•°ï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> end = str.GetLength();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> ( pos &lt; end ) &#123;</span><br><span class="line">	<span class="comment">// å¯¹äºstrï¼Œå–å¾— æ¯ä¸ªç©ºæ ¼åˆ†å¼€ä¸ºçš„å…³é”®è¯</span></span><br><span class="line">	pos = str.Find( _T(<span class="string">&#x27; &#x27;</span>) );</span><br><span class="line"></span><br><span class="line">	CString strtmp;</span><br><span class="line">	<span class="keyword">if</span> ( pos == <span class="number">-1</span> ) &#123;</span><br><span class="line">		<span class="comment">// æ— ç©ºæ ¼</span></span><br><span class="line">		strtmp = str;</span><br><span class="line">		pos = end;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		strtmp = str.Mid(<span class="number">0</span>, pos<span class="number">-0</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( !infilename(strtmp, filename) ) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	str.Delete(<span class="number">0</span>, pos);</span><br><span class="line">	str.TrimLeft(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Ãˆ possibile riscrivere facilmente lâ€™algoritmo di corrispondenza delle stringhe nella funzione infilename per ottenere alcune estensioni </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">filenametmp</span><span class="params">(filename)</span></span>;</span><br><span class="line"><span class="keyword">int</span> pos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !uplow ) &#123;</span><br><span class="line">	<span class="comment">// å¤§å°å†™æ•æ„Ÿ</span></span><br><span class="line">	filenametmp.MakeLower();</span><br><span class="line">	pos = filenametmp.Find(strtmp.MakeLower());</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	pos = filenametmp.Find(strtmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="number">-1</span> == pos ) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !isOrder ) &#123;</span><br><span class="line">	<span class="comment">// æ— é¡ºåº</span></span><br><span class="line">	filename.Delete(<span class="number">0</span>, pos+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-5-Output-del-percorso"><a href="#4-5-5-Output-del-percorso" class="headerlink" title="4.5.5 Output del percorso"></a>4.5.5 Output del percorso</h4><p>Dopo aver ottenuto il nome file corrispondente, il passaggio successivo consiste nellâ€™ottenere il percorso di sistema del file. Passa il nome completo del nome file corrispondente ottenuto sopra nella tabella hash frnPfrnNameMap costruita in ** 4.2.2 ** per ottenere il percorso in modo ricorsivo. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">Volume::getPath</span><span class="params">(DWORDLONG frn, CString &amp;path)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æŸ¥æ‰¾2</span></span><br><span class="line">	Frn_Pfrn_Name_Map::iterator it = frnPfrnNameMap.find(frn);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (it != frnPfrnNameMap.end()) &#123;</span><br><span class="line"></span><br><span class="line">		  <span class="keyword">if</span> ( <span class="number">0</span> != it-&gt;second.pfrn ) &#123;</span><br><span class="line">		 	  getPath(it-&gt;second.pfrn, path);</span><br><span class="line">		  &#125;</span><br><span class="line"></span><br><span class="line">		  path += it-&gt;second.filename;</span><br><span class="line">		  path += ( _T(<span class="string">&quot;\&quot;) );</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">	return path;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-Analisi-della-complessita"><a href="#5-Analisi-della-complessita" class="headerlink" title="5 Analisi della complessitÃ "></a>5 Analisi della complessitÃ </h2><h3 id="5-1-Complessita-temporale"><a href="#5-1-Complessita-temporale" class="headerlink" title="5.1 ComplessitÃ  temporale"></a>5.1 ComplessitÃ  temporale</h3><p>In teoria, la complessitÃ  temporale Ã¨: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_05.jpg">Figura 5-1 Analisi della complessitÃ </a> </p>
<p>Sul processore AMD Athlon (tm) II X2 245 2.9GHz, il risultato Ã¨ quasi istantaneo. </p>
<h3 id="5-2-Complessita-spaziale"><a href="#5-2-Complessita-spaziale" class="headerlink" title="5.2 ComplessitÃ  spaziale"></a>5.2 ComplessitÃ  spaziale</h3><p>A causa dellâ€™enorme numero di file del computer, solitamente 10W-100W, lâ€™utilizzo della memoria del programma stesso puÃ² essere ignorato. </p>
<p>234.708 file su 43M. </p>
<p>Per i sistemi con almeno 2G di memoria oggi, non Ã¨ un peso. </p>
<h2 id="6-problemi-riscontrati"><a href="#6-problemi-riscontrati" class="headerlink" title="6 problemi riscontrati"></a>6 problemi riscontrati</h2><h3 id="6-1-Impossibile-inizializzare-il-file-USN"><a href="#6-1-Impossibile-inizializzare-il-file-USN" class="headerlink" title="6.1 Impossibile inizializzare il file USN"></a>6.1 Impossibile inizializzare il file USN</h3><p>Il disco O sul computer non puÃ² inizializzare il file di registro USN. Attraverso il debug, si Ã¨ riscontrato che: </p>
<p>DeviceIoControl restituisce 0, GetLastError 0x70 </p>
<p>Controlla msdn, il motivo Ã¨ ERROR_SHARING_PAUSED </p>
<p>Si scopre che ho dimenticato di inizializzare e aggiungere il seguente codice, il programma puÃ² accedere normalmente al disco O. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE_USN_JOURNAL_DATA cujd;</span><br><span class="line">cujd.MaximumSize = <span class="number">0</span>; <span class="comment">// 0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line">cujd.AllocationDelta = <span class="number">0</span>; <span class="comment">// 0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2-Il-problema-di-wchar-e-char-in-unicode"><a href="#6-2-Il-problema-di-wchar-e-char-in-unicode" class="headerlink" title="6.2 Il problema di wchar e char in unicode"></a>6.2 Il problema di wchar e char in unicode</h3><p>Inizialmente, in termini di elaborazione delle stringhe, la stringa della funzione di libreria standard Ã¨ stata utilizzata come metodo di elaborazione, ma in Unicode<br>Quello che segue Ã¨ un wchar a doppio byte, che ha avuto molti problemi nella conversione delle stringhe. Infine, CString viene utilizzato come stringa predefinita e \ _T (â€œâ€) viene utilizzato per inizializzare la stringa. </p>
<h3 id="6-3-ifdef-problema-di-posizione"><a href="#6-3-ifdef-problema-di-posizione" class="headerlink" title="6.3 #ifdef problema di posizione"></a>6.3 #ifdef problema di posizione</h3><p>\ #ifdef, non Ã¨ possibile impostare punti di interruzione in esso, quindi ho notato che #define Ã¨ stato scritto prima di include. </p>
<h3 id="6-4-Trasferimento-parametri"><a href="#6-4-Trasferimento-parametri" class="headerlink" title="6.4 Trasferimento parametri"></a>6.4 Trasferimento parametri</h3><p>Allâ€™inizio era stato progettato con un pensiero orientato al processo e si Ã¨ preso la briga di passare lo stesso handle passando i parametri, successivamente Ã¨ cambiato in un metodo di classe e migliorato molto. </p>
<h2 id="7-piccole-ottimizzazioni"><a href="#7-piccole-ottimizzazioni" class="headerlink" title="7 piccole ottimizzazioni"></a>7 piccole ottimizzazioni</h2><h3 id="7-1-Velocita-di-lettura"><a href="#7-1-Velocita-di-lettura" class="headerlink" title="7.1 VelocitÃ  di lettura"></a>7.1 VelocitÃ  di lettura</h3><p>Durante la costruzione della funzione hash, sono stati presi in considerazione tre metodi e sono stati eseguiti rispettivamente esperimenti e la funzione tempo Ã¨ stata utilizzata per contare il tempo trascorso. I risultati sono i seguenti: </p>
<p>1) Dopo aver modificato il codice, leggilo una volta, memorizzalo in un file temporaneo, leggi e crea una tabella hash </p>
<p>Ogni corsa, il tempo medio Ã¨ di circa 27 secondi </p>
<p>2) Usa il vettore per memorizzare i dati in memoria, dopo il rilascio, </p>
<p>Il risultato Ã¨ gratificante e il tempo Ã¨ aumentato di quasi 10 volte! ! ! Come mostrato nella Figura 7-1: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">7-1 Attraversa tutti i dischi</a> </p>
<p>Ãˆ completamente allâ€™interno dellâ€™intervallo accettabile. </p>
<p>La prima esecuzione ovviamente ha richiesto molto tempo, quindi il file Ã¨ stato pre-letto dalla cache del disco e la velocitÃ  Ã¨ aumentata. Lâ€™hotspot dellâ€™analisi dovrebbe trovarsi nel tempo di ricerca del disco e nella lettura del file. </p>
<h3 id="7-2-Metodo-di-apertura-file"><a href="#7-2-Metodo-di-apertura-file" class="headerlink" title="7.2 Metodo di apertura file"></a>7.2 Metodo di apertura file</h3><p>In ** 4.3.2 **, fare doppio clic sul percorso del file nella ListBox per aprire il file di risposta. Allâ€™inizio Ã¨ stata utilizzata la funzione di sistema system (), ma verrÃ  visualizzata una finestra della console nera e la finestra principale verrÃ  bloccata, ecc. Lâ€™esecuzione puÃ² essere continuata solo dopo la chiusura del file, il che Ã¨ molto dannoso per lâ€™esperienza dellâ€™utente. Chiama invece la funzione ShellExecute per aprire un nuovo processo e la finestra principale puÃ² continuare a essere eseguita. </p>
<h3 id="7-3-Barra-di-avanzamento"><a href="#7-3-Barra-di-avanzamento" class="headerlink" title="7.3 Barra di avanzamento"></a>7.3 Barra di avanzamento</h3><p>Dopo il rilascio della versione V1.0, non Ã¨ stato visualizzato alcun messaggio quando alcuni studenti hanno segnalato il file delle statistiche in background, quindi non so quando sarÃ  completato. Quindi una barra di avanzamento Ã¨ stata aggiunta nella parte inferiore dellâ€™interfaccia principale per migliorare lâ€™interattivitÃ , come mostrato nella figura<br>7-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_07.jpg">Figura 7-2 Barra di avanzamento</a> </p>
<p>Ovviamente, anche la funzione thread ha apportato le modifiche necessarie: </p>
<h1 id="8-Conclusione"><a href="#8-Conclusione" class="headerlink" title="8 Conclusione"></a>8 Conclusione</h1><p>A questo punto le funzioni di base del programma sono completate: i test su piÃ¹ computer e diversi sistemi (XP e successive serie Windows) non hanno praticamente alcuna animazione sospesa e il programma si blocca. </p>
<p>A causa del tempo e di altri motivi, ci sono ancora molte funzioni che non sono state implementate, ad esempio lâ€™interfaccia non puÃ² essere estesa ei dati del file non possono essere raccolti dinamicamente. </p>
<h1 id="Riferimenti"><a href="#Riferimenti" class="headerlink" title="Riferimenti"></a>Riferimenti</h1><p>[1] White paper sullâ€™hardware. Specifica del file system NTFS [OL]. Baidu Library, 2011: 30.<br>[2] Beiyu. Ricerca su diverse tecnologie di file system NTFS [OL]. 2007: 7.<br>[3] Babies. Enciclopedia interattiva [OL]. Http://<a target="_blank" rel="noopener" href="http://www.hudong.com/wiki/ntfs">www.hudong.com/wiki/ntfs</a><br>[4] Microsoft. MSDN Library [OL]. 2012:<br>[5] Stanley B.Lippman / JosÃ©e LaJoie / Barbara E.Moo. C \ + \ + Primer [M]. Addison-Wesley Professional, 2006: 10.3<br>[6] Eric S. Raymond. Traduttori: Jiang Hong, He Yuan, Cai Xiaojun. The Art of UNIX Programming [m]. Casa editrice dellâ€™Industria Elettronica, 2006:<br>[7] Chen Hao. Alcuni principi di progettazione del software [OL]. Http://coolshell.cn/articles/4535.html<br>[8] Sun Xin. VC ++ spiegazione dettagliata approfondita [m]. Industria elettronica, 2006<br>[9] Jim Beveridge / Robert Wiener. Applicazioni multithreading in Win32: la guida completa ai thread<br>[10] Addison-Wesley Professional, 1996: 223-243 </p>
<h1 id="Riepilogo-in-inglese"><a href="#Riepilogo-in-inglese" class="headerlink" title="Riepilogo in inglese"></a>Riepilogo in inglese</h1><p>** Posizionamento rapido dei file su disco NTFS ** </p>
<p>LE IH Austria </p>
<p>(School of Information &amp; Computer, Anhui Agricultural University, Hefei 230036) </p>
<p>** Abstract ** ï¼š Questo articolo descrive sul disco Windows NTFS, il<br>enumerare tutti i nomi dei file e delle cartelle sul disco rigido,<br>e per creare una tabella hash utilizzando STL C ++, GUI MFC e thread di lavoro.<br>In definitiva lâ€™utente deve inserire le parole chiave, come una semplice ricerca come google<br>ricerca per parola chiave, quindi restituisce immediatamente tutti i file / cartelle corrispondenti<br>e il loro percorso di sistema. </p>
<p>** Parole chiave: ** NTFS, veloce, ricerca, parole chiave, percorso file </p>

    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/it/Go-Web/" rel="bookmark">Vai sul Web</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/it/Learn-Go-in-20-days/" rel="bookmark">Impara Go in 20 giorni</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/it/ios-developer-account-and-app-store/" rel="bookmark">Account sviluppatore iOS e come elencarlo</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/it/count-lines-of-code/" rel="bookmark">Numero di righe di codice</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/it/A-simple-VS-between-Sinatra-and-Martini/" rel="bookmark">Un semplice VS. tra Sinatra e Martini</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me ğŸ‘¨â€ğŸ’» a coffee â˜•ï¸</div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    Dona
  </button>
  <div class="post-reward">
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/wechat.png" alt="LeiHao WeChat Pay">
        <span>WeChat Pay</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/alipay.png" alt="LeiHao Alipay">
        <span>Alipay</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/bitcoin.png" alt="LeiHao Bitcoin">
        <span>Bitcoin</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/it/tags/programming/" rel="tag"># Programming</a>
              <a href="/it/tags/everything/" rel="tag"># Everything</a>
              <a href="/it/tags/ntfs/" rel="tag"># NTFS</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/it/Before-graduation/" rel="next" title="PiÃ¹ di dieci giorni prima della laurea">
                  PiÃ¹ di dieci giorni prima della laurea <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2012 â€“ 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-laptop-code"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LeiHao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Symbols count total">572k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">8:40</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/it/js/utils.js"></script><script src="/it/js/next-boot.js"></script>

  




  <script src="/it/js/local-search.js"></script>















  








  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://Artwalk.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://leihao0.github.io/it/QSearch/";
    this.page.identifier = "QSearch/";
    this.page.title = "La congettura principale e la realizzazione del Tutto";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://Artwalk.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
