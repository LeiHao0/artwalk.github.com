<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/vi/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/vi/images/logo-192.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/vi/images/logo.png">
  <link rel="mask-icon" href="/vi/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="rbaH_zC-qBwXaawJ10Mno3FHzv9HRFHGFdXx2f1BwyI">

<link rel="stylesheet" href="/vi/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">

<script data-ad-client="ca-pub-2317298287519457" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"leihao0.github.io","root":"/vi/","scheme":"Pisces","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Đang tìm...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/vi/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="nội dung nghiên cứu   Đọc NTFS MFT  Xây dựng bảng băm  Đường dẫn hệ thống của tệp  GUI và luồng công nhân  Nhiều phương pháp tìm kiếm  Giao diện MFC   kế hoạch nghiên cứu   Đầu tháng 4 đến giữa tháng">
<meta property="og:type" content="article">
<meta property="og:title" content="Nguyên lý và hiện thực hóa mọi thứ">
<meta property="og:url" content="https://leihao0.github.io/vi/QSearch/index.html">
<meta property="og:site_name" content="LeiHao&#39;s Blog">
<meta property="og:description" content="nội dung nghiên cứu   Đọc NTFS MFT  Xây dựng bảng băm  Đường dẫn hệ thống của tệp  GUI và luồng công nhân  Nhiều phương pháp tìm kiếm  Giao diện MFC   kế hoạch nghiên cứu   Đầu tháng 4 đến giữa tháng">
<meta property="og:locale" content="vi_VN">
<meta property="article:published_time" content="2012-05-26T14:44:42.000Z">
<meta property="article:modified_time" content="2020-12-20T23:53:08.680Z">
<meta property="article:author" content="LeiHao">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="Everything">
<meta property="article:tag" content="NTFS">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://leihao0.github.io/vi/QSearch/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'vi'
  };
</script>

  <title>Nguyên lý và hiện thực hóa mọi thứ | LeiHao's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-159363268-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-159363268-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?25f016f633270b8e0baf56c4fe6f2dc1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/vi/atom.xml" title="LeiHao's Blog" type="application/atom+xml">
<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Thanh điều hướng chuyển đổi">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/vi/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">LeiHao's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/vi/" rel="section"><i class="fa fa-home fa-fw"></i>Trang Chủ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/vi/about/" rel="section"><i class="fa fa-user fa-fw"></i>Giới Thiệu</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/vi/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Lưu Trữ</a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/vi/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Tìm Kiếm
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Đang tìm..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Mục Lục
        </li>
        <li class="sidebar-nav-overview">
          Tổng Quan
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Vi-tri-nhanh-chong-cua-cac-tep-dia-NTFS"><span class="nav-number">1.</span> <span class="nav-text">Vị trí nhanh chóng của các tệp đĩa NTFS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Gioi-thieu"><span class="nav-number">1.1.</span> <span class="nav-text">1. Giới thiệu</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Gioi-thieu-ngan-gon-ve-NTFS"><span class="nav-number">1.2.</span> <span class="nav-text">2 Giới thiệu ngắn gọn về NTFS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-NTFS"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 NTFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Thuc-trang"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 Thực trạng</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Chuan-bi"><span class="nav-number">1.3.</span> <span class="nav-text">3 Chuẩn bị</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-Y-tuong-thiet-ke"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 Ý tưởng thiết kế</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-USN-la-gi"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 USN là gì</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-Tai-sao-no-nhanh"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 Tại sao nó nhanh</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-Moi-truong"><span class="nav-number">1.3.4.</span> <span class="nav-text">3.4 Môi trường</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Thuc-hien-chuong-trinh"><span class="nav-number">1.4.</span> <span class="nav-text">4 Thực hiện chương trình</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-Doc-USN"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 Đọc USN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-Xac-dinh-dinh-dang-dia"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">4.1.1 Xác định định dạng đĩa</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-Lay-tay-cam-dia-o-dia"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">4.1.2 Lấy tay cầm đĩa ổ đĩa</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-3-Khoi-tao-nhat-ky-USN"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">4.1.3 Khởi tạo nhật ký USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-4-Nhan-thong-tin-nhat-ky-USN"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">4.1.4 Nhận thông tin nhật ký USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-5-Lay-thong-tin-tep-USN-Journal"><span class="nav-number">1.4.1.5.</span> <span class="nav-text">4.1.5 Lấy thông tin tệp USN Journal</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-6-Xoa-tep-nhat-ky-USN"><span class="nav-number">1.4.1.6.</span> <span class="nav-text">4.1.6 Xóa tệp nhật ký USN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-7-Ket-qua-liet-ke-tat-ca-cac-tep"><span class="nav-number">1.4.1.7.</span> <span class="nav-text">4.1.7 Kết quả liệt kê tất cả các tệp</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-Xay-dung-du-lieu-tim-kiem"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 Xây dựng dữ liệu tìm kiếm</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-Vec-to-xay-dung"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">4.2.1 Véc tơ xây dựng</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-Xay-dung-bang-bam"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">4.2.2 Xây dựng bảng băm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-3-Chen-du-lieu"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">4.2.3 Chèn dữ liệu:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-Giao-dien"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 Giao diện</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-1-Nguyen-tac-KISS"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">4.3.1 Nguyên tắc KISS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-2-Chuc-nang"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">4.3.2 Chức năng</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-Tham-gia-chuoi"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 Tham gia chuỗi</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-1-Tai-sao-phai-tham-gia-chuoi"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">4.4.1 Tại sao phải tham gia chuỗi</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-2-Bat-dau-mot-chuoi-Worker-trong-MFC"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">4.4.2 Bắt đầu một chuỗi Worker trong MFC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-3-Thu-nho-vung-thong-bao"><span class="nav-number">1.4.4.3.</span> <span class="nav-text">4.4.3 Thu nhỏ vùng thông báo</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-Tim"><span class="nav-number">1.4.5.</span> <span class="nav-text">4.5 Tìm</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-1-Ky-tu-dai-dien"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">4.5.1 Ký tự đại diện</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-2-Truong-hop-don-dat-hang"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">4.5.2 Trường hợp, đơn đặt hàng</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-3-Quyen-rieng-tu-cua-nguoi-dung-va-duong-dan-he-thong"><span class="nav-number">1.4.5.3.</span> <span class="nav-text">4.5.3 Quyền riêng tư của người dùng và đường dẫn hệ thống</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-4-Thuc-hien"><span class="nav-number">1.4.5.4.</span> <span class="nav-text">4.5.4 Thực hiện</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-5-Dau-ra-duong-dan"><span class="nav-number">1.4.5.5.</span> <span class="nav-text">4.5.5 Đầu ra đường dẫn</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Phan-tich-do-phuc-tap"><span class="nav-number">1.5.</span> <span class="nav-text">5 Phân tích độ phức tạp</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Do-phuc-tap-ve-thoi-gian"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 Độ phức tạp về thời gian</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Do-phuc-tap-ve-khong-gian"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 Độ phức tạp về không gian</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-Su-co-gap-phai"><span class="nav-number">1.6.</span> <span class="nav-text">6 Sự cố gặp phải</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-Khong-the-khoi-tao-tep-USN"><span class="nav-number">1.6.1.</span> <span class="nav-text">6.1 Không thể khởi tạo tệp USN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-Van-de-wchar-va-char-duoi-unicode"><span class="nav-number">1.6.2.</span> <span class="nav-text">6.2 Vấn đề wchar và char dưới unicode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-van-de-ve-vi-tri-ifdef"><span class="nav-number">1.6.3.</span> <span class="nav-text">6.3 # vấn đề về vị trí #ifdef</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-Chuyen-tham-so"><span class="nav-number">1.6.4.</span> <span class="nav-text">6.4 Chuyển tham số</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-toi-uu-hoa-nho"><span class="nav-number">1.7.</span> <span class="nav-text">7 tối ưu hóa nhỏ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-Toc-do-doc"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 Tốc độ đọc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-Phuong-phap-mo-tep"><span class="nav-number">1.7.2.</span> <span class="nav-text">7.2 Phương pháp mở tệp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-Thanh-tien-trinh"><span class="nav-number">1.7.3.</span> <span class="nav-text">7.3 Thanh tiến trình</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-Ket-luan"><span class="nav-number">2.</span> <span class="nav-text">8 Kết luận</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#nguoi-gioi-thieu"><span class="nav-number">3.</span> <span class="nav-text">người giới thiệu</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Tom-tat-tieng-anh"><span class="nav-number">4.</span> <span class="nav-text">Tóm tắt tiếng anh</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">LeiHao</p>
  <div class="site-description" itemprop="description">😃😃😃</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/vi/archives/">
        
          <span class="site-state-item-count">160</span>
          <span class="site-state-item-name">bài viết</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/vi/tags/">
        <span class="site-state-item-count">81</span>
        <span class="site-state-item-name">thẻ</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/leihao0" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/leihao0" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/leihao0" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;leihao0" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" class="cc-opacity" rel="noopener" target="_blank"><img src="/vi/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="vi">
    <link itemprop="mainEntityOfPage" href="https://leihao0.github.io/vi/QSearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/vi/images/avatar.gif">
      <meta itemprop="name" content="LeiHao">
      <meta itemprop="description" content="😃😃😃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LeiHao's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Nguyên lý và hiện thực hóa mọi thứ
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Tạo lúc</span>

      <time title="Được tạo: 2012-05-26 22:44:42" itemprop="dateCreated datePublished" datetime="2012-05-26T22:44:42+08:00">2012-05-26</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Chỉnh sửa vào</span>
        <time title="Được thay đổi: 2020-12-21 07:53:08" itemprop="dateModified" datetime="2020-12-21T07:53:08+08:00">2020-12-21</time>
      </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/vi/QSearch/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="QSearch/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Số biểu tượng trong bài viết">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Số biểu tượng trong bài viết: </span>
      <span>22k</span>
    </span>
    <span class="post-meta-item" title="Thời lượng đọc">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Thời lượng đọc &asymp;</span>
      <span>20 phút.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>nội dung nghiên cứu </p>
<ol>
<li>Đọc NTFS MFT </li>
<li>Xây dựng bảng băm </li>
<li>Đường dẫn hệ thống của tệp </li>
<li>GUI và luồng công nhân </li>
<li>Nhiều phương pháp tìm kiếm </li>
<li>Giao diện MFC </li>
</ol>
<p>kế hoạch nghiên cứu </p>
<ul>
<li>Đầu tháng 4 đến giữa tháng 4 để xác định hướng nghiên cứu </li>
<li>Từ cuối tháng 4 đến cuối tháng 4. Ôn luyện từng điểm kiến ​​thức, trắc nghiệm đơn giản </li>
<li>Vào đầu tháng 5, thiết kế và phát triển chương trình gỡ lỗi và vận hành </li>
<li>Giữa tháng 5 Cuối tháng Viết khóa luận thiết kế tốt nghiệp </li>
</ul>
<p>Tính năng và sự đổi mới </p>
<ol>
<li>Sử dụng CPU và bộ nhớ trong phạm vi hợp lý </li>
<li>Phần mềm ổn định và cung cấp các tùy chọn tìm kiếm khác nhau </li>
<li>So với chức năng tìm kiếm của windows, tốc độ định vị tệp là siêu nhanh </li>
</ol>
<h1 id="Vi-tri-nhanh-chong-cua-cac-tep-dia-NTFS"><a href="#Vi-tri-nhanh-chong-cua-cac-tep-dia-NTFS" class="headerlink" title="Vị trí nhanh chóng của các tệp đĩa NTFS"></a>Vị trí nhanh chóng của các tệp đĩa NTFS</h1><p><strong>Tóm lược</strong> </p>
<blockquote>
<p>Bài viết này giới thiệu cách liệt kê tên của tất cả các tệp và thư mục trên đĩa cứng theo định dạng đĩa Windows NTFS và sử dụng STL của C ++ để tạo bảng băm, cũng như GUI và chuỗi công nhân của MFC, và cuối cùng nhận ra việc triển khai dựa trên các từ khóa do người dùng nhập. Tìm kiếm đơn giản như tìm kiếm từ khóa google, sau đó trả về ngay lập tức tất cả các tệp / thư mục phù hợp và nhận đệ quy đường dẫn hệ thống của tệp / thư mục. </p>
</blockquote>
<p>** Từ khóa *<em>: *</em> NTFS, nhanh, từ khóa, tìm kiếm, đường dẫn tệp ** </p>
<h2 id="1-Gioi-thieu"><a href="#1-Gioi-thieu" class="headerlink" title="1. Giới thiệu"></a>1. Giới thiệu</h2><p>Cấu trúc thư mục của Windows. Trong khối lượng NTFS, các tệp<br>Sắp xếp theo dạng B + tree, nhấn khi tìm kiếm các tập tin trong thư mục<br>Phương pháp tìm kiếm cây B + trước tiên tìm kiếm nút gốc (bắt đầu từ thư mục gốc), sau đó so sánh tên tệp được tìm thấy với tên tệp tương ứng với nút con trong nút gốc để xác định nút con nào tương ứng với vùng lưu trữ để tìm kiếm, sau đó Sử dụng nút con làm nút gốc hiện tại và tìm kiếm lại cho đến khi tìm thấy tệp. ^ [1] ^ </p>
<p>Mặc dù tìm kiếm được cung cấp bởi hệ thống Microsoft có thể tìm kiếm nội dung văn bản, nhưng tốc độ rất không đạt yêu cầu. Trong hầu hết các trường hợp, chúng tôi chỉ muốn biết tệp được lưu trong thư mục nào trên máy tính và chương trình này giải quyết điều này rất tốt. </p>
<h2 id="2-Gioi-thieu-ngan-gon-ve-NTFS"><a href="#2-Gioi-thieu-ngan-gon-ve-NTFS" class="headerlink" title="2 Giới thiệu ngắn gọn về NTFS"></a>2 Giới thiệu ngắn gọn về NTFS</h2><h3 id="2-1-NTFS"><a href="#2-1-NTFS" class="headerlink" title="2.1 NTFS"></a>2.1 NTFS</h3><p>NTFS (Hệ thống tệp công nghệ mới) 是 Windows<br>Hệ thống tệp tiêu chuẩn của NT và Windows mới hơn. NTFS thay thế hệ thống tệp bảng phân bổ tệp (FAT) và cung cấp hệ thống tệp cho hệ điều hành dòng Windows của Microsoft. NTFS đã thực hiện một số cải tiến đối với FAT và HPFS (Hệ thống tệp hiệu suất cao). Ví dụ: nó hỗ trợ siêu dữ liệu và sử dụng cấu trúc dữ liệu nâng cao để cải thiện hiệu suất, độ tin cậy và sử dụng không gian đĩa. ^ [2] ^ </p>
<h3 id="2-2-Thuc-trang"><a href="#2-2-Thuc-trang" class="headerlink" title="2.2 Thực trạng"></a>2.2 Thực trạng</h3><p>Với Windows dựa trên NT<br>Với sự phổ biến của 2000 / XP, nhiều người dùng cá nhân đã bắt đầu sử dụng NTFS. NTFS cũng sử dụng các cụm như một đơn vị để lưu trữ các tệp dữ liệu, nhưng kích thước cụm trong NTFS không phụ thuộc vào kích thước đĩa hoặc phân vùng. Việc thu nhỏ kích thước cụm không chỉ giảm lãng phí dung lượng đĩa mà còn giảm khả năng phân mảnh đĩa. NTFS hỗ trợ chức năng quản lý mã hóa tệp, có thể cung cấp cho người dùng mức độ đảm bảo an ninh cao hơn. ^ [3] ^ </p>
<h2 id="3-Chuan-bi"><a href="#3-Chuan-bi" class="headerlink" title="3 Chuẩn bị"></a>3 Chuẩn bị</h2><h3 id="3-1-Y-tuong-thiet-ke"><a href="#3-1-Y-tuong-thiet-ke" class="headerlink" title="3.1 Ý tưởng thiết kế"></a>3.1 Ý tưởng thiết kế</h3><p>Đọc tất cả các tên tệp của đĩa dưới dạng dữ liệu và khớp trong dữ liệu theo từ khóa do người dùng nhập. Đường dẫn chính xác được trả lại cho người dùng cùng với đường dẫn để tạo điều kiện mở tệp. </p>
<p>Ý tưởng thiết kế cụ thể được thể hiện trong Hình 3-1. </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_00.jpg">Hình 3-1 Ý tưởng thiết kế</a> </p>
<p>Ưu điểm lớn nhất của bảng băm là nó giảm đáng kể thời gian tiêu tốn cho việc lưu trữ và tìm kiếm dữ liệu, gần như có thể được coi là một thời gian cố định; chi phí chỉ là tiêu tốn nhiều bộ nhớ hơn. Tuy nhiên, với bộ nhớ khả dụng ngày càng nhiều, việc đánh đổi không gian lấy thời gian là điều đáng giá. Ngoài ra, tính dễ mã hóa cũng là một trong những đặc điểm của nó. </p>
<h3 id="3-2-USN-la-gi"><a href="#3-2-USN-la-gi" class="headerlink" title="3.2 USN là gì"></a>3.2 USN là gì</h3><p>Ưu tiên hàng đầu của chương trình là đọc USN. </p>
<p>USN 是 Cập nhật nhật ký số dịch vụ hoặc thay đổi<br>Viết tắt của Journal, chức năng ghi lại thông tin sửa đổi trong tập NTFS, bạn có thể thiết lập số lượng tệp và thư mục cần giám sát trong phân vùng, đồng thời ghi lại thời gian sửa đổi và nội dung của đối tượng được giám sát. </p>
<p>Khi nhật ký USN được bật, đối với mỗi ổ đĩa NTFS, khi có thông tin về việc thêm, xóa và sửa đổi tệp, NTFS sử dụng nhật ký USN để ghi lại và lưu trữ dưới dạng<br>Định dạng của USN_RECORD. </p>
<h3 id="3-3-Tai-sao-no-nhanh"><a href="#3-3-Tai-sao-no-nhanh" class="headerlink" title="3.3 Tại sao nó nhanh"></a>3.3 Tại sao nó nhanh</h3><p>USN log tương đương với thư mục WORD và cung cấp chỉ mục, tất nhiên khi nội dung bài viết thay đổi thì USN log sẽ ghi lại khi sửa đổi, tuy nhiên nó không ghi lại những gì được sửa đổi trong đó nên file chỉ mục rất nhỏ. Và khi bạn muốn tìm đoạn cụ thể của bài viết, bạn không cần phải quay con lăn chuột lung tung mà chỉ cần xem trực tiếp mục lục, và bạn chỉ cần nhấn giữ ctrl + click chuột để xác định vị trí. </p>
<p>Tương tự như vậy, khi bạn muốn tìm một tệp nào đó, bạn có thể trực tiếp tìm xem tệp đó có tồn tại hay không bằng cách tìm kiếm nhật ký USN (tức là chỉ mục đã thiết lập). </p>
<p>Tái bút: Mặc dù windows không phải là “mọi thứ đều là tệp” (Unix / Linux<br>Một trong những triết lý cơ bản), nhưng thư mục cũng tồn tại ở dạng tệp, vì vậy bạn cũng có thể tìm thấy vị trí thông qua USN. </p>
<h3 id="3-4-Moi-truong"><a href="#3-4-Moi-truong" class="headerlink" title="3.4 Môi trường"></a>3.4 Môi trường</h3><p>Vì định dạng NTFS ban đầu là bằng sáng chế của Microsoft, một loạt các hàm API được cung cấp để chúng ta truy cập thuận tiện. </p>
<p>Là một Visual C ++ 6.0 cũ nhưng cổ điển<br>Công cụ lập trình, nhưng không có định dạng NTFS vào thời điểm đó, vì vậy VC2005 được chọn làm môi trường phát triển tích hợp và nó chỉ có thể chạy trên các hệ thống Windows sau năm 2000. </p>
<h2 id="4-Thuc-hien-chuong-trinh"><a href="#4-Thuc-hien-chuong-trinh" class="headerlink" title="4 Thực hiện chương trình"></a>4 Thực hiện chương trình</h2><h3 id="4-1-Doc-USN"><a href="#4-1-Doc-USN" class="headerlink" title="4.1 Đọc USN"></a>4.1 Đọc USN</h3><p>Sau đây là tất cả các hàm API được cung cấp bởi Microsoft ^ [4] ^, được bao gồm trong tệp tiêu đề <code>&lt;Winioctl.h&gt;</code>. </p>
<h4 id="4-1-1-Xac-dinh-dinh-dang-dia"><a href="#4-1-1-Xac-dinh-dinh-dang-dia" class="headerlink" title="4.1.1 Xác định định dạng đĩa"></a>4.1.1 Xác định định dạng đĩa</h4><p>Gọi hàm sau để tìm đĩa ở định dạng NTFS </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GetVolumeInformation(</span><br><span class="line">	lpRootPathName: PChar;               <span class="comment">// 磁盘驱动器代码字符串</span></span><br><span class="line">	lpVolumeNameBuffer: PChar;           <span class="comment">// 磁盘驱动器卷标名称</span></span><br><span class="line">	nVolumeNameSize: DWORD;              <span class="comment">// 磁盘驱动器卷标名称长度</span></span><br><span class="line">	lpVolumeSerialNumber: PDWORD;        <span class="comment">// 磁盘驱动器卷标序列号</span></span><br><span class="line">	var lpMaximumComponentLength: DWORD; <span class="comment">// 系统允许的最大文件名长度</span></span><br><span class="line">    var lpFileSystemFlags: DWORD;        <span class="comment">// 文件系统标识</span></span><br><span class="line">	lpFileSystemNameBuffer: PChar;       <span class="comment">// 格式类型</span></span><br><span class="line">	nFileSystemNameSize: DWORD           <span class="comment">// 文件操作系统名称长度</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>LpFileSystemNameBuffer, là những gì chúng ta muốn, sẽ trả về các chuỗi như “FAT32” và “NTFS”. </p>
<p>Sau đó, sử dụng một vòng lặp để đếm các ký tự ổ đĩa A-Z ở định dạng NTFS, rồi khởi tạo </p>
<h4 id="4-1-2-Lay-tay-cam-dia-o-dia"><a href="#4-1-2-Lay-tay-cam-dia-o-dia" class="headerlink" title="4.1.2 Lấy tay cầm đĩa ổ đĩa"></a>4.1.2 Lấy tay cầm đĩa ổ đĩa</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HANDLE hVol = CreateFile(</span><br><span class="line">	<span class="string">&quot;盘符字符串&quot;</span>,  <span class="comment">// 必须如\.\C: (A-Z)的形式</span></span><br><span class="line">	GENERIC_READ | GENERIC_WRITE, <span class="comment">// 可以为</span></span><br><span class="line">	FILE_SHARE_READ | FILE_SHARE_WRITE, <span class="comment">// 必须包含有FILE_SHARE_WRITE</span></span><br><span class="line">	<span class="literal">NULL</span>, <span class="comment">// 这里不需要</span></span><br><span class="line">	OPEN_EXISTING, <span class="comment">// 必须包含OPEN_EXISTING, CREATE_ALWAYS可能会导致错误</span></span><br><span class="line">	FILE_ATTRIBUTE_READONLY, <span class="comment">// FILE_ATTRIBUTE_NORMAL可能会导致错误</span></span><br><span class="line">	<span class="literal">NULL</span>); <span class="comment">// 这里不需要</span></span><br></pre></td></tr></table></figure>

<p>Điểm cần lưu ý: </p>
<ol>
<li>CreateFile trả về một xử lý, sẽ được sử dụng bên dưới; </li>
<li>Vì ký tự ổ đĩa phải ở dạng <code>\\. \ C:</code>, dấu gạch chéo ngược “//“ trong ngôn ngữ <code>C ++</code> đại diện cho “/“; </li>
<li>Quyền quản trị viên là bắt buộc (vista, UAC sẽ bật lên trong win7) </li>
</ol>
<p>Nếu <code>hVol! = INVALID_HANDLE_VALUE</code>, điều đó có nghĩa là xử lý được lấy thành công và bạn có thể tiếp tục bước tiếp theo. </p>
<h4 id="4-1-3-Khoi-tao-nhat-ky-USN"><a href="#4-1-3-Khoi-tao-nhat-ky-USN" class="headerlink" title="4.1.3 Khởi tạo nhật ký USN"></a>4.1.3 Khởi tạo nhật ký USN</h4><p>Sử dụng <code>FSCTL_CREATE_USN_JOURNAL</code> làm mã điều khiển của<code>DeviceIoControl</code>. </p>
<p><code>Cujd</code> là một con trỏ tới bộ đệm đầu vào, trỏ đến cấu trúc<code>CREATE_USN_JOURNAL_DATA</code>. </p>
<h4 id="4-1-4-Nhan-thong-tin-nhat-ky-USN"><a href="#4-1-4-Nhan-thong-tin-nhat-ky-USN" class="headerlink" title="4.1.4 Nhận thông tin nhật ký USN"></a>4.1.4 Nhận thông tin nhật ký USN</h4><p>Sử dụng <code>FSCTL_QUERY_USN_JOURNAL</code> làm mã điều khiển của<code>DeviceIoControl</code>. </p>
<p><code>lpOutBuffer</code> trả về một<code>USN_JOURNAL_DATA</code>, là một cấu trúc </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    DWORDLONG UsnJournalID;</span><br><span class="line">    USN       FirstUsn;</span><br><span class="line">    USN       NextUsn;</span><br><span class="line">    USN       LowestValidUsn;</span><br><span class="line">    USN       MaxUsn;</span><br><span class="line">    DWORDLONG MaximumSize;</span><br><span class="line">    DWORDLONG AllocationDelta;</span><br><span class="line">&#125; USN_JOURNAL_DATA, *PUSN_JOURNAL_DATA;</span><br></pre></td></tr></table></figure>

<p><code>UsnJournalID</code>,<code>FirstUsn</code>, <code>NextUsn</code> sẽ được sử dụng trong bước tiếp theo </p>
<h4 id="4-1-5-Lay-thong-tin-tep-USN-Journal"><a href="#4-1-5-Lay-thong-tin-tep-USN-Journal" class="headerlink" title="4.1.5 Lấy thông tin tệp USN Journal"></a>4.1.5 Lấy thông tin tệp USN Journal</h4><p>Vì <code>USN</code> được lưu trữ dưới dạng<code>USN_RECORD</code> nên cấu trúc của nó là: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	DWORD RecordLength; <span class="comment">// 记录长度</span></span><br><span class="line">	WORD MajorVersion; <span class="comment">// 主版本</span></span><br><span class="line">	WORD MinorVersion; <span class="comment">// 次版本</span></span><br><span class="line">	DWORDLONG FileReferenceNumber; <span class="comment">// 文件引用数</span></span><br><span class="line">	DWORDLONG ParentFileReferenceNumber; <span class="comment">// 父目录引用数</span></span><br><span class="line">	USN Usn; <span class="comment">// USN</span></span><br><span class="line">	LARGE_INTEGER TimeStamp; <span class="comment">// 时间戳</span></span><br><span class="line">	DWORD Reason; <span class="comment">// 原因</span></span><br><span class="line">	DWORD SourceInfo; <span class="comment">// 源信息</span></span><br><span class="line">	DWORD SecurityId; <span class="comment">// 安全</span></span><br><span class="line">	ID DWORD FileAttributes; <span class="comment">// 文件属性</span></span><br><span class="line">	WORD FileNameLength; <span class="comment">// 文件长度</span></span><br><span class="line">	WORD FileNameOffset; <span class="comment">// 文件名偏移</span></span><br><span class="line">	DWORD ExtraInfo1;</span><br><span class="line">	DWORD ExtraInfo2; DWORD ExtraInfo3; <span class="comment">// Hypothetically added in version 2.3</span></span><br><span class="line">	WCHAR FileName[<span class="number">1</span>]; <span class="comment">// 文件名第一位的指针</span></span><br><span class="line">&#125; USN_RECORD, *PUSN_RECORD;</span><br></pre></td></tr></table></figure>

<p>Lưu ý đến <code>FileReferenceNumber</code>,<code>ParentFileReferenceNumber</code>, <code>FileNameLength</code>,<code>FileName</code> </p>
<p>Các biến này rất quan trọng </p>
<p><code>DeviceIoControl ()</code> hợp tác với <code>FSCTL_ENUM_USN_DATA</code> </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">0</span>!=DeviceIoControl(hVol,</span><br><span class="line">	 	FSCTL_ENUM_USN_DATA,</span><br><span class="line">	 	&amp;med,</span><br><span class="line">	 	<span class="keyword">sizeof</span> (med),</span><br><span class="line">	 	Buffer,</span><br><span class="line">	 	BUF_LEN,</span><br><span class="line">	 	&amp;usnDataSize,</span><br><span class="line">	 	<span class="literal">NULL</span>)) &#123;</span><br><span class="line"></span><br><span class="line">	 	DWORD dwRetBytes = usnDataSize - <span class="keyword">sizeof</span> (USN);</span><br><span class="line">	 	<span class="comment">// 找到第一个 USN 记录</span></span><br><span class="line">	 	UsnRecord = (PUSN_RECORD)(((PCHAR)Buffer)+<span class="keyword">sizeof</span> (USN));</span><br><span class="line"></span><br><span class="line">	 	<span class="keyword">while</span> (dwRetBytes&gt;<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// 获取到的信息</span></span><br><span class="line">	 		<span class="function">CString <span class="title">CfileName</span><span class="params">(UsnRecord-&gt;FileName, UsnRecord-&gt;FileNameLength/<span class="number">2</span>)</span></span>;</span><br><span class="line">	 		pfrnName.filename = nameCur.filename = CfileName;</span><br><span class="line">	 		pfrnName.pfrn = nameCur.pfrn = UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// Vector</span></span><br><span class="line">	 		VecNameCur.push_back(nameCur);</span><br><span class="line"></span><br><span class="line">	 		<span class="comment">// 构建hash...</span></span><br><span class="line">	 		frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] = pfrnName;</span><br><span class="line">	 		<span class="comment">// 获取下一个记录</span></span><br><span class="line">	 		DWORD recordLen = UsnRecord-&gt;RecordLength;</span><br><span class="line">	 		dwRetBytes -= recordLen;</span><br><span class="line">	 		UsnRecord = (PUSN_RECORD)(((PCHAR)UsnRecord)+recordLen);</span><br><span class="line"></span><br><span class="line">	 	&#125;</span><br><span class="line">	 	<span class="comment">// 获取下一页数据</span></span><br><span class="line">	 	med.StartFileReferenceNumber = \*(USN \*)&amp;Buffer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Trong số đó, <code>Med</code> là: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MFT_ENUM_DATA med;</span><br><span class="line"></span><br><span class="line">med.StartFileReferenceNumber = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">med.LowUsn = <span class="number">0</span>;<span class="comment">//UsnInfo.FirstUsn;</span></span><br></pre></td></tr></table></figure>

<p>Sau khi thử nghiệm tại đây, thấy rằng nếu việc sử dụng <code>FirstUsn</code> đôi khi không chính xác, dẫn đến việc thu thập dữ liệu không đầy đủ thì tốt hơn hết bạn nên ghi số 0 trực tiếp. </p>
<p>`med.HighUsn = UsnInfo.NextUsn; ‘ </p>
<p>Trong vòng lặp này, tên tệp thu được mỗi lần được chèn vào bảng vectơ và bảng băm (mô tả bên dưới). </p>
<h4 id="4-1-6-Xoa-tep-nhat-ky-USN"><a href="#4-1-6-Xoa-tep-nhat-ky-USN" class="headerlink" title="4.1.6 Xóa tệp nhật ký USN"></a>4.1.6 Xóa tệp nhật ký USN</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DeviceIoControl(hVol,</span><br><span class="line">	FSCTL_DELETE_USN_JOURNAL,</span><br><span class="line">	&amp;dujd,</span><br><span class="line">	<span class="keyword">sizeof</span> (dujd),</span><br><span class="line">	<span class="literal">NULL</span>,</span><br><span class="line">	<span class="number">0</span>,</span><br><span class="line">	&amp;br,</span><br><span class="line">	<span class="literal">NULL</span>)</span><br></pre></td></tr></table></figure>

<h4 id="4-1-7-Ket-qua-liet-ke-tat-ca-cac-tep"><a href="#4-1-7-Ket-qua-liet-ke-tat-ca-cac-tep" class="headerlink" title="4.1.7 Kết quả liệt kê tất cả các tệp"></a>4.1.7 Kết quả liệt kê tất cả các tệp</h4><p>Lưu dữ liệu dưới dạng Allfile.txt để phân tích, như trong Hình 4-1. </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_01.jpg">图 4-1 Allfile.txt</a> </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_02.jpg">图 4-1 Allfile.txt</a> </p>
<p>Tôi đã sử dụng ổ đĩa D trên máy tính của mình để kiểm tra và liệt kê tất cả các tệp. Như trong hình, có khoảng 40W tệp, tổng số dữ liệu hơn 100W và kích thước tệp khoảng 20MB. Điều này có một ước tính mơ hồ về dung lượng bộ nhớ bị chiếm bởi các chương trình tiếp theo, là khoảng 50M. Đối với thậm chí chỉ 1G bộ nhớ, nó nằm trong phạm vi hợp lý. Với dữ liệu ban đầu, phân tích như sau: </p>
<p>Ví dụ, tệp tin thực hành lập trình Linux.isz, đường dẫn hệ thống của nó là: <code>D: \ Ghost \ Linux \ Linux programming practice.isz</code>, hãy xem kết quả trong tệp: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">D:\</span><br><span class="line">Frn: 5000000000005</span><br><span class="line">Pfrn: NULL</span><br><span class="line">……</span><br><span class="line">……</span><br><span class="line">Ghost</span><br><span class="line">Frn: 20000000000fd</span><br><span class="line">Pfrn: 5000000000005</span><br><span class="line">……</span><br><span class="line">……</span><br><span class="line">Linux</span><br><span class="line">Frn: e0000000010d2</span><br><span class="line">Pfrn: 20000000000fd</span><br><span class="line">……</span><br><span class="line">……</span><br><span class="line">Linux编程实践.isz</span><br><span class="line">Frn: 190000000003b2</span><br><span class="line">Pfrn: e0000000010d2</span><br><span class="line">可以得出：</span><br><span class="line">Linux编程实践.isz-&gt;Pfrn &#x3D;&#x3D; Linux-&gt;Frn</span><br><span class="line">Linux-&gt;Pfrn &#x3D;&#x3D; Ghost-&gt;Frn</span><br><span class="line">Ghost-&gt;Pfrn &#x3D;&#x3D; D:\ -&gt; Frn</span><br><span class="line">D:\ -&gt; Pfrn 停止</span><br></pre></td></tr></table></figure>

<p>Vì vậy, với một hàm đệ quy (trực tiếp hoặc gián tiếp gọi hàm riêng của nó), bạn có thể nhận được đường dẫn đầy đủ. </p>
<h3 id="4-2-Xay-dung-du-lieu-tim-kiem"><a href="#4-2-Xay-dung-du-lieu-tim-kiem" class="headerlink" title="4.2 Xây dựng dữ liệu tìm kiếm"></a>4.2 Xây dựng dữ liệu tìm kiếm</h3><h4 id="4-2-1-Vec-to-xay-dung"><a href="#4-2-1-Vec-to-xay-dung" class="headerlink" title="4.2.1 Véc tơ xây dựng"></a>4.2.1 Véc tơ xây dựng</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">name_cur</span> &#123;</span></span><br><span class="line">    CString filename;</span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">&#125;Name_Cur;</span><br></pre></td></tr></table></figure>

<p>Véc tơ ： </p>
<p>Một vùng chứa tuần tự. Các phần tử trong vectơ được truy cập thông qua chỉ mục vị trí của chúng. Bạn có thể gọi push_back hoặc<br>Hàm chèn thêm các phần tử vào vectơ. Trong vector<br>Việc thêm các phần tử vào vùng chứa có thể gây ra việc phân bổ lại không gian bộ nhớ cho vùng chứa và cũng có thể làm mất hiệu lực của tất cả các trình vòng lặp. trong<br>vector<br>Việc thêm (hoặc xóa) các phần tử ở giữa vùng chứa sẽ làm mất hiệu lực của tất cả các trình vòng lặp trỏ đến các phần tử sau điểm chèn (hoặc xóa). </p>
<p>Sử dụng Vector để lưu trữ &lt;tên tệp, thư mục hiện tại&gt; Do yêu cầu của tìm kiếm mờ, các phương pháp tìm kiếm nhanh như tìm kiếm nhị phân không được áp dụng ở đây và phương pháp duyệt tuyến tính của Vector từ đầu đến cuối đáp ứng yêu cầu này. . </p>
<h4 id="4-2-2-Xay-dung-bang-bam"><a href="#4-2-2-Xay-dung-bang-bam" class="headerlink" title="4.2.2 Xây dựng bảng băm"></a>4.2.2 Xây dựng bảng băm</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">pfrn_name</span> &#123;</span></span><br><span class="line">    DWORDLONG pfrn;</span><br><span class="line">    CString filename;</span><br><span class="line">&#125;Pfrn_Name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;DWORDLONG, Pfrn_Name&gt; Frn_Pfrn_Name_Map;</span><br></pre></td></tr></table></figure>

<p>Ở đây chúng ta sử dụng hàm thư viện bản đồ ^ [5] ^ do STL cung cấp, bản đồ là tập hợp các cặp khóa-giá trị. bản đồ<br>Loại thường có thể được hiểu là một mảng kết hợp (liên kết<br>array): Bạn có thể sử dụng khóa làm chỉ số con để nhận giá trị, giống như kiểu mảng dựng sẵn. Bản chất của liên kết là giá trị của một phần tử được liên kết với một khóa cụ thể, thay vì nhận được bởi vị trí của phần tử trong mảng. </p>
<ol>
<li>Cân nhắc rằng nếu bạn tự thực hiện hàm băm, có thể có một số lỗi ảnh hưởng đến tiến độ, tốt hơn nên sử dụng bản đồ ổn định do STL cung cấp để thực hiện nó. </li>
<li>“Don’t Reinvent the Wheel” Đừng phát minh lại bánh xe ^ [6] ^ <ol>
<li>Ví dụ: Google của Android, có phải Google không có khả năng phát triển nhân hệ thống một mình, vì vậy nó sử dụng nhân Linux rất trưởng thành? Tôi nghĩ rằng không thể thiếu một gã khổng lồ thế giới như Google mà không có khả năng này, thay vào đó, nó tôn trọng nguyên tắc không phát minh lại bánh xe. </li>
</ol>
</li>
</ol>
<h4 id="4-2-3-Chen-du-lieu"><a href="#4-2-3-Chen-du-lieu" class="headerlink" title="4.2.3 Chèn dữ liệu:"></a>4.2.3 Chèn dữ liệu:</h4><p>Điều này được sử dụng ở đây trong Phần 4.1.5, Nhận Tạp chí USN<br>Trong vòng lặp thông tin tệp, thông tin <code>USN_RECORD</code> thu được mỗi lần,<code>tên tệp</code>,<br><code>pfrn</code>,<code>frn</code> lần lượt được chèn vào vector và bảng băm. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pfrnName.filename &#x3D; nameCur.filename &#x3D; CfileName;</span><br><span class="line">pfrnName.pfrn &#x3D; nameCur.pfrn &#x3D; UsnRecord-&gt;ParentFileReferenceNumber;</span><br><span class="line">VecNameCur.push_back(nameCur);</span><br><span class="line">frnPfrnNameMap[UsnRecord-&gt;FileReferenceNumber] &#x3D; pfrnName;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-Giao-dien"><a href="#4-3-Giao-dien" class="headerlink" title="4.3 Giao diện"></a>4.3 Giao diện</h3><p>Khi bắt đầu một dự án, VC2005 cung cấp các dự án dòng lệnh (bàn điều khiển) và các dự án GUI. Lập trình dòng lệnh rất thuận tiện, nhanh chóng, thiết thực và tương đối đơn giản. Nếu giao diện điều khiển có thể đáp ứng các yêu cầu, giao diện là không cần thiết. Hoặc đôi khi nền tảng mục tiêu không thể hiển thị giao diện người dùng đồ họa. nhưng,<br>GUI có nhiều ưu điểm rõ ràng hơn, chẳng hạn như hệ thống menu và khả năng tương tác tốt hơn. Ngoài ra, trong quá trình chọn menu và quá trình nhập dữ liệu để di chuyển giữa các trường,<br>Con chuột rất hữu ích và GUI là cách để thực hiện. Do đó, khi viết chương trình, trước tiên hãy thử nghiệm với một số dữ liệu trung gian dưới bàn điều khiển, sau đó chuyển sang giao diện GUI khi kết thúc. </p>
<p>MFC: Lớp Nền tảng Microsoft, còn được gọi là MFC<br>, Là phản hồi của Microsoft đối với việc “hạ thấp Windows<br>Đóng góp lớn nhất của “thiết kế chương trình, sự nhàm chán, sự nhàm chán và khó khăn”. MFC<br>Làm cho việc tạo hộp thoại cực kỳ đơn giản. Nó cũng thực hiện một hệ thống gửi tin nhắn (tin nhắn<br>điều phối), để đối phó với những sai lầm dễ mắc phải của WPARAM và LP ARAM. MFC<br>Nó thậm chí còn là động lực để thu hút một số người vào C ++.<br>Chương trình này được thực hiện bằng MFC do Microsoft cung cấp, như trong Hình 4-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_04.jpg">Hình 4-2 Giao diện MFC</a> </p>
<h4 id="4-3-1-Nguyen-tac-KISS"><a href="#4-3-1-Nguyen-tac-KISS" class="headerlink" title="4.3.1 Nguyên tắc KISS"></a>4.3.1 Nguyên tắc KISS</h4><p>Nguyên tắc của KISS là “Giữ nguyên mẫu và<br>Viết tắt của “Stupid”, đơn giản và dễ vận hành là những nguyên tắc quan trọng nhất của thiết kế. </p>
<p>Nguyên tắc KISS có lẽ được tôn trọng nhất trong thiết kế, thiết kế cải tiến nhà, thiết kế giao diện<br>Về thiết kế hoạt động, những thứ phức tạp ngày càng trở nên phổ biến, trong khi những thứ đơn giản ngày càng được công nhận. Ví dụ, những thiết kế giao diện người dùng này và các trang web tiếng Trung của chúng tôi là những ví dụ tiêu cực. Ý tưởng sản xuất và thiết kế nhà đơn giản và hiệu quả của “IKEA” (IKEA); “Microsoft” (Microsoft) “những gì bạn thấy là những gì bạn nhận được”; “Google” (Google) phong cách kinh doanh đơn giản và trực tiếp, không có ngoại lệ, hãy làm theo Nguyên tắc “nụ hôn”. ^ [7] ^ </p>
<h4 id="4-3-2-Chuc-nang"><a href="#4-3-2-Chuc-nang" class="headerlink" title="4.3.2 Chức năng"></a>4.3.2 Chức năng</h4><p>Theo nguyên tắc nụ hôn, hãy ngắn gọn nhất có thể. Thêm hộp danh sách nút Hộp chỉnh sửa<br>menu ^ [8] ^ Chức năng của các điều khiển này như sau: </p>
<ul>
<li>Hộp chỉnh sửa <ul>
<li>Lấy chuỗi mà người dùng cần tìm kiếm </li>
</ul>
</li>
<li>Cái nút <ol>
<li>Lấy chuỗi trong EditBox </li>
<li>Ký tự quá ngắn bật lên nhắc nhở </li>
<li>Với hình ảnh kính lúp, chức năng rõ ràng trong nháy mắt </li>
</ol>
</li>
<li>Hộp danh sách <ol>
<li>Hiển thị tên tệp và đường dẫn phù hợp, nhấp đúp để mở tệp </li>
<li>Vì đường dẫn có thể tương đối dài, hãy thêm thanh cuộn ngang </li>
<li>Nhấp đúp vào đường dẫn tệp kết quả trong Hộp danh sách để mở tệp được nhấp đúp </li>
</ol>
</li>
<li>Thực đơn <ul>
<li>Menu, bạn có thể chọn trường hợp, tìm kiếm thứ tự </li>
</ul>
</li>
</ul>
<h3 id="4-4-Tham-gia-chuoi"><a href="#4-4-Tham-gia-chuoi" class="headerlink" title="4.4 Tham gia chuỗi"></a>4.4 Tham gia chuỗi</h3><h4 id="4-4-1-Tai-sao-phai-tham-gia-chuoi"><a href="#4-4-1-Tai-sao-phai-tham-gia-chuoi" class="headerlink" title="4.4.1 Tại sao phải tham gia chuỗi"></a>4.4.1 Tại sao phải tham gia chuỗi</h4><p>Lợi ích của chủ đề: chủ đề rẻ. Luồng bắt đầu nhanh hơn, thoát nhanh hơn và ít ảnh hưởng hơn đến tài nguyên hệ thống. </p>
<p>Cũng xem xét: </p>
<ol>
<li>Do hạn chế của io, không có ý nghĩa gì khi sử dụng nhiều luồng để đọc MFT đồng thời trên cùng một đĩa cứng. </li>
<li>Thay vào đó, việc truy cập đĩa vào MFT nằm trong các phân vùng khác nhau của cùng một đĩa cứng có thể ảnh hưởng đến tốc độ. Đối với máy tính có nhiều đĩa cứng, hiệu quả sẽ được cải thiện đáng kể. Tuy nhiên, người dùng nhiều ổ cứng có thể tạo thành một mảng RAID. Giải pháp tốt nhất là đọc đĩa A-Z tuần tự. </li>
<li>Khi mới tạo MFC, nó được thực thi tuần tự, do đó giao diện chỉ có thể hiển thị sau khi đã thống kê xong tất cả dữ liệu, trong quá trình này người dùng dễ mất kiên nhẫn. </li>
<li>Cuối cùng quyết định một luồng giao diện người dùng, một thống kê nền luồng công nhân. </li>
</ol>
<h4 id="4-4-2-Bat-dau-mot-chuoi-Worker-trong-MFC"><a href="#4-4-2-Bat-dau-mot-chuoi-Worker-trong-MFC" class="headerlink" title="4.4.2 Bắt đầu một chuỗi Worker trong MFC"></a>4.4.2 Bắt đầu một chuỗi Worker trong MFC</h4><p>MFC từ lâu đã hỗ trợ đa luồng. Trong một MFC điển hình<br>Trong chương trình, sự hỗ trợ của đa luồng được ẩn sau rất nhiều công việc đáng kinh ngạc. MFC<br>Thậm chí cố gắng củng cố một số khái niệm Win32 liên quan đến đa luồng. </p>
<p>Cả hai luồng GUI và worker đều được bắt đầu bằng AfxBeginThread (), nhưng MFC sử dụng tính chất nạp chồng của các hàm C ++ để cung cấp hai khai báo khác nhau cho hàm này. Trình biên dịch sẽ tự động chọn đúng để sử dụng dựa trên các tham số bạn cung cấp. ^ [9] ^ </p>
<p>Sử dụng AfxBeginThread để bắt đầu chuỗi.<br>pParam Bất kỳ giá trị 4 byte nào, được sử dụng để chuyển đến luồng mới. Nó có thể là một số nguyên, một con trỏ, hoặc chỉ một số không. </p>
<p>Chỉ hai tham số đầu tiên được sử dụng ở đây, hàm luồng trong đối tượng và con trỏ đối tượng </p>
<p>Bạn có thể thấy hai luồng trong trình quản lý tác vụ, như trong Hình 4-3 </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_03.jpg">Hình 4-3 Trình quản lý tác vụ hiển thị số luồng</a> </p>
<p>Khi luồng công nhân hoàn thành nhiệm vụ của nó, nó sẽ tự động kết thúc và quay trở lại một luồng. </p>
<h4 id="4-4-3-Thu-nho-vung-thong-bao"><a href="#4-4-3-Thu-nho-vung-thong-bao" class="headerlink" title="4.4.3 Thu nhỏ vùng thông báo"></a>4.4.3 Thu nhỏ vùng thông báo</h4><p>Giờ đây, ngày càng có nhiều chương trình nhấp vào đóng ở góc trên bên phải, biểu tượng này thực sự được thu nhỏ thành biểu tượng khay. Để thoát khỏi chương trình, bạn cần nhấp chuột phải vào biểu tượng khay để thoát. </p>
<p>Thực hiện thu nhỏ mà không cần thoát khỏi chương trình, bạn có thể tìm thấy các tệp một cách thuận tiện. </p>
<p>1) Thu nhỏ hiển thị trên thanh tác vụ. </p>
<p>2) Nhấp vào Đóng để thoát đến biểu tượng khay mà không hiển thị nó trên thanh tác vụ; nhấp đúp để trả lời cửa sổ hiển thị. </p>
<p>3) Thêm menu vào biểu tượng khay. </p>
<h3 id="4-5-Tim"><a href="#4-5-Tim" class="headerlink" title="4.5 Tìm"></a>4.5 Tìm</h3><h4 id="4-5-1-Ky-tu-dai-dien"><a href="#4-5-1-Ky-tu-dai-dien" class="headerlink" title="4.5.1 Ký tự đại diện"></a>4.5.1 Ký tự đại diện</h4><p>Trong các ứng dụng thực tế, không thể nhớ rõ tên tệp, chẳng hạn như test.2012-5-14.txt, thường có nghĩa là “thử nghiệm<br>.txt ”, vì vậy cần tìm kiếm mờ. Vì trong bảng điều khiển, tên tệp là &lt;tên tệp,<br>pfrn&gt; Tạo bảng băm. Nếu bạn muốn triển khai tìm kiếm mờ, bảng băm trở nên không cần thiết. Bạn có thể sử dụng trực tiếp vectơ vùng chứa. </p>
<p>Theo tình hình thực tế, không yêu cầu ký tự đại diện nghiêm ngặt, “\ *?”<br>Có thể giải quyết hầu hết các vấn đề tìm kiếm, cộng với người dùng nói chung có thể không biết việc sử dụng các ký tự đại diện, chưa nói đến các biểu thức chính quy. Vì vậy, hãy bắt đầu với “khoảng trắng”<br>Thay vì “\ *?”, Hãy triển khai Baidu<br>Phương pháp tìm kiếm của Google tách từ khóa bằng dấu cách là một giải pháp tốt. \ * \ * \ * \ * </p>
<h4 id="4-5-2-Truong-hop-don-dat-hang"><a href="#4-5-2-Truong-hop-don-dat-hang" class="headerlink" title="4.5.2 Trường hợp, đơn đặt hàng"></a>4.5.2 Trường hợp, đơn đặt hàng</h4><p>Nhìn chung có hai tình huống sau: </p>
<ol>
<li>Người dùng có thể không nhớ trường hợp của tên tệp hoặc đường dẫn </li>
<li>Đôi khi có quá nhiều tệp và có thể phải viết hoa nghiêm ngặt để lọc đúng tệp </li>
<li>Không thể nhớ thứ tự của các từ khóa </li>
</ol>
<p>Vì vậy, hãy cung cấp hai tùy chọn sau: </p>
<ol>
<li>Trường hợp nghiêm ngặt </li>
<li>Không có đơn đặt hàng </li>
</ol>
<p>Theo tình hình chung, mặc định là: không phân biệt chữ hoa chữ thường, tìm kiếm tuần tự </p>
<h4 id="4-5-3-Quyen-rieng-tu-cua-nguoi-dung-va-duong-dan-he-thong"><a href="#4-5-3-Quyen-rieng-tu-cua-nguoi-dung-va-duong-dan-he-thong" class="headerlink" title="4.5.3 Quyền riêng tư của người dùng và đường dẫn hệ thống"></a>4.5.3 Quyền riêng tư của người dùng và đường dẫn hệ thống</h4><ol>
<li>Hãy xem xét rằng một số thư mục được sử dụng để lưu trữ các tệp riêng tư của người dùng. </li>
<li>Các thư mục hệ thống, ví dụ: <code>c: \ windows \ *</code> Người dùng thông thường sẽ không sử dụng nó. Việc tìm kiếm tương tự sẽ chỉ làm tăng các tệp không cần thiết và tạo gánh nặng cho hệ thống. </li>
</ol>
<p>Vì vậy cần thêm tùy chọn loại trừ thư mục, như trong Hình 4-4 </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">Hình 4-4 Giao diện loại trừ thư mục</a> </p>
<p>Chức năng tương ứng là: </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isIgnore</span><span class="params">( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;\* pignorelist )</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> tmp = CW2A(path);</span><br><span class="line">	<span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::iterator it = pignorelist-&gt;begin();</span><br><span class="line">		it != pignorelist-&gt;end(); ++it ) &#123;</span><br><span class="line">			<span class="keyword">size_t</span> i = it-&gt;length();</span><br><span class="line">			<span class="keyword">if</span> ( !tmp.compare(<span class="number">0</span>, i, \*it,<span class="number">0</span>, i) ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-4-Thuc-hien"><a href="#4-5-4-Thuc-hien" class="headerlink" title="4.5.4 Thực hiện"></a>4.5.4 Thực hiện</h4><p>Lớp chuỗi phù hợp mới </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cmpStrStr</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	cmpStrStr(<span class="keyword">bool</span> uplow, <span class="keyword">bool</span> inorder) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;uplow = uplow;</span><br><span class="line">		<span class="keyword">this</span>-&gt;isOrder = inorder;</span><br><span class="line">	&#125;</span><br><span class="line">	~cmpStrStr() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">cmpStrFilename</span><span class="params">(CString str, CString filename)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">infilename</span><span class="params">(CString &amp;strtmp, CString &amp;filenametmp)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">bool</span> uplow;</span><br><span class="line">	<span class="keyword">bool</span> isOrder;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Di chuyển VecNameCur trong ** 4.2.1 **, chuyển hàm đối sánh cmpStrFilename và nhận tên tệp phù hợp </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( <span class="built_in">vector</span>&lt;Name_Cur&gt;::const_iterator cit = VecNameCur.begin();</span><br><span class="line">	cit != VecNameCur.end(); ++cit) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( cmpstrstr.cmpStrFilename(str, cit-&gt;filename) ) &#123;</span><br><span class="line">		path.Empty();</span><br><span class="line">		<span class="comment">// 还原 路径</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// vol:\  path \ cit-&gt;filename</span></span><br><span class="line">		getPath(cit-&gt;pfrn, path);</span><br><span class="line">		path += cit-&gt;filename;</span><br><span class="line">		<span class="comment">// path已是全路径</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> ( isIgnore(pignorelist) ) &#123;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		rightFile.push_back(path);</span><br><span class="line">		<span class="comment">//path.Empty();</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cmpStrFilename函数：</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> end = str.GetLength();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> ( pos &lt; end ) &#123;</span><br><span class="line">	<span class="comment">// 对于str，取得 每个空格分开为的关键词</span></span><br><span class="line">	pos = str.Find( _T(<span class="string">&#x27; &#x27;</span>) );</span><br><span class="line"></span><br><span class="line">	CString strtmp;</span><br><span class="line">	<span class="keyword">if</span> ( pos == <span class="number">-1</span> ) &#123;</span><br><span class="line">		<span class="comment">// 无空格</span></span><br><span class="line">		strtmp = str;</span><br><span class="line">		pos = end;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		strtmp = str.Mid(<span class="number">0</span>, pos<span class="number">-0</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ( !infilename(strtmp, filename) ) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	str.Delete(<span class="number">0</span>, pos);</span><br><span class="line">	str.TrimLeft(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Bạn có thể dễ dàng viết lại thuật toán so khớp chuỗi trong hàm infilename để đạt được một số phần mở rộng </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">filenametmp</span><span class="params">(filename)</span></span>;</span><br><span class="line"><span class="keyword">int</span> pos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !uplow ) &#123;</span><br><span class="line">	<span class="comment">// 大小写敏感</span></span><br><span class="line">	filenametmp.MakeLower();</span><br><span class="line">	pos = filenametmp.Find(strtmp.MakeLower());</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	pos = filenametmp.Find(strtmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="number">-1</span> == pos ) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !isOrder ) &#123;</span><br><span class="line">	<span class="comment">// 无顺序</span></span><br><span class="line">	filename.Delete(<span class="number">0</span>, pos+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-5-Dau-ra-duong-dan"><a href="#4-5-5-Dau-ra-duong-dan" class="headerlink" title="4.5.5 Đầu ra đường dẫn"></a>4.5.5 Đầu ra đường dẫn</h4><p>Sau khi nhận được tên tệp phù hợp, bước tiếp theo là lấy đường dẫn hệ thống của tệp. Chuyển tên đầy đủ của tên tệp phù hợp có được ở trên vào bảng băm frnPfrnNameMap được xây dựng trong ** 4.2.2 ** để lấy đường dẫn một cách đệ quy. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">Volume::getPath</span><span class="params">(DWORDLONG frn, CString &amp;path)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 查找2</span></span><br><span class="line">	Frn_Pfrn_Name_Map::iterator it = frnPfrnNameMap.find(frn);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (it != frnPfrnNameMap.end()) &#123;</span><br><span class="line"></span><br><span class="line">		  <span class="keyword">if</span> ( <span class="number">0</span> != it-&gt;second.pfrn ) &#123;</span><br><span class="line">		 	  getPath(it-&gt;second.pfrn, path);</span><br><span class="line">		  &#125;</span><br><span class="line"></span><br><span class="line">		  path += it-&gt;second.filename;</span><br><span class="line">		  path += ( _T(<span class="string">&quot;\&quot;) );</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">	return path;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-Phan-tich-do-phuc-tap"><a href="#5-Phan-tich-do-phuc-tap" class="headerlink" title="5 Phân tích độ phức tạp"></a>5 Phân tích độ phức tạp</h2><h3 id="5-1-Do-phuc-tap-ve-thoi-gian"><a href="#5-1-Do-phuc-tap-ve-thoi-gian" class="headerlink" title="5.1 Độ phức tạp về thời gian"></a>5.1 Độ phức tạp về thời gian</h3><p>Về lý thuyết, độ phức tạp về thời gian là: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_05.jpg">Hình 5-1 Phân tích độ phức tạp</a> </p>
<p>Trên bộ vi xử lý AMD Athlon (tm) II X2 245 2,9 GHz, kết quả gần như ngay lập tức. </p>
<h3 id="5-2-Do-phuc-tap-ve-khong-gian"><a href="#5-2-Do-phuc-tap-ve-khong-gian" class="headerlink" title="5.2 Độ phức tạp về không gian"></a>5.2 Độ phức tạp về không gian</h3><p>Do số lượng lớn các tệp máy tính - thường là 10W-100W, việc sử dụng bộ nhớ của chính chương trình có thể bị bỏ qua. </p>
<p>234.708 tệp khoảng 43M. </p>
<p>Đối với các hệ thống có ít nhất 2G bộ nhớ ngày nay, đó không phải là một gánh nặng. </p>
<h2 id="6-Su-co-gap-phai"><a href="#6-Su-co-gap-phai" class="headerlink" title="6 Sự cố gặp phải"></a>6 Sự cố gặp phải</h2><h3 id="6-1-Khong-the-khoi-tao-tep-USN"><a href="#6-1-Khong-the-khoi-tao-tep-USN" class="headerlink" title="6.1 Không thể khởi tạo tệp USN"></a>6.1 Không thể khởi tạo tệp USN</h3><p>Đĩa O trên máy tính không thể khởi tạo tệp nhật ký USN. Qua gỡ lỗi, chúng tôi thấy rằng: </p>
<p>DeviceIoControl trả về 0, GetLastError 0x70 </p>
<p>Kiểm tra msdn, lý do là ERROR_SHARING_PAUSED </p>
<p>Hóa ra tôi quên khởi tạo và thêm đoạn mã sau, chương trình có thể truy cập đĩa O bình thường </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE_USN_JOURNAL_DATA cujd;</span><br><span class="line">cujd.MaximumSize = <span class="number">0</span>; <span class="comment">// 0表示使用默认值</span></span><br><span class="line">cujd.AllocationDelta = <span class="number">0</span>; <span class="comment">// 0表示使用默认值</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2-Van-de-wchar-va-char-duoi-unicode"><a href="#6-2-Van-de-wchar-va-char-duoi-unicode" class="headerlink" title="6.2 Vấn đề wchar và char dưới unicode"></a>6.2 Vấn đề wchar và char dưới unicode</h3><p>Ban đầu, về xử lý chuỗi, chuỗi hàm thư viện tiêu chuẩn được sử dụng làm phương thức xử lý, nhưng trong unicode<br>Sau đây là một wchar byte kép, đã gặp rất nhiều rắc rối trong việc chuyển đổi chuỗi. Cuối cùng, CString được sử dụng làm chuỗi mặc định và \ _T (“”) được sử dụng để khởi tạo chuỗi. </p>
<h3 id="6-3-van-de-ve-vi-tri-ifdef"><a href="#6-3-van-de-ve-vi-tri-ifdef" class="headerlink" title="6.3 # vấn đề về vị trí #ifdef"></a>6.3 # vấn đề về vị trí #ifdef</h3><p>\ #ifdef, không có điểm ngắt nào có thể được đặt trong đó và sau đó tôi nhận thấy rằng #define được viết trước include. </p>
<h3 id="6-4-Chuyen-tham-so"><a href="#6-4-Chuyen-tham-so" class="headerlink" title="6.4 Chuyển tham số"></a>6.4 Chuyển tham số</h3><p>Tôi bắt đầu thiết kế với tư duy hướng tiến trình và gặp khó khăn khi truyền tham số vào cùng một xử lý. Sau đó, nó đã chuyển sang phương thức lớp để cải thiện rất nhiều. </p>
<h2 id="7-toi-uu-hoa-nho"><a href="#7-toi-uu-hoa-nho" class="headerlink" title="7 tối ưu hóa nhỏ"></a>7 tối ưu hóa nhỏ</h2><h3 id="7-1-Toc-do-doc"><a href="#7-1-Toc-do-doc" class="headerlink" title="7.1 Tốc độ đọc"></a>7.1 Tốc độ đọc</h3><p>Khi xây dựng hàm băm, người ta đã nghĩ đến ba phương pháp và thực hiện các thí nghiệm tương ứng, sử dụng hàm thời gian để đếm thời gian đã sử dụng và kết quả như sau: </p>
<p>1) Sau khi sửa đổi mã, hãy đọc usn một lần, lưu trữ nó trong một tệp tạm thời, đọc và xây dựng bảng băm </p>
<p>Mỗi lần chạy, thời gian trung bình khoảng 27s </p>
<p>2) Sử dụng vectơ để lưu trữ dữ liệu trong bộ nhớ, sau khi phát hành, </p>
<p>Kết quả là hài lòng, và thời gian đã tăng lên gần 10 lần! ! ! Như trong Hình 7-1: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_06.jpg">7-1 Di chuyển tất cả các đĩa</a> </p>
<p>Nó hoàn toàn nằm trong phạm vi chấp nhận được. </p>
<p>Lần chạy đầu tiên rõ ràng là tốn thời gian, và sau đó tệp được đọc trước từ bộ nhớ cache của đĩa và tốc độ tăng vọt. Điểm phát sóng phân tích nên nằm trong thời gian tìm kiếm đĩa và đọc tệp. </p>
<h3 id="7-2-Phuong-phap-mo-tep"><a href="#7-2-Phuong-phap-mo-tep" class="headerlink" title="7.2 Phương pháp mở tệp"></a>7.2 Phương pháp mở tệp</h3><p>Trong ** 4.3.2 **, nhấp đúp vào đường dẫn tệp trong ListBox để mở tệp phản hồi. Lúc đầu, hàm hệ thống system () được sử dụng, nhưng cửa sổ bảng điều khiển màu đen sẽ bật lên và cửa sổ chính sẽ bị khóa, v.v. Việc thực thi chỉ có thể tiếp tục sau khi tệp được đóng, điều này rất bất lợi cho trải nghiệm người dùng. Thay vào đó hãy gọi hàm ShellExecute để mở một tiến trình mới và cửa sổ chính có thể tiếp tục thực thi. </p>
<h3 id="7-3-Thanh-tien-trinh"><a href="#7-3-Thanh-tien-trinh" class="headerlink" title="7.3 Thanh tiến trình"></a>7.3 Thanh tiến trình</h3><p>Sau khi phiên bản V1.0 được phát hành, không có thông báo nhắc nhở khi một số sinh viên báo cáo tệp thống kê lý lịch nên không biết khi nào mới hoàn thành. Vì vậy, một thanh tiến trình được thêm vào ở cuối giao diện chính để tăng cường khả năng tương tác, như trong hình<br>7-2: </p>
<p>! <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/QSearch_07.jpg">Hình 7-2 Thanh tiến trình</a> </p>
<p>Tất nhiên, chức năng luồng cũng đã thực hiện những thay đổi cần thiết: </p>
<h1 id="8-Ket-luan"><a href="#8-Ket-luan" class="headerlink" title="8 Kết luận"></a>8 Kết luận</h1><p>Cho đến nay, các chức năng cơ bản của chương trình đã hoàn thành, thử nghiệm trên nhiều máy tính và nhiều hệ máy khác nhau (các dòng windows XP trở lên) về cơ bản không có hiện tượng bị treo, treo chương trình. </p>
<p>Do thời gian và các lý do khác, vẫn còn nhiều chức năng chưa được thực hiện như không thể mở rộng giao diện, không thể thu thập động dữ liệu tệp. </p>
<h1 id="nguoi-gioi-thieu"><a href="#nguoi-gioi-thieu" class="headerlink" title="người giới thiệu"></a>người giới thiệu</h1><p>[1] Sách trắng về phần cứng. Đặc tả hệ thống tệp NTFS [OL]. Thư viện Baidu, 2011: 30.<br>[2] Beiyu, Nghiên cứu một số công nghệ của hệ thống tệp NTFS [CV]. 2007: 7.<br>[3] Trẻ sơ sinh. Bách khoa toàn thư tương tác [CV]. Http://<a target="_blank" rel="noopener" href="http://www.hudong.com/wiki/ntfs">www.hudong.com/wiki/ntfs</a><br>[4] Microsoft. Thư viện MSDN [OL]. 2012:<br>[5] Stanley B.Lippman / Josée LaJoie / Barbara E.Moo. C \ + \ + Sơn lót [M]. Addison-Wesley Professional, 2006: 10,3<br>[6] Eric S. Raymond. Người dịch: Jiang Hong, He Yuan, Cai Xiaojun. Nghệ thuật lập trình UNIX [m]. Nhà xuất bản Công nghiệp Điện tử, 2006:<br>[7] Chen Hao. Một số nguyên tắc thiết kế phần mềm [CV]. Http://coolshell.cn/articles/4535.html<br>[8] Sun Xin. Giải thích chi tiết chuyên sâu về VC ++ [m]. Ngành Điện tử, 2006<br>[9] Jim Beveridge / Robert Wiener. Ứng dụng đa luồng trong Win32: Hướng dẫn đầy đủ về chuỗi<br>[10] Addison-Wesley Professional, 1996: 223-243 </p>
<h1 id="Tom-tat-tieng-anh"><a href="#Tom-tat-tieng-anh" class="headerlink" title="Tóm tắt tiếng anh"></a>Tóm tắt tiếng anh</h1><p>** Định vị nhanh chóng các tệp đĩa NTFS ** </p>
<p>LE IH Áo </p>
<p>(Trường Thông tin &amp; Máy tính, Đại học Nông nghiệp An Huy, Hợp Phì 230036) </p>
<p>** Tóm tắt ** ： Bài viết này mô tả trên đĩa NTFS của Windows,<br>liệt kê tất cả tên của các tệp và thư mục trên đĩa cứng,<br>và xây dựng bảng băm bằng cách sử dụng C ++ STL, MFC GUI và luồng công nhân.<br>Cuối cùng, người dùng nhập từ khóa, như một tìm kiếm đơn giản như google<br>tìm kiếm từ khóa và sau đó trả về ngay lập tức tất cả các tệp / thư mục phù hợp<br>và đường dẫn hệ thống của chúng. </p>
<p>** Từ khóa: ** NTFS, Nhanh, Tìm kiếm, Từ khóa, Đường dẫn tệp </p>

    </div>

    
    
    
      
  <div class="popular-posts-header">Các bài viết liên quan</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/Go-Web/" rel="bookmark">Truy cập web</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/Learn-Go-in-20-days/" rel="bookmark">Học Go trong 20 ngày</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/ios-developer-account-and-app-store/" rel="bookmark">Tài khoản nhà phát triển iOS và cách liệt kê nó</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/count-lines-of-code/" rel="bookmark">Dòng mã</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/vi/A-simple-VS-between-Sinatra-and-Martini/" rel="bookmark">Một VS đơn giản giữa Sinatra và Martini</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me 👨‍💻 a coffee ☕️</div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    Tài trợ
  </button>
  <div class="post-reward">
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/wechat.png" alt="LeiHao WeChat Pay">
        <span>WeChat Pay</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/alipay.png" alt="LeiHao Alipay">
        <span>Alipay</span>
      </div>
      <div>
        <img src="https://raw.githubusercontent.com/LeiHao0/BlogAssets/assets/bitcoin.png" alt="LeiHao Bitcoin">
        <span>Bitcoin</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/vi/tags/programming/" rel="tag"># Programming</a>
              <a href="/vi/tags/everything/" rel="tag"># Everything</a>
              <a href="/vi/tags/ntfs/" rel="tag"># NTFS</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/vi/Before-graduation/" rel="next" title="Hơn mười ngày trước khi tốt nghiệp">
                  Hơn mười ngày trước khi tốt nghiệp <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2012 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-laptop-code"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LeiHao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Tổng số biểu tượng">512k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Tổng thời lượng đọc">7:45</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/vi/js/utils.js"></script><script src="/vi/js/next-boot.js"></script>

  




  <script src="/vi/js/local-search.js"></script>















  








  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://Artwalk.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://leihao0.github.io/vi/QSearch/";
    this.page.identifier = "QSearch/";
    this.page.title = "Nguyên lý và hiện thực hóa mọi thứ";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://Artwalk.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
